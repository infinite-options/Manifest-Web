(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,a){},126:function(e,t,a){e.exports=a(230)},131:function(e,t,a){},230:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(41),i=a.n(r),l=(a(131),a(13)),s=a(14),c=a(16),p=a(15),m=a(17),d=a(24),u=a(53),g=a(47),h=a(68),E=a.n(h),f=a(96),v=a(37),y=a(30),b=a(21),x=a.n(b),w=(a(150),a(238)),D=a(235),S=a(118),T=a(236),C=a(84),k=a(124),I=a(239),O=a(240),_=a(64);a(161);_.initializeApp({apiKey:"AIzaSyDBgPVcjoV8LbR4hDA7tm3UoP0abMw8guE",authDomain:"project-caitlin-c71a9.firebaseapp.com",databaseURL:"https://project-caitlin-c71a9.firebaseio.com",projectId:"project-caitlin-c71a9",storageBucket:"project-caitlin-c71a9.appspot.com",messagingSenderId:"711685546849",appId:"1:711685546849:web:5c7a982748eb3bec35db20",measurementId:"G-DCQF4LY5ZH"}),_.auth().signInAnonymously().catch((function(e){e.code,e.message}));var R=_.storage(),P=a(241),A=a(237),M=a(117),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).convertTimeToHRMMSS=function(e){var t=e.target.value/60,a=Math.floor(t),n=60*(t-a),o=Math.round(n);return 1===a.toString().length&&(a="0"+a),1===o.toString().length&&(o="0"+o),a+":"+o+":00"},a.convertToMinutes=function(e){if(0===e)return 0;var t=e.split(":"),a=60*t[0];return 1*t[1]+a},a.state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(O.a.Group,{controlId:"Notification"},o.a.createElement(D.a,null,o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Control,{type:"number",placeholder:"5",style:{width:"70px",marginTop:".25rem"},value:this.convertToMinutes(this.props.itemToEditPassedIn.ta_notifications.before.time),onChange:function(t){t.stopPropagation();var a=e.props.itemToEditPassedIn;a.ta_notifications.before.time=e.convertTimeToHRMMSS(t),a.user_notifications.before.time=e.convertTimeToHRMMSS(t),e.props.notificationChange(a)}})),o.a.createElement(S.a,{xs:8,style:{paddingLeft:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," Min Before Start Time"))),o.a.createElement(D.a,{style:{marginTop:"15px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," Caitlin")),o.a.createElement(S.a,{xs:8},o.a.createElement(O.a.Check,{type:"checkbox",style:{paddingLeft:"0px"}},o.a.createElement(O.a.Check.Input,{type:"checkbox",style:{width:"20px",height:"20px"},checked:this.props.itemToEditPassedIn.user_notifications.before.is_enabled,onChange:function(t){t.stopPropagation();var a=e.props.itemToEditPassedIn;a.user_notifications.before.is_enabled=!a.user_notifications.before.is_enabled,e.props.notificationChange(a)}}),o.a.createElement(O.a.Control,{as:"textarea",rows:"1",type:"text",placeholder:"Enter Message",style:{marginLeft:"10px"},value:this.props.itemToEditPassedIn.user_notifications.before.message,onChange:function(t){t.preventDefault(),t.stopPropagation();var a=e.props.itemToEditPassedIn;a.user_notifications.before.message=t.target.value,e.props.notificationChange(a)},onKeyDown:function(t){if(32===t.keyCode){var a=e.props.itemToEditPassedIn;a.user_notifications.before.message=t.target.value+" ",t.preventDefault(),t.stopPropagation(),e.props.notificationChange(a)}}})))),o.a.createElement(D.a,{style:{marginTop:"10px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," TA")),o.a.createElement(S.a,{xs:8},o.a.createElement(O.a.Check,{type:"checkbox",style:{paddingLeft:"0px"}},o.a.createElement(O.a.Check.Input,{type:"checkbox",style:{width:"20px",height:"20px"},checked:this.props.itemToEditPassedIn.ta_notifications.before.is_enabled,onChange:function(t){t.stopPropagation();var a=e.props.itemToEditPassedIn;a.ta_notifications.before.is_enabled=!a.ta_notifications.before.is_enabled,e.props.notificationChange(a)}}),o.a.createElement(O.a.Control,{as:"textarea",rows:"1",type:"text",placeholder:"Enter Message",style:{marginLeft:"10px"},value:this.props.itemToEditPassedIn.ta_notifications.before.message,onChange:function(t){t.preventDefault(),t.stopPropagation();var a=e.props.itemToEditPassedIn;a.ta_notifications.before.message=t.target.value,e.props.notificationChange(a)},onKeyDown:function(t){if(32===t.keyCode){var a=e.props.itemToEditPassedIn;a.ta_notifications.before.message=t.target.value+" ",t.preventDefault(),t.stopPropagation(),e.props.notificationChange(a)}}})))),o.a.createElement(D.a,{style:{marginTop:"10px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Control,{type:"number",placeholder:"30",style:{width:"70px",marginTop:".25rem"},value:this.convertToMinutes(this.props.itemToEditPassedIn.ta_notifications.during.time),onChange:function(t){t.stopPropagation();var a=e.props.itemToEditPassedIn;a.ta_notifications.during.time=e.convertTimeToHRMMSS(t),a.user_notifications.during.time=e.convertTimeToHRMMSS(t),e.props.notificationChange(a)}})),o.a.createElement(S.a,{xs:8,style:{paddingLeft:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," Min After Start Time"))),o.a.createElement(D.a,{style:{marginTop:"15px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," Caitlin")),o.a.createElement(S.a,{xs:8},o.a.createElement(O.a.Check,{type:"checkbox",style:{paddingLeft:"0px"}},o.a.createElement(O.a.Check.Input,{type:"checkbox",style:{width:"20px",height:"20px"},checked:this.props.itemToEditPassedIn.user_notifications.during.is_enabled,onChange:function(t){t.stopPropagation();var a=e.props.itemToEditPassedIn;a.user_notifications.during.is_enabled=!a.user_notifications.during.is_enabled,e.props.notificationChange(a)}}),o.a.createElement(O.a.Control,{as:"textarea",rows:"1",type:"text",placeholder:"Enter Message",style:{marginLeft:"10px"},value:this.props.itemToEditPassedIn.user_notifications.during.message,onChange:function(t){t.preventDefault(),t.stopPropagation();var a=e.props.itemToEditPassedIn;a.user_notifications.during.message=t.target.value,e.props.notificationChange(a)},onKeyDown:function(t){if(32===t.keyCode){var a=e.props.itemToEditPassedIn;a.user_notifications.during.message=t.target.value+" ",t.preventDefault(),t.stopPropagation(),e.props.notificationChange(a)}}})))),o.a.createElement(D.a,{style:{marginTop:"10px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," TA")),o.a.createElement(S.a,{xs:8},o.a.createElement(O.a.Check,{type:"checkbox",style:{paddingLeft:"0px"}},o.a.createElement(O.a.Check.Input,{type:"checkbox",style:{width:"20px",height:"20px"},checked:this.props.itemToEditPassedIn.ta_notifications.during.is_enabled,onChange:function(t){t.stopPropagation();var a=e.props.itemToEditPassedIn;a.ta_notifications.during.is_enabled=!a.ta_notifications.during.is_enabled,e.props.notificationChange(a)}}),o.a.createElement(O.a.Control,{as:"textarea",rows:"1",type:"text",placeholder:"Enter Message",style:{marginLeft:"10px"},value:this.props.itemToEditPassedIn.ta_notifications.during.message,onChange:function(t){t.preventDefault(),t.stopPropagation();var a=e.props.itemToEditPassedIn;a.ta_notifications.during.message=t.target.value,e.props.notificationChange(a)},onKeyDown:function(t){if(32===t.keyCode){var a=e.props.itemToEditPassedIn;a.ta_notifications.during.message=t.target.value+" ",t.preventDefault(),t.stopPropagation(),e.props.notificationChange(a)}}})))),o.a.createElement(D.a,{style:{marginTop:"10px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Control,{type:"number",placeholder:"5",style:{width:"70px",marginTop:".25rem"},value:this.convertToMinutes(this.props.itemToEditPassedIn.ta_notifications.after.time),onChange:function(t){t.stopPropagation();var a=e.props.itemToEditPassedIn;a.ta_notifications.after.time=e.convertTimeToHRMMSS(t),a.user_notifications.after.time=e.convertTimeToHRMMSS(t),e.props.notificationChange(a)}})),o.a.createElement(S.a,{xs:8,style:{paddingLeft:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," Min After End Time"))),o.a.createElement(D.a,{style:{marginTop:"15px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," Caitlin")),o.a.createElement(S.a,{xs:8},o.a.createElement(O.a.Check,{type:"checkbox",style:{paddingLeft:"0px"}},o.a.createElement(O.a.Check.Input,{type:"checkbox",style:{width:"20px",height:"20px"},checked:this.props.itemToEditPassedIn.user_notifications.after.is_enabled,onChange:function(t){t.stopPropagation();var a=e.props.itemToEditPassedIn;a.user_notifications.after.is_enabled=!a.user_notifications.after.is_enabled,e.props.notificationChange(a)}}),o.a.createElement(O.a.Control,{as:"textarea",rows:"1",type:"text",placeholder:"Enter Message",style:{marginLeft:"10px"},value:this.props.itemToEditPassedIn.user_notifications.after.message,onChange:function(t){t.preventDefault(),t.stopPropagation();var a=e.props.itemToEditPassedIn;a.user_notifications.after.message=t.target.value,e.props.notificationChange(a)},onKeyDown:function(t){if(32===t.keyCode){var a=e.props.itemToEditPassedIn;a.user_notifications.after.message=t.target.value+" ",t.preventDefault(),t.stopPropagation(),e.props.notificationChange(a)}}})))),o.a.createElement(D.a,{style:{marginTop:"10px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," TA")),o.a.createElement(S.a,{xs:8},o.a.createElement(O.a.Check,{type:"checkbox",style:{paddingLeft:"0px"}},o.a.createElement(O.a.Check.Input,{type:"checkbox",style:{width:"20px",height:"20px"},checked:this.props.itemToEditPassedIn.ta_notifications.after.is_enabled,onChange:function(t){t.stopPropagation();var a=e.props.itemToEditPassedIn;a.ta_notifications.after.is_enabled=!a.ta_notifications.after.is_enabled,e.props.notificationChange(a)}}),o.a.createElement(O.a.Control,{as:"textarea",rows:"1",type:"text",placeholder:"Enter Message",style:{marginLeft:"10px"},value:this.props.itemToEditPassedIn.ta_notifications.after.message,onChange:function(t){t.preventDefault(),t.stopPropagation();var a=e.props.itemToEditPassedIn;a.ta_notifications.after.message=t.target.value,e.props.notificationChange(a)},onKeyDown:function(t){if(32===t.keyCode){var a=e.props.itemToEditPassedIn;a.ta_notifications.after.message=t.target.value+" ",t.preventDefault(),t.stopPropagation(),e.props.notificationChange(a)}}}))))))}}]),t}(o.a.Component),L=a(43),j=a.n(L),F=a(6),G=a.n(F),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={grArr:[],itemToEdit:{title:"",id:"",is_persistent:a.props.isRoutine,photo:"",is_complete:!1,is_available:!0,available_end_time:"23:59:59",available_start_time:"00:00:00",datetime_completed:"Sun, 23 Feb 2020 00:08:43 GMT",datetime_started:"Sun, 23 Feb 2020 00:08:43 GMT",audio:"",is_timed:!1,expected_completion_time:"01:00:00",is_sublist_available:!0,ta_notifications:{before:{is_enabled:!1,is_set:!1,message:"",time:"00:05:00"},during:{is_enabled:!1,is_set:!1,message:"",time:"00:30:00"},after:{is_enabled:!1,is_set:!1,message:"",time:"00:05:00"}},user_notifications:{before:{is_enabled:!1,is_set:!1,message:"",time:"00:05:00"},during:{is_enabled:!1,is_set:!1,message:"",time:"00:30:00"},after:{is_enabled:!1,is_set:!1,message:"",time:"00:05:00"}}},routineDocsPath:_.firestore().collection("users").doc(a.props.theCurrentUserId).collection("goals&routines"),arrPath:_.firestore().collection("users").doc(a.props.theCurrentUserId),showRepeatModal:!1,repeatOption:!1,repeatOptionDropDown:"Does not repeat",repeatDropDown:"DAY",repeatDropDown_temp:"DAY",repeatMonthlyDropDown:"Monthly on day 13",repeatInputValue:"1",repeatInputValue_temp:"1",repeatOccurrence:"1",repeatOccurrence_temp:"1",repeatRadio:"Never",repeatRadio_temp:"Never",repeatEndDate:"",repeatEndDate_temp:"",byDay:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},byDay_temp:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},repeatSummary:""},a.getGRDataFromFB=function(){console.log("this is the goals and rountins from firebase",a.state.arrPath),a.state.arrPath.get().then((function(e){if(e.exists){console.log("getGRDataFromFB DATA:");var t=e.data();void 0!=t["goals&routines"]&&(t=t["goals&routines"],console.log("this is the goals and routines",t),a.setState({grArr:t}))}else console.log("No such document! 2")})).catch((function(e){console.log("Error getting document:",e),alert("Error getting document:",e)}))},a.newInputSubmit=function(){""!==a.state.itemToEdit.title?(""===a.state.itemToEdit.photo&&(a.props.isRoutine?a.state.itemToEdit.photo="https://firebasestorage.googleapis.com/v0/b/project-caitlin-c71a9.appspot.com/o/Routines-1.png?alt=media&token=5534e930-7cc1-4c5d-a6f3-fb8b6053a6a2":a.state.itemToEdit.photo="https://firebasestorage.googleapis.com/v0/b/project-caitlin-c71a9.appspot.com/o/Goals-1.png?alt=media&token=3a5fa4f2-a136-4fdd-acf7-9007c08ccdf2"),a.addNewDoc(),a.props.closeModal()):alert("Invalid Input")},a.addNewDoc=function(){a.state.routineDocsPath.add({title:a.state.itemToEdit.title,"actions&tasks":[]}).then((function(e){if(null!==e.id){console.log(e);var t=a.props.ATArray,n=a.state.itemToEdit;n.id=e.id,n.available_start_time=a.state.itemToEdit.available_start_time,n.available_end_time=a.state.itemToEdit.available_end_time,console.log("Added document with ID: ",e.id),t.push(n),a.updateEntireArray(t)}else alert("Fail to add new routine / goal item")}))},a.updateEntireArray=function(e){a.state.arrPath.update({"goals&routines":e}).then((function(e){console.log("updateEntireArray Finished"),console.log(e),a.getGRDataFromFB(),null!=a.props&&(console.log("refreshing FireBasev2 from AddNewGRItem"),a.props.refresh())}))},a.convertTimeToHRMMSS=function(e){var t=e.target.value/60,a=Math.floor(t),n=60*(t-a),o=Math.round(n);return 1===a.toString().length&&(a="0"+a),1===o.toString().length&&(o="0"+o),a+":"+o+":00"},a.convertToMinutes=function(){var e=a.state.itemToEdit.expected_completion_time.split(":"),t=60*e[0];return 1*e[1]+t},a.handleNotificationChange=function(e){a.setState({itemToEdit:e})},a.startTimePicker=function(){return console.log(a.state.itemToEdit.expected_completion_time),o.a.createElement(j.a,{className:"form-control",type:"text",selected:a.state.itemToEdit.available_start_time,onChange:function(e){a.setState((function(t){return{itemToEdit:Object(y.a)({},t.itemToEdit,{available_start_time:e})}}),(function(){console.log("starttimepicker",a.state.itemToEdit.available_start_time)}))},showTimeSelect:!0,timeIntervals:15,timeCaption:"time",dateFormat:"MMMM d, yyyy h:mm aa"})},a.endTimePicker=function(){return o.a.createElement(j.a,{className:"form-control",type:"text",selected:a.state.itemToEdit.available_end_time,onChange:function(e){a.setState((function(t){return{itemToEdit:Object(y.a)({},t.itemToEdit,{available_end_time:e})}}),(function(){console.log("endtimepicker",a.state.itemToEdit.available_end_time)}))},showTimeSelect:!0,timeIntervals:15,timeCaption:"time",dateFormat:"MMMM d, yyyy h:mm aa"})},a.openRepeatModal=function(){a.setState((function(e){return{showRepeatModal:!e.showRepeatModal}}))},a.closeRepeatModal=function(){a.setState((function(e){return{showRepeatModal:!1,repeatInputValue_temp:e.repeatInputValue,repeatOccurrence_temp:e.repeatOccurrence,repeatDropDown_temp:e.repeatDropDown,repeatRadio_temp:e.repeatRadio,repeatEndDate_temp:e.repeatEndDate,byDay_temp:e.byDay}})),a.state.repeatOption||"Custom..."!==a.state.repeatOptionDropDown||a.setState({repeatOptionDropDown:"Does not repeat"})},a.saveRepeatChanges=function(){var e=a.state,t=e.repeatDropDown_temp,n=e.repeatInputValue_temp,o=e.repeatOccurrence_temp,r=e.repeatRadio_temp,i=e.repeatEndDate_temp,l=e.byDay_temp;if(a.setState((function(e){return{showRepeatModal:!1,repeatOption:!0,repeatInputValue:e.repeatInputValue_temp,repeatOccurrence:e.repeatOccurrence_temp,repeatDropDown:e.repeatDropDown_temp,repeatRadio:e.repeatRadio_temp,repeatEndDate:e.repeatEndDate_temp,byDay:e.byDay_temp}})),"DAY"===t)"1"===n?"Never"===r?a.setState({repeatOptionDropDown:"Daily"}):"On"===r?a.setState({repeatOptionDropDown:"Daily, until ".concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Daily, ".concat(o," times")}):"Never"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," days")}):"On"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," days, until ").concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Every ".concat(n," days, ").concat(o," times")});else if("WEEK"===t){for(var s=[],c=0,p=Object.entries(l);c<p.length;c++){var m=Object(g.a)(p[c],2),d=(m[0],m[1]);""!==d&&s.push(d)}console.log(s,"selectedDays week"),"1"===n?"Never"===r?7===s.length?a.setState({repeatOptionDropDown:"Weekly on all days"}):a.setState({repeatOptionDropDown:"Weekly on ".concat(s.join(", "))}):"On"===r?7===s.length?a.setState({repeatOptionDropDown:"Weekly on all days, until ".concat(G()(i).format("LL"))}):a.setState({repeatOptionDropDown:"Weekly on ".concat(s.join(", "),", until ").concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):7===s.length?a.setState({repeatOptionDropDown:"Weekly on all days, , ".concat(o," times")}):a.setState({repeatOptionDropDown:"Weekly on ".concat(s.join(", "),", ").concat(o," times")}):"Never"===r?7===s.length?a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on all days")}):a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on ").concat(s.join(", "))}):"On"===r?7===s.length?a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on all days, until ").concat(G()(i).format("LL"))}):a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on ").concat(s.join(", "),", until ").concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):7===s.length?a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on all days, ").concat(o," times")}):a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on ").concat(s.join(", "),", ").concat(o," times")})}else"MONTH"===t?"1"===n?"Never"===r?a.setState({repeatOptionDropDown:"Monthly"}):"On"===r?a.setState({repeatOptionDropDown:"Monthly, until ".concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Monthly, ".concat(o," times")}):"Never"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," months")}):"On"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," months, until ").concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Every ".concat(n," months, ").concat(o," times")}):"YEAR"===t&&("1"===n?"Never"===r?a.setState({repeatOptionDropDown:"Annually"}):"On"===r?a.setState({repeatOptionDropDown:"Annually, until ".concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Annually, ".concat(o," times")}):"Never"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," years")}):"On"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," years, until ").concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Every ".concat(n," years, ").concat(o," times")}))},a.handleRepeatEndDate=function(e){a.setState({repeatEndDate_temp:e},console.log("handleRepeatEndDate",e,a.state.repeatEndDate))},a.handleRepeatDropDown=function(e,t){if("WEEK"===e){var n=Object(y.a)({},a.state.byDay_temp);a.setState({repeatDropDown_temp:e,byDay_temp:n})}a.setState({repeatDropDown_temp:e})},a.handleRepeatInputValue=function(e){a.setState({repeatInputValue_temp:e})},a.handleRepeatOccurrence=function(e){a.setState({repeatOccurrence_temp:e})},a.repeatModal=function(){for(var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t=(new Date,{padding:"8px 5px 8px 15px",marginLeft:"8px",background:"#F8F9FA",border:"none",width:"70px",borderRadius:"4px",marginRight:"8px"}),n=function(t,n){var o=t.target.classList;if(o.contains("selected")){o.remove("selected");var r=Object(y.a)({},a.state.byDay_temp,Object(v.a)({},n,""));a.setState({byDay_temp:r})}else{o.add("selected");var i=Object(y.a)({},a.state.byDay_temp,Object(v.a)({},n,e[n]));a.setState({byDay_temp:i})}},r=[],i=0,l=Object.entries(a.state.byDay_temp);i<l.length;i++){var s=Object(g.a)(l[i],2),c=s[0];""!==s[1]&&r.push(c)}var p=o.a.createElement(o.a.Fragment,null,"Repeat On",o.a.createElement("div",{style:{display:"flex",alignItems:"center",textAlign:"center",marginTop:"10px"}},e.map((function(e,t){return r.includes(t.toString())?o.a.createElement("span",{key:t,className:"dot selected",onClick:function(e){return n(e,t)}},e.charAt(0)):o.a.createElement("span",{key:t,className:"dot",onClick:function(e){return n(e,t)}},e.charAt(0))}))));return o.a.createElement(I.a.Dialog,{style:{position:"absolute",zIndex:"5",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"340px"}},o.a.createElement(I.a.Header,{closeButton:!0,onHide:a.closeRepeatModal},o.a.createElement(I.a.Title,null,o.a.createElement("h5",{className:"normalfancytext"},"Repeating Options"))),o.a.createElement(I.a.Body,null,o.a.createElement(O.a,null,o.a.createElement(O.a.Group,{style:{display:"flex",alignItems:"center",marginLeft:"5px"}},"Repeat every",o.a.createElement("input",{type:"number",min:"1",max:"10000",value:a.state.repeatInputValue_temp,style:t,onChange:function(e){return a.handleRepeatInputValue(e.target.value)}}),o.a.createElement(T.a,{title:a.state.repeatDropDown_temp,style:{display:"inline-block"},variant:"light"},o.a.createElement(C.a.Item,{eventKey:"DAY",onSelect:function(e){return a.handleRepeatDropDown(e)}},"day"),o.a.createElement(C.a.Item,{eventKey:"WEEK",onSelect:function(t){return a.handleRepeatDropDown(t,e)}},"week"),o.a.createElement(C.a.Item,{eventKey:"MONTH",onSelect:function(e){return a.handleRepeatDropDown(e)}},"month"),o.a.createElement(C.a.Item,{eventKey:"YEAR",onSelect:function(e){return a.handleRepeatDropDown(e)}},"year"))),o.a.createElement(O.a.Group,null,"WEEK"===a.state.repeatDropDown_temp&&p),o.a.createElement(O.a.Group,{style:{height:"140px",display:"flex",flexDirection:"column",justifyContent:"space-between",marginTop:"20px",marginLeft:"5px"},className:"repeat-form",onChange:function(e){"radio"===e.target.type&&a.setState({repeatRadio_temp:e.target.value})}},"Ends",o.a.createElement(O.a.Check,{type:"radio",style:{margin:"15px 0"}},o.a.createElement(O.a.Check.Label,null,o.a.createElement(O.a.Check.Input,{type:"radio",value:"Never",name:"radios",defaultChecked:"Never"===a.state.repeatRadio_temp&&!0}),"Never")),o.a.createElement(O.a.Check,{type:"radio",className:"editGR-datepicker"},o.a.createElement(O.a.Check.Label,null,o.a.createElement(O.a.Check.Input,{type:"radio",name:"radios",value:"On",style:{marginTop:"10px"},defaultChecked:"On"===a.state.repeatRadio_temp&&!0}),"On",o.a.createElement(j.a,{className:"date-picker-btn btn btn-light",selected:a.state.repeatEndDate_temp,onChange:function(e){return a.handleRepeatEndDate(e)}}))),o.a.createElement(O.a.Check,{type:"radio",style:{margin:"15px 0"}},o.a.createElement(O.a.Check.Label,null,o.a.createElement(O.a.Check.Input,{type:"radio",name:"radios",value:"After",style:{marginTop:"12px"},defaultChecked:"After"===a.state.repeatRadio_temp&&!0}),"After",o.a.createElement("span",{style:{marginLeft:"30px"}},o.a.createElement("input",{type:"number",min:"1",max:"10000",value:a.state.repeatOccurrence_temp,onChange:function(e){return a.handleRepeatOccurrence(e.target.value)},style:t,className:"input-exception"}),"occurrence")))))),o.a.createElement(I.a.Footer,null,o.a.createElement(k.a,{variant:"secondary",onClick:a.closeRepeatModal},"Cancel"),o.a.createElement(k.a,{variant:"primary",onClick:a.saveRepeatChanges},"Save changes")))},console.log("Is this a Routine? "+a.props.isRoutine),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.isRoutine?console.log("Routine Input"):console.log("Goal Input"),this.getGRDataFromFB()}},{key:"render",value:function(){var e=this;return o.a.createElement(I.a.Dialog,{style:{marginLeft:"0",width:this.props.width}},o.a.createElement(I.a.Header,{closeButton:!0,onHide:this.props.closeModal},o.a.createElement(I.a.Title,null,o.a.createElement("h5",{className:"normalfancytext"},"Add New ",this.props.isRoutine?"Routine":"Goal")," ")),o.a.createElement(I.a.Body,null,this.state.showRepeatModal&&this.repeatModal(),o.a.createElement(O.a,null,o.a.createElement(O.a.Group,null,o.a.createElement(O.a.Label,null,"Title"),o.a.createElement(O.a.Control,{value:this.state.itemToEdit.title,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.title=t.target.value,e.setState({itemToEdit:a})},type:"text",placeholder:"Enter Title"})),o.a.createElement(O.a.Group,null,o.a.createElement(O.a.Label,null,"Photo URL"),o.a.createElement(O.a.Control,{value:this.state.itemToEdit.photo,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.photo=t.target.value,e.setState({itemToEdit:a})},type:"text",placeholder:"Enter Photo URL"})),o.a.createElement("label",null,"Available Start Time"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"HH:MM:SS (ex: 16:20:00) ",value:this.state.itemToEdit.available_start_time,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.available_start_time=t.target.value,e.setState({itemToEdit:a})}})),o.a.createElement("label",null,"Available End Time"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"HH:MM:SS (ex: 16:20:00) ",value:this.state.itemToEdit.available_end_time,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.available_end_time=t.target.value,e.setState({itemToEdit:a})}})),o.a.createElement("div",null,o.a.createElement("label",null,"Repeating Options"),o.a.createElement(T.a,{className:"repeatOptionDropDown",title:this.state.repeatOptionDropDown,variant:"light"},o.a.createElement(C.a.Item,{eventKey:"Does not repeat",onSelect:function(t){return e.setState({repeatOptionDropDown:t,repeatOption:!1})}},"Does not repeat"),o.a.createElement(C.a.Item,{eventKey:"Custom...",onSelect:function(t){e.openRepeatModal()}},"Custom..."))),o.a.createElement("div",{style:{marginTop:"20px"}},o.a.createElement("label",null,"This Takes Me"),o.a.createElement(D.a,null,o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Control,{type:"number",placeholder:"30",value:this.convertToMinutes(),style:{marginTop:".25rem",paddingRight:"0px"},onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.expected_completion_time=e.convertTimeToHRMMSS(t),e.setState({itemToEdit:a})}})),o.a.createElement(S.a,{xs:8,style:{paddingLeft:"0px"}},o.a.createElement("p",{style:{marginLeft:"10px",marginTop:"5px"}},"minutes")))),o.a.createElement("div",{className:"input-group mb-3",style:{marginTop:"10px"}},o.a.createElement("label",{className:"form-check-label"},"Time?"),o.a.createElement("input",{style:{marginTop:"5px",marginLeft:"5px"},name:"Timed",type:"checkbox",checked:this.state.itemToEdit.is_timed,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;console.log(a.is_timed),a.is_timed=!a.is_timed,e.setState({itemToEdit:a})}})),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("label",{className:"form-check-label"},"Available to Caitlin?"),o.a.createElement("input",{style:{marginTop:"5px",marginLeft:"5px"},name:"Available",type:"checkbox",checked:this.state.itemToEdit.is_available,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.is_available=t.target.checked,e.setState({itemToEdit:a})}})),this.state.itemToEdit.is_available&&o.a.createElement(N,{itemToEditPassedIn:this.state.itemToEdit,notificationChange:this.handleNotificationChange}))),o.a.createElement(I.a.Footer,null,o.a.createElement(k.a,{variant:"secondary",onClick:this.props.closeModal},"Close"),o.a.createElement(k.a,{variant:"info",onClick:this.newInputSubmit},"Save changes")))}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).newInputSubmit=function(){""!==a.state.itemToEdit.title?a.addNewDoc():alert("Invalid Input")},a.addNewDoc=function(){a.props.ATItem.fbPath.collection("actions&tasks").add({title:a.state.itemToEdit.title,"instructions&steps":[]}).then((function(e){if(null!==e.id){console.log("Added document with ID: ",e.id);var t=a.props.ATArray,n=a.state.itemToEdit;n.id=e.id,t.push(n),console.log(t),console.log("adding new item"),a.updateEntireArray(t)}else alert("Fail to add new Action / Task item")}))},a.updateEntireArray=function(e){a.props.ATItem.fbPath.update({"actions&tasks":e}).then((function(t){console.log("updateEntireArray Finished"),console.log(t),null!=a.props&&(a.props.hideNewATModal(),console.log("refreshing FireBasev2 from AddNewATItem"),a.props.refresh(e))}))},a.convertTimeToHRMMSS=function(e){var t=e.target.value/60,a=Math.floor(t),n=60*(t-a),o=Math.round(n);return 1===a.toString().length&&(a="0"+a),1===o.toString().length&&(o="0"+o),a+":"+o+":00"},a.convertToMinutes=function(){var e=a.state.itemToEdit.expected_completion_time.split(":"),t=60*e[0];return 1*e[1]+t},a.handleNotificationChange=function(e){a.setState({itemToEdit:e})},console.log("AddNewATItem constructor"),a.state={newActionTitle:"",itemToEdit:{id:"",title:"",photo:"",audio:"",is_complete:!1,is_available:!0,available_end_time:"23:59:59",available_start_time:"00:00:00",datetime_completed:"Sun, 23 Feb 2020 00:08:43 GMT",datetime_started:"Sun, 23 Feb 2020 00:08:43 GMT",is_timed:!1,expected_completion_time:"00:11:00",is_sublist_available:!0,ta_notifications:{before:{is_enabled:!1,is_set:!1,message:"",time:"00:05:00"},during:{is_enabled:!1,is_set:!1,message:"",time:"00:30:00"},after:{is_enabled:!1,is_set:!1,message:"",time:"00:05:00"}},user_notifications:{before:{is_enabled:!1,is_set:!1,message:"",time:"00:05:00"},during:{is_enabled:!1,is_set:!1,message:"",time:"00:30:00"},after:{is_enabled:!1,is_set:!1,message:"",time:"00:05:00"}}}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement(I.a.Dialog,{style:{marginLeft:"0",width:this.props.width}},o.a.createElement(I.a.Header,{closeButton:!0,onHide:function(){e.props.hideNewATModal(),console.log("closed button clicked")}},o.a.createElement(I.a.Title,null,o.a.createElement("h2",{className:"normalfancytext"},"Add New Task/Action")," ")),o.a.createElement(I.a.Body,null,o.a.createElement("div",null,o.a.createElement("label",null,"Title"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"Enter Title",value:this.state.itemToEdit.title,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.title=t.target.value,e.setState({itemToEdit:a})}})),o.a.createElement("label",null,"Photo URL"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"Enter Photo URL ",value:this.state.itemToEdit.photo,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.photo=t.target.value,e.setState({itemToEdit:a})}})),o.a.createElement("label",null,"Available Start Time"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"HH:MM:SS (ex: 08:20:00) ",value:this.state.itemToEdit.available_start_time,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.available_start_time=t.target.value,e.setState({itemToEdit:a})}})),o.a.createElement("label",null,"Available End Time"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"HH:MM:SS (ex: 16:20:00) ",value:this.state.itemToEdit.available_end_time,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.available_end_time=t.target.value,e.setState({itemToEdit:a})}})),o.a.createElement("label",null,"This Takes Me"),o.a.createElement(D.a,null,o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Control,{type:"number",placeholder:"30",value:this.convertToMinutes(),style:{marginTop:".25rem",paddingRight:"0px"},onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.expected_completion_time=e.convertTimeToHRMMSS(t),e.setState({itemToEdit:a})}})),o.a.createElement(S.a,{xs:8,style:{paddingLeft:"0px"}},o.a.createElement("p",{style:{marginLeft:"10px",marginTop:"5px"}},"minutes"))),o.a.createElement("div",{className:"input-group mb-3",style:{marginTop:"10px"}},o.a.createElement("label",{className:"form-check-label"},"Time?"),o.a.createElement("input",{style:{marginTop:"5px",marginLeft:"5px"},name:"Timed",type:"checkbox",checked:this.state.itemToEdit.is_timed,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.is_timed=!a.is_timed,e.setState({itemToEdit:a})}})),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("label",{className:"form-check-label"},"Available to Caitlin?"),o.a.createElement("input",{style:{marginTop:"5px",marginLeft:"5px"},name:"Available",type:"checkbox",checked:this.state.itemToEdit.is_available,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.is_available=!a.is_available,e.setState({itemToEdit:a})}})),this.state.itemToEdit.is_available&&o.a.createElement(N,{itemToEditPassedIn:this.state.itemToEdit,notificationChange:this.handleNotificationChange}))),o.a.createElement(I.a.Footer,null,o.a.createElement(k.a,{variant:"secondary",onClick:function(){e.props.hideNewATModal(),console.log("closed button clicked")}},"Close"),o.a.createElement(k.a,{variant:"info",onClick:function(){e.newInputSubmit()}},"Save changes")))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={atArr:[],newInstructionTitle:"",itemToEdit:{id:"",title:"",photo:"",is_complete:!1,is_available:!0,available_end_time:"23:59:59",available_start_time:"00:00:00",datetime_completed:"Sun, 23 Feb 2020 00:08:43 GMT",datetime_started:"Sun, 23 Feb 2020 00:08:43 GMT",audio:"",is_timed:!1,expected_completion_time:"00:10:00",ta_notifications:{before:{is_enabled:!1,is_set:!1,message:"",time:"00:05:00"},during:{is_enabled:!1,is_set:!1,message:"",time:"00:30:00"},after:{is_enabled:!1,is_set:!1,message:"",time:"00:05:00"}},user_notifications:{before:{is_enabled:!1,is_set:!1,message:"",time:"00:05:00"},during:{is_enabled:!1,is_set:!1,message:"",time:"00:30:00"},after:{is_enabled:!1,is_set:!1,message:"",time:"00:05:00"}}}},a.handleInputChange=function(e){console.log(e.target.value),a.setState({newInstructionTitle:e.target.value})},a.newInputSubmit=function(){""!==a.state.itemToEdit.title?(console.log("Submitting Input: "+a.state.itemToEdit.title),a.props.ISArray.push(a.state.itemToEdit),a.updateEntireArray(a.props.ISArray)):alert("Invalid Input")},a.updateEntireArray=function(e){a.props.ISItem.fbPath.update({"instructions&steps":e}).then((function(t){console.log("updateEntireArray Finished"),console.log(t),null!=a.props?(a.props.hideNewISModal(),console.log("refreshing FireBasev2 from ISItem"),a.props.refresh(e)):(console.log("removing newly added item due to failure"),a.props.ISArray.pop())}))},a.convertTimeToHRMMSS=function(e){var t=e.target.value/60,a=Math.floor(t),n=60*(t-a),o=Math.round(n);return 1===a.toString().length&&(a="0"+a),1===o.toString().length&&(o="0"+o),a+":"+o+":00"},a.convertToMinutes=function(){var e=a.state.itemToEdit.expected_completion_time.split(":"),t=60*e[0];return 1*e[1]+t},a.handleNotificationChange=function(e){a.setState({itemToEdit:e})},console.log("AddNewISItem constructor"),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement(I.a.Dialog,{style:{marginLeft:"0",width:this.props.width}},o.a.createElement(I.a.Header,{closeButton:!0,onHide:function(){e.props.hideNewISModal(),console.log("closed button clicked")}},o.a.createElement(I.a.Title,null,o.a.createElement("h2",{className:"normalfancytext"},"Add New Step")," ")),o.a.createElement(I.a.Body,null,o.a.createElement("div",null,o.a.createElement("label",null,"Title"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"Enter Title",value:this.state.itemToEdit.title,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.title=t.target.value,e.setState({itemToEdit:a})}})),o.a.createElement("label",null,"Photo URL"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"Enter Photo URL ",value:this.state.itemToEdit.photo,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.photo=t.target.value,e.setState({itemToEdit:a})}})),o.a.createElement("label",null,"Available Start Time"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"HH:MM:SS (ex: 08:20:00) ",value:this.state.itemToEdit.available_start_time,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.available_start_time=t.target.value,e.setState({itemToEdit:a})}})),o.a.createElement("label",null,"Available End Time"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"HH:MM:SS (ex: 16:20:00) ",value:this.state.itemToEdit.available_end_time,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.available_end_time=t.target.value,e.setState({itemToEdit:a})}})),o.a.createElement("label",null,"This Takes Me"),o.a.createElement(D.a,null,o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Control,{type:"number",placeholder:"30",value:this.convertToMinutes(),style:{marginTop:".25rem",paddingRight:"0px"},onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.expected_completion_time=e.convertTimeToHRMMSS(t),e.setState({itemToEdit:a})}})),o.a.createElement(S.a,{xs:8,style:{paddingLeft:"0px"}},o.a.createElement("p",{style:{marginLeft:"10px",marginTop:"5px"}},"minutes"))),o.a.createElement("div",{className:"input-group mb-3",style:{marginTop:"10px"}},o.a.createElement("label",{className:"form-check-label"},"Time?"),o.a.createElement("input",{style:{marginTop:"5px",marginLeft:"5px"},name:"Timed",type:"checkbox",checked:this.state.itemToEdit.is_timed,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.is_timed=!a.is_timed,e.setState({itemToEdit:a})}})),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("label",{className:"form-check-label"},"Available to Caitlin?"),o.a.createElement("input",{style:{marginTop:"5px",marginLeft:"5px"},name:"Available",type:"checkbox",checked:this.state.itemToEdit.is_available,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.is_available=!a.is_available,e.setState({itemToEdit:a})}})),this.state.itemToEdit.is_available&&o.a.createElement(N,{itemToEditPassedIn:this.state.itemToEdit,notificationChange:this.handleNotificationChange}))),o.a.createElement(I.a.Footer,null,o.a.createElement(k.a,{variant:"secondary",onClick:function(){e.props.hideNewISModal(),console.log("closed button clicked")}},"Close"),o.a.createElement(k.a,{variant:"info",onClick:function(){e.newInputSubmit()}},"Save changes")))}}]),t}(n.Component),z=a(25),V=a(11),Y=a(12),W=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).submitRequest=function(){var e=Object(z.a)(a.props.ISArray),t=a.props.deleteIndex,n=e.slice(0,t).concat(e.slice(t+1,e.length));a.props.ISItem.fbPath.update({"instructions&steps":n}).then((function(e){null!=a.props?a.props.refresh(n):console.log("delete failure")}))},a.confirmation=function(){!0!==window.confirm("Confirm Delete")||a.submitRequest()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(V.a,{onMouseOver:function(e){e.target.style.color="#48D6D2"},onMouseOut:function(e){e.target.style.color="#000000"},style:{color:"#000000",marginRight:"15px",marginLeft:"5px"},onClick:function(t){t.stopPropagation(),e.confirmation()},icon:Y.h,size:"lg"}))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).submitRequest=function(){a.props.deleteIndex<0?console.log("deleteAT index error"):a.tempdeleteArrPortion()},a.tempdeleteArrPortion=function(){var e=Object(z.a)(a.props.Array)[a.props.deleteIndex].id,t={data:{path:a.props.Item.fbPath.path+"/"+a.props.type+"/"+e}};console.log("path "+a.props.Item.fbPath.path);var n={headers:{"content-type":"application/json"},body:JSON.stringify(t),method:"POST"};fetch("https://cors-anywhere.herokuapp.com/https://us-central1-project-caitlin-c71a9.cloudfunctions.net/RecursiveDelete",n).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.error(e)}));var o=Object(z.a)(a.props.Array),r=a.props.deleteIndex,i=o.slice(0,r).concat(o.slice(r+1,o.length));a.props.Item.fbPath.update({"actions&tasks":i}).then((function(e){null!=a.props?a.props.refresh(o):console.log("delete failure")}))},a.deleteArrPortion=function(){var e=Object(z.a)(a.props.Array),t=a.props.deleteIndex,n=e.slice(0,t).concat(e.slice(t+1,e.length));a.props.Item.fbPath.update({"actions&tasks":n}).then((function(e){null!=a.props?a.props.refresh(n):console.log("delete failure")}))},a.confirmation=function(){!0!==window.confirm("Confirm Delete")||a.submitRequest()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{marginLeft:"5px"}},o.a.createElement(V.a,{onMouseOver:function(e){e.target.style.color="#48D6D2"},onMouseOut:function(e){e.target.style.color="#000000"},style:{marginRight:"15px",color:"#000000"},onClick:function(t){t.stopPropagation(),e.confirmation()},icon:Y.h,size:"lg"}))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).submitRequest=function(){a.props.deleteIndex<0?console.log("invalid index exiting delete"):a.tempdeleteArrPortion()},a.tempdeleteArrPortion=function(){var e=Object(z.a)(a.props.Array)[a.props.deleteIndex].id,t={data:{path:a.props.Path.path+"/goals&routines/"+e}};console.log("path "+a.props.Path.path+"/"+a.props.type+"/"+e);var n={headers:{"content-type":"application/json"},body:JSON.stringify(t),method:"POST"};fetch("https://cors-anywhere.herokuapp.com/https://us-central1-project-caitlin-c71a9.cloudfunctions.net/RecursiveDelete",n).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.error(e)}));var o=Object(z.a)(a.props.Array),r=a.props.deleteIndex,i=o.slice(0,r).concat(o.slice(r+1,o.length));a.props.Path.update({"goals&routines":i}).then((function(e){null!=a.props?a.props.refresh():console.log("delete failure")}))},a.deleteArrPortion=function(){var e=Object(z.a)(a.props.Array),t=a.props.deleteIndex,n=e.slice(0,t).concat(e.slice(t+1,e.length));a.props.Path.update({"goals&routines":n}).then((function(e){null!=a.props?a.props.refresh():console.log("delete failure")}))},a.confirmation=function(){!0!==window.confirm("Confirm Delete")?console.log("Delete Not Confirm"):a.submitRequest()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{marginLeft:"5px"}},o.a.createElement(V.a,{title:"Delete Item",onMouseOver:function(e){e.target.style.color="#48D6D2"},onMouseOut:function(e){e.target.style.color="#000000"},style:{marginRight:"15px",color:"#000000"},onClick:function(t){t.stopPropagation(),e.confirmation()},icon:Y.h,size:"lg"}))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).newInputSubmit=function(){var e=a.props.ATArray;e[a.props.i]=a.state.itemToEdit,e[a.props.i].audio||(e[a.props.i].audio=""),e[a.props.i].datetime_completed||(e[a.props.i].datetime_completed="Sun, 23 Feb 2020 00:08:43 GMT"),e[a.props.i].datetime_started||(e[a.props.i].datetime_started="Sun, 23 Feb 2020 00:08:43 GMT"),a.props.FBPath.update({"goals&routines":e}).then((function(t){a.setState({showEditModal:!1}),null!=a.props?a.props.refresh(e):console.log("update failure")}))},a.startTimePicker=function(){return o.a.createElement(j.a,{className:"form-control form-control-lg",type:"text",style:{width:"100%"},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",selected:a.state.itemToEdit.available_start_time?a.state.itemToEdit.available_start_time:new Date,onChange:function(e){var t=a.state.itemToEdit;t.available_start_time=e,a.setState({itemToEdit:t})}})},a.convertTimeToHRMMSS=function(e){var t=e.target.value/60,a=Math.floor(t),n=60*(t-a),o=Math.round(n);return 1===a.toString().length&&(a="0"+a),1===o.toString().length&&(o="0"+o),a+":"+o+":00"},a.convertToMinutes=function(){var e=a.state.itemToEdit.expected_completion_time.split(":"),t=60*e[0];return 1*e[1]+t},a.handleNotificationChange=function(e){a.setState({itemToEdit:e})},a.openRepeatModal=function(){a.setState((function(e){return{showRepeatModal:!e.showRepeatModal}}))},a.closeRepeatModal=function(){a.setState((function(e){return{showRepeatModal:!1,repeatInputValue_temp:e.repeatInputValue,repeatOccurrence_temp:e.repeatOccurrence,repeatDropDown_temp:e.repeatDropDown,repeatRadio_temp:e.repeatRadio,repeatEndDate_temp:e.repeatEndDate,byDay_temp:e.byDay}})),a.state.repeatOption||"Custom..."!==a.state.repeatOptionDropDown||a.setState({repeatOptionDropDown:"Does not repeat"})},a.saveRepeatChanges=function(){var e=a.state,t=e.repeatDropDown_temp,n=e.repeatInputValue_temp,o=e.repeatOccurrence_temp,r=e.repeatRadio_temp,i=e.repeatEndDate_temp,l=e.byDay_temp;if(a.setState((function(e){return{showRepeatModal:!1,repeatOption:!0,repeatInputValue:e.repeatInputValue_temp,repeatOccurrence:e.repeatOccurrence_temp,repeatDropDown:e.repeatDropDown_temp,repeatRadio:e.repeatRadio_temp,repeatEndDate:e.repeatEndDate_temp,byDay:e.byDay_temp}})),"DAY"===t)"1"===n?"Never"===r?a.setState({repeatOptionDropDown:"Daily"}):"On"===r?a.setState({repeatOptionDropDown:"Daily, until ".concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Daily, ".concat(o," times")}):"Never"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," days")}):"On"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," days, until ").concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Every ".concat(n," days, ").concat(o," times")});else if("WEEK"===t){for(var s=[],c=0,p=Object.entries(l);c<p.length;c++){var m=Object(g.a)(p[c],2),d=(m[0],m[1]);""!==d&&s.push(d)}console.log(s,"selectedDays week"),"1"===n?"Never"===r?7===s.length?a.setState({repeatOptionDropDown:"Weekly on all days"}):a.setState({repeatOptionDropDown:"Weekly on ".concat(s.join(", "))}):"On"===r?7===s.length?a.setState({repeatOptionDropDown:"Weekly on all days, until ".concat(G()(i).format("LL"))}):a.setState({repeatOptionDropDown:"Weekly on ".concat(s.join(", "),", until ").concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):7===s.length?a.setState({repeatOptionDropDown:"Weekly on all days, , ".concat(o," times")}):a.setState({repeatOptionDropDown:"Weekly on ".concat(s.join(", "),", ").concat(o," times")}):"Never"===r?7===s.length?a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on all days")}):a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on ").concat(s.join(", "))}):"On"===r?7===s.length?a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on all days, until ").concat(G()(i).format("LL"))}):a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on ").concat(s.join(", "),", until ").concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):7===s.length?a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on all days, ").concat(o," times")}):a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on ").concat(s.join(", "),", ").concat(o," times")})}else"MONTH"===t?"1"===n?"Never"===r?a.setState({repeatOptionDropDown:"Monthly"}):"On"===r?a.setState({repeatOptionDropDown:"Monthly, until ".concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Monthly, ".concat(o," times")}):"Never"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," months")}):"On"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," months, until ").concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Every ".concat(n," months, ").concat(o," times")}):"YEAR"===t&&("1"===n?"Never"===r?a.setState({repeatOptionDropDown:"Annually"}):"On"===r?a.setState({repeatOptionDropDown:"Annually, until ".concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Annually, ".concat(o," times")}):"Never"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," years")}):"On"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," years, until ").concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Every ".concat(n," years, ").concat(o," times")}))},a.handleRepeatEndDate=function(e){a.setState({repeatEndDate_temp:e},console.log("handleRepeatEndDate",e,a.state.repeatEndDate))},a.handleRepeatDropDown=function(e,t){if("WEEK"===e){var n=Object(y.a)({},a.state.byDay_temp);a.setState({repeatDropDown_temp:e,byDay_temp:n})}a.setState({repeatDropDown_temp:e})},a.handleRepeatInputValue=function(e){a.setState({repeatInputValue_temp:e})},a.handleRepeatOccurrence=function(e){a.setState({repeatOccurrence_temp:e})},a.editGRForm=function(){var e=G()(a.state.itemToEdit.available_start_time).format("LLL"),t=G()(a.state.itemToEdit.available_end_time).format("LLL");return console.log(e),o.a.createElement(D.a,{style:{marginLeft:a.props.marginLeftV,border:"2px",padding:"20px",marginTop:"10px"}},o.a.createElement("label",null,"Title"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"Enter Title",value:a.state.itemToEdit.title,onChange:function(e){e.preventDefault(),e.stopPropagation();var t=a.state.itemToEdit;t.title=e.target.value,a.setState({itemToEdit:t})},onKeyDown:function(e){if(32===e.keyCode){var t=a.state.itemToEdit;t.title=e.target.value+" ",a.setState({itemToEdit:t}),e.preventDefault(),e.stopPropagation()}}})),o.a.createElement("label",null,"Photo URL"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"Enter Photo URL ",value:a.state.itemToEdit.photo,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.photo=e.target.value,a.setState({itemToEdit:t})}})),o.a.createElement("label",null,"Available Start Time"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"HH:MM:SS (ex: 08:20:00) ",value:e.includes("date")?a.state.itemToEdit.available_start_time:e,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.available_start_time=e.target.value,a.setState({itemToEdit:t})}})),o.a.createElement("label",null,"Available End Time"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"HH:MM:SS (ex: 16:20:00) ",value:t.includes("date")?a.state.itemToEdit.available_end_time:t,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.available_end_time=e.target.value,a.setState({itemToEdit:t})}})),o.a.createElement("div",null,o.a.createElement("label",null,"Repeating Options"),o.a.createElement(T.a,{className:"repeatOptionDropDown",title:a.state.repeatOptionDropDown,variant:"light"},o.a.createElement(C.a.Item,{eventKey:"Does not repeat",onSelect:function(e){return a.setState({repeatOptionDropDown:e,repeatOption:!1})}},"Does not repeat"),o.a.createElement(C.a.Item,{eventKey:"Custom...",onSelect:function(e){a.openRepeatModal()}},"Custom..."))),o.a.createElement("div",{style:{marginTop:"20px"}},o.a.createElement("label",null,"This Takes Me"),o.a.createElement(D.a,null,o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Control,{type:"number",placeholder:"30",value:a.convertToMinutes(),style:{marginTop:".25rem",paddingRight:"0px"},onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.expected_completion_time=a.convertTimeToHRMMSS(e),a.setState({itemToEdit:t})}})),o.a.createElement(S.a,{xs:8,style:{paddingLeft:"0px"}},o.a.createElement("p",{style:{marginLeft:"10px",marginTop:"5px"}},"minutes")))),o.a.createElement("div",{className:"input-group mb-3",style:{marginTop:"10px"}},o.a.createElement("label",{className:"form-check-label"},"Time?"),o.a.createElement("input",{style:{marginTop:"5px",marginLeft:"5px"},name:"Timed",type:"checkbox",checked:a.state.itemToEdit.is_timed,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.is_timed=!t.is_timed,a.setState({itemToEdit:t})}})),o.a.createElement("div",{className:"input-group mb-3",style:{marginTop:"10px"}},o.a.createElement("label",{className:"form-check-label"},"Available to Caitlin?"),o.a.createElement("input",{style:{marginTop:"5px",marginLeft:"5px"},name:"Available",type:"checkbox",checked:a.state.itemToEdit.is_available,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.is_available=!t.is_available,a.setState({itemToEdit:t})}})),a.state.itemToEdit.is_available&&o.a.createElement(N,{itemToEditPassedIn:a.state.itemToEdit,notificationChange:a.handleNotificationChange}),o.a.createElement(k.a,{variant:"secondary",onClick:function(e){e.stopPropagation(),a.setState({showEditModal:!1})}},"Close"),o.a.createElement(k.a,{variant:"info",onClick:function(e){e.stopPropagation(),a.newInputSubmit()}},"Save changes"))},a.repeatModal=function(){for(var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t={padding:"8px 5px 8px 15px",marginLeft:"8px",background:"#F8F9FA",border:"none",width:"70px",borderRadius:"4px",marginRight:"8px"},n=function(t,n){var o=t.target.classList;if(o.contains("selected")){o.remove("selected");var r=Object(y.a)({},a.state.byDay_temp,Object(v.a)({},n,""));a.setState({byDay_temp:r})}else{o.add("selected");var i=Object(y.a)({},a.state.byDay_temp,Object(v.a)({},n,e[n]));a.setState({byDay_temp:i})}},r=[],i=0,l=Object.entries(a.state.byDay_temp);i<l.length;i++){var s=Object(g.a)(l[i],2),c=s[0];""!==s[1]&&r.push(c)}var p=o.a.createElement(o.a.Fragment,null,"Repeat On",o.a.createElement("div",{style:{display:"flex",alignItems:"center",textAlign:"center",marginTop:"10px"}},e.map((function(e,t){return r.includes(t.toString())?o.a.createElement("span",{key:t,className:"dot selected",onClick:function(e){return n(e,t)}},e.charAt(0)):o.a.createElement("span",{key:t,className:"dot",onClick:function(e){return n(e,t)}},e.charAt(0))}))));return o.a.createElement(I.a.Dialog,{style:{position:"absolute",zIndex:"5",left:"-20%",top:"45%",transform:"translate(-50%, -50%)",width:"300px"}},o.a.createElement(I.a.Header,{closeButton:!0,onHide:a.closeRepeatModal},o.a.createElement(I.a.Title,null,o.a.createElement("h5",{className:"normalfancytext"},"Repeating Options"))),o.a.createElement(I.a.Body,null,o.a.createElement(O.a,null,o.a.createElement(O.a.Group,{style:{display:"flex",alignItems:"center",marginLeft:"5px"}},"Repeat every",o.a.createElement("input",{type:"number",min:"1",max:"10000",value:a.state.repeatInputValue_temp,style:t,onChange:function(e){return a.handleRepeatInputValue(e.target.value)}}),o.a.createElement(T.a,{title:a.state.repeatDropDown_temp,style:{display:"inline-block"},variant:"light"},o.a.createElement(C.a.Item,{eventKey:"DAY",onSelect:function(e){return a.handleRepeatDropDown(e)}},"day"),o.a.createElement(C.a.Item,{eventKey:"WEEK",onSelect:function(t){return a.handleRepeatDropDown(t,e)}},"week"),o.a.createElement(C.a.Item,{eventKey:"MONTH",onSelect:function(e){return a.handleRepeatDropDown(e)}},"month"),o.a.createElement(C.a.Item,{eventKey:"YEAR",onSelect:function(e){return a.handleRepeatDropDown(e)}},"year"))),o.a.createElement(O.a.Group,null,"WEEK"===a.state.repeatDropDown_temp&&p),o.a.createElement(O.a.Group,{style:{height:"140px",display:"flex",flexDirection:"column",justifyContent:"space-between",marginTop:"20px",marginLeft:"5px"},className:"repeat-form",onChange:function(e){"radio"===e.target.type&&a.setState({repeatRadio_temp:e.target.value})}},"Ends",o.a.createElement(O.a.Check,{type:"radio",style:{margin:"15px 0"}},o.a.createElement(O.a.Check.Label,null,o.a.createElement(O.a.Check.Input,{type:"radio",value:"Never",name:"radios",defaultChecked:"Never"===a.state.repeatRadio_temp&&!0}),"Never")),o.a.createElement(O.a.Check,{type:"radio",className:"editGR-datepicker"},o.a.createElement(O.a.Check.Label,null,o.a.createElement(O.a.Check.Input,{type:"radio",name:"radios",value:"On",style:{marginTop:"10px"},defaultChecked:"On"===a.state.repeatRadio_temp&&!0}),"On",o.a.createElement(j.a,{className:"date-picker-btn btn btn-light",selected:a.state.repeatEndDate_temp,onChange:function(e){return a.handleRepeatEndDate(e)}}))),o.a.createElement(O.a.Check,{type:"radio",style:{margin:"15px 0"}},o.a.createElement(O.a.Check.Label,null,o.a.createElement(O.a.Check.Input,{type:"radio",name:"radios",value:"After",style:{marginTop:"12px"},defaultChecked:"After"===a.state.repeatRadio_temp&&!0}),"After",o.a.createElement("span",{style:{marginLeft:"30px"}},o.a.createElement("input",{type:"number",min:"1",max:"10000",value:a.state.repeatOccurrence_temp,onChange:function(e){return a.handleRepeatOccurrence(e.target.value)},style:t,className:"input-exception"}),"occurrence")))))),o.a.createElement(I.a.Footer,null,o.a.createElement(k.a,{variant:"secondary",onClick:a.closeRepeatModal},"Cancel"),o.a.createElement(k.a,{variant:"primary",onClick:a.saveRepeatChanges},"Save changes")))},a.showIcon=function(){return o.a.createElement("div",{style:{marginLeft:"5px"}},o.a.createElement(V.a,{title:"Edit Item",onMouseOver:function(e){e.target.style.color="#48D6D2"},onMouseOut:function(e){e.target.style.color="#000000"},style:{color:"#000000"},onClick:function(e){e.stopPropagation(),a.setState({showEditModal:!0})},icon:Y.c,size:"lg"}))},a.state={showEditModal:!1,itemToEdit:a.props.ATArray[a.props.i],showRepeatModal:!1,repeatOption:!1,repeatOptionDropDown:"Does not repeat",repeatDropDown:"DAY",repeatDropDown_temp:"DAY",repeatMonthlyDropDown:"Monthly on day 13",repeatInputValue:"1",repeatInputValue_temp:"1",repeatOccurrence:"1",repeatOccurrence_temp:"1",repeatRadio:"Never",repeatRadio_temp:"Never",repeatEndDate:"",repeatEndDate_temp:"",byDay:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},byDay_temp:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},repeatSummary:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.ATArray!==this.props.ATArray&&this.setState({itemToEdit:this.props.ATArray[this.props.i]})}},{key:"render",value:function(){return o.a.createElement("div",{onClick:function(e){e.stopPropagation()}},this.state.showEditModal?o.a.createElement("div",null):this.showIcon(),this.state.showEditModal?this.editGRForm():o.a.createElement("div",null," "),this.state.showRepeatModal&&this.repeatModal())}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).newInputSubmit=function(){var e=a.props.ISArray;e[a.props.i]=a.state.itemToEdit,e[a.props.i].datetime_completed||(e[a.props.i].datetime_completed="Sun, 23 Feb 2020 00:08:43 GMT"),e[a.props.i].datetime_started||(e[a.props.i].datetime_started="Sun, 23 Feb 2020 00:08:43 GMT"),e[a.props.i].audio||(e[a.props.i].audio=""),a.props.FBPath.update({"instructions&steps":e}).then((function(t){null!=a.props?(a.setState({showEditModal:!1}),a.props.refresh(e)):console.log("update failure")}))},a.convertTimeToHRMMSS=function(e){var t=e.target.value/60,a=Math.floor(t),n=60*(t-a),o=Math.round(n);return 1===a.toString().length&&(a="0"+a),1===o.toString().length&&(o="0"+o),a+":"+o+":00"},a.convertToMinutes=function(){var e=a.state.itemToEdit.expected_completion_time.split(":"),t=60*e[0];return 1*e[1]+t},a.handleNotificationChange=function(e){a.setState({itemToEdit:e})},a.editISForm=function(){return o.a.createElement(D.a,{style:{marginLeft:a.props.marginLeftV,border:"2px",padding:"20px",marginTop:"10px"}},o.a.createElement("label",null,"Title"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"Enter Title",value:a.state.itemToEdit.title,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.title=e.target.value,a.setState({itemToEdit:t})}})),o.a.createElement("label",null,"Photo URL"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"Enter Photo URL ",value:a.state.itemToEdit.photo,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.photo=e.target.value,a.setState({itemToEdit:t})}})),o.a.createElement("label",null,"Available Start Time"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"HH:MM:SS (ex: 08:20:00) ",value:a.state.itemToEdit.available_start_time,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.available_start_time=e.target.value,a.setState({itemToEdit:t})}})),o.a.createElement("label",null,"Available End Time"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"HH:MM:SS (ex: 16:20:00) ",value:a.state.itemToEdit.available_end_time,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.available_end_time=e.target.value,a.setState({itemToEdit:t})}})),o.a.createElement("label",null,"This Takes Me"),o.a.createElement(D.a,null,o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Control,{type:"number",placeholder:"30",value:a.convertToMinutes(),style:{marginTop:".25rem",paddingRight:"0px"},onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.expected_completion_time=a.convertTimeToHRMMSS(e),a.setState({itemToEdit:t})}})),o.a.createElement(S.a,{xs:8,style:{paddingLeft:"0px"}},o.a.createElement("p",{style:{marginLeft:"10px",marginTop:"5px"}},"minutes"))),o.a.createElement("div",{className:"input-group mb-3",style:{marginTop:"10px"}},o.a.createElement("label",{className:"form-check-label"},"Time?"),o.a.createElement("input",{style:{marginTop:"5px",marginLeft:"5px"},name:"Timed",type:"checkbox",checked:a.state.itemToEdit.is_timed,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.is_timed=!t.is_timed,a.setState({itemToEdit:t})}})),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("label",{className:"form-check-label"},"Available to Caitlin?"),o.a.createElement("input",{style:{marginTop:"5px",marginLeft:"5px"},name:"Available",type:"checkbox",checked:a.state.itemToEdit.is_available,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.is_available=!t.is_available,a.setState({itemToEdit:t})}})),a.state.itemToEdit.is_available&&o.a.createElement(N,{itemToEditPassedIn:a.state.itemToEdit,notificationChange:a.handleNotificationChange}),o.a.createElement(k.a,{variant:"secondary",onClick:function(e){e.stopPropagation(),a.setState({showEditModal:!1})}},"Close"),o.a.createElement(k.a,{variant:"info",onClick:function(e){e.stopPropagation(),a.newInputSubmit()}},"Save changes"))},a.showIcon=function(){return o.a.createElement("div",null,o.a.createElement(V.a,{onMouseOver:function(e){e.target.style.color="#48D6D2"},onMouseOut:function(e){e.target.style.color="#000000"},style:{color:"#000000",marginLeft:"5px"},onClick:function(e){e.stopPropagation(),a.setState({showEditModal:!0})},icon:Y.c,size:"lg"}))},a.state={showEditModal:!1,itemToEdit:a.props.ISArray[a.props.i]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.ISArray!==this.props.ISArray&&this.setState({itemToEdit:this.props.ISArray[this.props.i]})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.showEditModal?this.editISForm():this.showIcon())}}]),t}(n.Component),Q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).newInputSubmit=function(){var e=a.props.ATArray;e[a.props.i]=a.state.itemToEdit,e[a.props.i].datetime_completed||(e[a.props.i].datetime_completed="Sun, 23 Feb 2020 00:08:43 GMT"),e[a.props.i].audio||(e[a.props.i].audio=""),e[a.props.i].datetime_started||(e[a.props.i].datetime_started="Sun, 23 Feb 2020 00:08:43 GMT"),a.props.FBPath.update({"actions&tasks":e}).then((function(t){null!=a.props?(a.setState({showEditModal:!1}),a.props.refresh(e)):console.log("update failure")}))},a.convertTimeToHRMMSS=function(e){var t=e.target.value/60,a=Math.floor(t),n=60*(t-a),o=Math.round(n);return 1===a.toString().length&&(a="0"+a),1===o.toString().length&&(o="0"+o),a+":"+o+":00"},a.convertToMinutes=function(){var e=a.state.itemToEdit.expected_completion_time.split(":"),t=60*e[0];return 1*e[1]+t},a.handleNotificationChange=function(e){a.setState({itemToEdit:e})},a.editATForm=function(){return o.a.createElement(D.a,{style:{marginLeft:a.props.marginLeftV,border:"2px",padding:"20px",marginTop:"10px"}},o.a.createElement("label",null,"Title"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"Enter Title",value:a.state.itemToEdit.title,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.title=e.target.value,a.setState({itemToEdit:t})},onKeyDown:function(e){if(32===e.keyCode){var t=a.state.itemToEdit;t.title=e.target.value+" ",a.setState({itemToEdit:t}),e.preventDefault(),e.stopPropagation()}}})),o.a.createElement("label",null,"Photo URL"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"Enter Photo URL ",value:a.state.itemToEdit.photo,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.photo=e.target.value,a.setState({itemToEdit:t})}})),o.a.createElement("label",null,"Available Start Time"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"HH:MM:SS (ex: 08:20:00) ",value:a.state.itemToEdit.available_start_time,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.available_start_time=e.target.value,a.setState({itemToEdit:t})}})),o.a.createElement("label",null,"Available End Time"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"HH:MM:SS (ex: 16:20:00) ",value:a.state.itemToEdit.available_end_time,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.available_end_time=e.target.value,a.setState({itemToEdit:t})}})),o.a.createElement("label",null,"This Takes Me"),o.a.createElement(D.a,null,o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Control,{type:"number",placeholder:"30",value:a.convertToMinutes(),style:{marginTop:".25rem",paddingRight:"0px"},onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.expected_completion_time=a.convertTimeToHRMMSS(e),a.setState({itemToEdit:t})}})),o.a.createElement(S.a,{xs:8,style:{paddingLeft:"0px"}},o.a.createElement("p",{style:{marginLeft:"10px",marginTop:"5px"}},"minutes"))),o.a.createElement("div",{className:"input-group mb-3",style:{marginTop:"10px"}},o.a.createElement("label",{className:"form-check-label"},"Time?"),o.a.createElement("input",{style:{marginTop:"5px",marginLeft:"5px"},name:"Timed",type:"checkbox",checked:a.state.itemToEdit.is_timed,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.is_timed=!t.is_timed,a.setState({itemToEdit:t})}})),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("label",{className:"form-check-label"},"Available to Caitlin?"),o.a.createElement("input",{style:{marginTop:"5px",marginLeft:"5px"},name:"Available",type:"checkbox",checked:a.state.itemToEdit.is_available,onChange:function(e){e.stopPropagation();var t=a.state.itemToEdit;t.is_available=!t.is_available,a.setState({itemToEdit:t})}})),a.state.itemToEdit.is_available&&o.a.createElement(N,{itemToEditPassedIn:a.state.itemToEdit,notificationChange:a.handleNotificationChange}),o.a.createElement(k.a,{variant:"secondary",onClick:function(e){e.stopPropagation(),a.setState({showEditModal:!1})}},"Close"),o.a.createElement(k.a,{variant:"info",onClick:function(e){e.stopPropagation(),a.newInputSubmit()}},"Save changes"))},a.showIcon=function(){return o.a.createElement("div",null,o.a.createElement(V.a,{onMouseOver:function(e){e.target.style.color="#48D6D2"},onMouseOut:function(e){e.target.style.color="#000000"},style:{color:"#000000"},onClick:function(e){e.stopPropagation(),a.setState({showEditModal:!0})},icon:Y.c,size:"lg"}))},a.state={showEditModal:!1,itemToEdit:a.props.ATArray[a.props.i]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.ATArray!==this.props.ATArray&&this.setState({itemToEdit:this.props.ATArray[this.props.i]})}},{key:"render",value:function(){return o.a.createElement("div",{style:{marginLeft:"5px"},onClick:function(e){e.stopPropagation()}},this.state.showEditModal?this.editATForm():o.a.createElement("div",null," "),this.state.showEditModal?o.a.createElement("div",null," "):this.showIcon())}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).editFirBaseFalse=function(e){a.setState({iconShow:!1},(function(){var e=Object(z.a)(a.props.Array);e[a.props.Index].is_sublist_available=!1,a.props.Path.update({"goals&routines":e}).then((function(e){}))}))},a.editFirBaseTrue=function(e){a.setState({iconShow:!0},(function(){var e=Object(z.a)(a.props.Array);e[a.props.Index].is_sublist_available=!0,a.props.Path.update({"goals&routines":e}).then((function(e){}))}))},a.state={iconShow:!0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){if(e.Array!=this.props.Array){var a=Object(z.a)(this.props.Array);this.setState({iconShow:a[this.props.Index].is_sublist_available})}}},{key:"componentDidMount",value:function(){var e=Object(z.a)(this.props.Array);this.setState({iconShow:e[this.props.Index].is_sublist_available})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.state.iconShow&&o.a.createElement("div",null,o.a.createElement(V.a,{icon:Y.e,title:"SubList Available",style:{color:"#D6A34C",marginLeft:"20px"},onClick:function(t){t.stopPropagation(),e.editFirBaseFalse()},size:"lg"})),!this.state.iconShow&&o.a.createElement("div",null,o.a.createElement("span",{className:"fa-layers fa-fw",style:{marginLeft:"20px"}},o.a.createElement(V.a,{style:{color:"#000000"},icon:Y.e,title:"SubList Unavailable",onClick:function(t){t.stopPropagation(),e.editFirBaseTrue()},size:"lg"}),o.a.createElement(V.a,{style:{color:"#000000"},icon:Y.g,title:"SubList Unavilable",onClick:function(t){t.stopPropagation(),e.editFirBaseTrue()},size:"lg"}))))}}]),t}(o.a.Component),J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).editFirBaseFalse=function(e){a.setState({iconShow:!1});var t=Object(z.a)(a.props.Array);t[a.props.Index].is_sublist_available=!1,a.props.Path.update({"actions&tasks":t}).then((function(e){}))},a.editFirBaseTrue=function(e){a.setState({iconShow:!0});var t=Object(z.a)(a.props.Array);t[a.props.Index].is_sublist_available=!0,a.props.Path.update({"actions&tasks":t}).then((function(e){}))},a.state={iconShow:!0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){if(e.Array!==this.props.Array){var a=Object(z.a)(this.props.Array);this.setState({iconShow:a[this.props.Index].is_sublist_available})}}},{key:"componentDidMount",value:function(){var e=Object(z.a)(this.props.Array);this.setState({iconShow:e[this.props.Index].is_sublist_available})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.state.iconShow&&o.a.createElement("div",null,o.a.createElement(V.a,{icon:Y.e,title:"Show List Item",style:{color:"#D6A34C",marginLeft:"20px"},onClick:function(t){t.stopPropagation(),e.editFirBaseFalse()},size:"lg"})),!this.state.iconShow&&o.a.createElement("div",null,o.a.createElement("span",{className:"fa-layers fa-fw",style:{marginLeft:"20px"}},o.a.createElement(V.a,{style:{color:"#000000"},icon:Y.e,title:"Don't Show List Item",onClick:function(t){t.stopPropagation(),e.editFirBaseTrue()},size:"lg"}),o.a.createElement(V.a,{style:{color:"#000000"},icon:Y.g,title:"Don't Show List Item",onClick:function(t){t.stopPropagation(),e.editFirBaseTrue()},size:"lg"}))))}}]),t}(o.a.Component),ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={firebaseRootPath:_.firestore().collection("users").doc(a.props.theCurrentUserID),is_sublist_available:!0,singleGR:{show:!1,type:"None",title:"GR Name",photo:"",available_end_time:new Date,available_start_time:new Date,id:null,arr:[],fbPath:null},singleAT:{show:!1,type:"None",title:"AT Name",available_end_time:new Date,available_start_time:new Date,photo:"",id:null,arr:[],fbPath:null},singleATitemArr:[],singleISitemArr:[],modalWidth:"350px",addNewGRModalShow:!1,addNewATModalShow:!1,addNewISModalShow:!1,thumbnailWidth:"150px",thumbnailHeight:"100px",thumbnailWidthV2:"200px",thumbnailHeightV2:"50px",isRoutine:!0,availabilityColorCode:"#D6A34C"},a.refreshATItem=function(e){a.setState({singleATitemArr:e});var t=a.createListofAT(e),n=a.state.singleGR;n.arr=t,a.setState({singleGR:n})},a.refreshISItem=function(e){a.setState({singleISitemArr:e});var t=a.createListofIS(e),n=a.state.singleAT;n.arr=t,a.setState({singleAT:n})},a.grabFireBaseRoutinesGoalsData=function(){a.props.grabFireBaseRoutinesGoalsData()},a.getATList=function(e,t,n){var o=_.firestore();console.log("getATList function with id : "+e);var r=o.collection("users").doc(a.props.theCurrentUserID).collection("goals&routines").doc(e);console.log("this si the correct path",r),r.get().then((function(o){if(o.exists){console.log(o.data());var i=o.data()["actions&tasks"];if(console.log(i),null==i){var l={show:!0,type:n?"Routine":"Goal",title:t,id:e,arr:[],fbPath:r};return void a.setState({singleGR:l,singleATitemArr:[]})}var s={show:!0,type:n?"Routine":"Goal",title:t,id:e,arr:[],fbPath:r};a.setState({singleGR:s,singleATitemArr:i});var c=a.createListofAT(i);s={show:!0,type:n?"Routine":"Goal",title:t,id:e,arr:c,fbPath:r},a.setState({singleGR:s})}else console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))},a.createListofAT=function(e){for(var t=[],n=function(n){if(!e[n].id||!e[n].title)return{v:[]};var r=e[n].id,i=e[n].photo,l=e[n].title,s=e[n].is_available;t.push(o.a.createElement("div",{key:"AT"+n},o.a.createElement(P.a.Item,{action:!0,onClick:function(){a.ATonClickEvent(l,r)},variant:"light",style:{marginBottom:"3px"}},o.a.createElement(D.a,{style:{margin:"0",marginBottom:"10px"},className:"d-flex flex-row-center"},o.a.createElement(S.a,null,o.a.createElement("div",{className:"fancytext"},l))),i?o.a.createElement(D.a,null,o.a.createElement(S.a,{xs:7,style:{paddingRight:"0px"}},o.a.createElement("img",{src:i,alt:"Action/Task",className:"center",height:"80px",width:"auto"})),o.a.createElement(S.a,{style:{paddingLeft:"0px"}},o.a.createElement(D.a,{style:{marginTop:"10px"}},s?o.a.createElement("div",{style:{marginLeft:"5px"}},o.a.createElement(V.a,{title:"Available to Cailin",style:{color:a.state.availabilityColorCode},onClick:function(e){e.stopPropagation(),alert("Item Is Availble to Caitlin")},icon:Y.j,size:"lg"})," "):o.a.createElement("div",null,o.a.createElement(V.a,{title:"Unavailable to Caitlin",style:{color:"#000000"},onClick:function(e){e.stopPropagation(),alert("Item Is NOT Availble to Caitlin")},icon:Y.k,size:"lg"})),o.a.createElement(J,{Index:n,Array:a.state.singleATitemArr,Path:a.state.singleGR.fbPath})),o.a.createElement(D.a,{style:{marginTop:"15px",marginBottom:"10px"}},o.a.createElement(K,{deleteIndex:n,type:"actions&tasks",Array:a.state.singleATitemArr,Item:a.state.singleGR,refresh:a.refreshATItem}),o.a.createElement(Q,{marginLeftV:"-170px",i:n,ATArray:a.state.singleATitemArr,FBPath:a.state.singleGR.fbPath,refresh:a.refreshATItem})))):o.a.createElement("div",null,o.a.createElement(D.a,{style:{marginLeft:"100px"},className:"d-flex "},s?o.a.createElement("div",{style:{marginLeft:"5px"}},o.a.createElement(V.a,{title:"Available to Cailin",style:{color:a.state.availabilityColorCode},onClick:function(e){e.stopPropagation(),alert("Item Is Availble to Caitlin")},icon:Y.j,size:"lg"})," "):o.a.createElement("div",null,o.a.createElement(V.a,{title:"Unavailable to Caitlin",style:{color:"#000000"},onClick:function(e){e.stopPropagation(),alert("Item Is NOT Availble to Caitlin")},icon:Y.k,size:"lg"})),o.a.createElement(J,{Index:n,Array:a.state.singleATitemArr,Path:a.state.singleGR.fbPath})),o.a.createElement(D.a,{style:{marginTop:"15px",marginLeft:"100px"},className:"d-flex "},o.a.createElement(K,{deleteIndex:n,type:"actions&tasks",Array:a.state.singleATitemArr,Item:a.state.singleGR,refresh:a.refreshATItem}),o.a.createElement(Q,{marginLeftV:"-130px",i:n,ATArray:a.state.singleATitemArr,FBPath:a.state.singleGR.fbPath,refresh:a.refreshATItem}))))))},r=0;r<e.length;r++){var i=n(r);if("object"===typeof i)return i.v}return t},a.createListofIS=function(e){for(var t=[],n=function(n){var r=e[n].photo,i=e[n].title,l=e[n].is_available;t.push(o.a.createElement("div",{key:"IS"+n,style:{width:"100%"}},o.a.createElement(P.a.Item,{action:!0,onClick:function(){a.ISonClickEvent(i)},variant:"light",style:{width:"100%",marginBottom:"3px"}},o.a.createElement(D.a,{style:{margin:"0",marginBottom:"10px"},className:"d-flex flex-row-center"},o.a.createElement(S.a,null,o.a.createElement("div",{className:"fancytext"},i))),r?o.a.createElement(D.a,null,o.a.createElement(S.a,{xs:7,style:{paddingRight:"0px"}},o.a.createElement("img",{src:r,alt:"Action/Task",className:"center",height:"80px",width:"auto"})),o.a.createElement(S.a,{style:{paddingLeft:"0px"}},o.a.createElement(D.a,{style:{marginTop:"10px"}},l?o.a.createElement("div",{style:{marginLeft:"5px"}},o.a.createElement(V.a,{title:"Available to Cailin",style:{color:a.state.availabilityColorCode},onClick:function(e){e.stopPropagation(),alert("Item Is Availble to Caitlin")},icon:Y.j,size:"lg"})," "):o.a.createElement("div",null,o.a.createElement(V.a,{title:"Unavailable to Caitlin",style:{color:"#000000"},onClick:function(e){e.stopPropagation(),alert("Item Is NOT Availble to Caitlin")},icon:Y.k,size:"lg"}))),o.a.createElement(D.a,{style:{marginTop:"15px",marginBottom:"10px"}},o.a.createElement(W,{deleteIndex:n,ISArray:a.state.singleISitemArr,ISItem:a.state.singleAT,refresh:a.refreshISItem}),o.a.createElement(X,{marginLeftV:"-170px",i:n,ISArray:a.state.singleISitemArr,FBPath:a.state.singleAT.fbPath,refresh:a.refreshISItem})))):o.a.createElement("div",null,o.a.createElement(D.a,{style:{marginLeft:"100px"},className:"d-flex "},l?o.a.createElement("div",{style:{marginLeft:"5px"}},o.a.createElement(V.a,{title:"Available to Cailin",style:{color:a.state.availabilityColorCode},onClick:function(e){e.stopPropagation(),alert("Item Is Availble to Caitlin")},icon:Y.j,size:"lg"})," "):o.a.createElement("div",null,o.a.createElement(V.a,{title:"Unavailable to Caitlin",style:{color:"#000000"},onClick:function(e){e.stopPropagation(),alert("Item Is NOT Availble to Caitlin")},icon:Y.k,size:"lg"}))),o.a.createElement(D.a,{style:{marginTop:"15px",marginLeft:"100px"},className:"d-flex "},o.a.createElement(W,{deleteIndex:n,ISArray:a.state.singleISitemArr,ISItem:a.state.singleAT,refresh:a.refreshISItem}),o.a.createElement(X,{marginLeftV:"-130px",i:n,ISArray:a.state.singleISitemArr,FBPath:a.state.singleAT.fbPath,refresh:a.refreshISItem}))))))},r=0;r<e.length;r++)n(r);return t},a.ISonClickEvent=function(e){console.log("Inside IS Click "+e)},a.GRonClickEvent=function(e,t,n){a.getATList(t,e,n)},a.ATonClickEvent=function(e,t){var n=_.firestore().collection("users").doc(a.props.theCurrentUserID).collection("goals&routines").doc(a.state.singleGR.id).collection("actions&tasks").doc(t);console.log(a.state.singleGR.id),console.log(t,e);var o={show:!0,type:"Action/Task",title:e,id:t,arr:[],fbPath:n};console.log("this is the path",n),n.get().then((function(e){if(console.log("ths is the doc that doesn exist",e),e.exists){console.log("Grabbing steps/instructions data:"),console.log(e.data());var t=e.data();if(null==(t=t["instructions&steps"]))return void a.setState({singleAT:o});a.setState({singleAT:o,singleISitemArr:t}),o.arr=a.createListofIS(t),a.setState({singleAT:o,singleISitemArr:t})}else console.log("No Instruction/Step documents!")})).catch((function(e){console.log("Error getting document:",e),alert("Error getting document:",e)}))},a.findIndexByID=function(e){for(var t=a.props.originalGoalsAndRoutineArr,n=0;n<t.length;n++)if(e===t[n].id)return n;return-1},a.getRoutines=function(){var e=[];if(0!==a.props.routines.length)for(var t=function(t){var n=a.props.routines[t].title,r=a.props.routines[t].id,i=a.props.routines[t].is_persistent;e.push(o.a.createElement("div",{key:"test0"+t},o.a.createElement(P.a.Item,{action:!0,onClick:function(){a.GRonClickEvent(n,r,i)},variant:"light",style:{marginBottom:"3px"}},o.a.createElement(D.a,{style:{margin:"0",marginBottom:"10px"},className:"d-flex flex-row-center"},o.a.createElement(S.a,null,o.a.createElement("div",{className:"fancytext"},a.props.routines[t].title))),a.props.routines[t].photo?o.a.createElement(D.a,null,o.a.createElement(S.a,{xs:7,style:{paddingRight:"0px"}},o.a.createElement("img",{src:a.props.routines[t].photo,alt:"Routines",className:"center",height:"80px",width:"auto"})),o.a.createElement(S.a,{style:{paddingLeft:"0px"}},o.a.createElement(D.a,{style:{marginTop:"10px"}},a.props.routines[t].is_available?o.a.createElement("div",{style:{marginLeft:"5px"}},o.a.createElement(V.a,{title:"Available to Cailin",style:{color:a.state.availabilityColorCode},onClick:function(e){e.stopPropagation(),alert("Item Is Availble to Caitlin")},icon:Y.j,size:"lg"})," "):o.a.createElement("div",null,o.a.createElement(V.a,{title:"Unavailable to Caitlin",style:{color:"#000000"},onClick:function(e){e.stopPropagation(),alert("Item Is NOT Availble to Caitlin")},icon:Y.k,size:"lg"})),o.a.createElement($,{Index:a.findIndexByID(r),Array:a.props.originalGoalsAndRoutineArr,Path:_.firestore().collection("users").doc(a.props.theCurrentUserID)})),o.a.createElement(D.a,{style:{marginTop:"15px",marginBottom:"10px"}},o.a.createElement(q,{deleteIndex:a.findIndexByID(r),Array:a.props.originalGoalsAndRoutineArr,Path:_.firestore().collection("users").doc(a.props.theCurrentUserID),refresh:a.grabFireBaseRoutinesGoalsData}),o.a.createElement(Z,{marginLeftV:"-170px",i:a.findIndexByID(r),ATArray:a.props.originalGoalsAndRoutineArr,FBPath:_.firestore().collection("users").doc(a.props.theCurrentUserID),refresh:a.grabFireBaseRoutinesGoalsData,is_sublist_available:a.is_sublist_available})))):o.a.createElement("div",null,o.a.createElement(D.a,{style:{marginLeft:"100px"},className:"d-flex "},a.props.routines[t].is_available?o.a.createElement("div",{style:{marginLeft:"5px"}},o.a.createElement(V.a,{title:"Available to Cailin",style:{color:a.state.availabilityColorCode},onClick:function(e){e.stopPropagation(),alert("Item Is Availble to Caitlin")},icon:Y.j,size:"lg"})," "):o.a.createElement("div",null,o.a.createElement(V.a,{title:"Unavailable to Caitlin",style:{color:"#000000"},onClick:function(e){e.stopPropagation(),alert("Item Is NOT Availble to Caitlin")},icon:Y.k,size:"lg"})),o.a.createElement($,{Index:a.findIndexByID(r),Array:a.props.originalGoalsAndRoutineArr,Path:_.firestore().collection("users").doc(a.props.theCurrentUserID)})),o.a.createElement(D.a,{style:{marginTop:"15px",marginLeft:"100px"},className:"d-flex "},o.a.createElement(q,{deleteIndex:a.findIndexByID(r),Array:a.props.originalGoalsAndRoutineArr,Path:_.firestore().collection("users").doc(a.props.theCurrentUserID),refresh:a.grabFireBaseRoutinesGoalsData}),o.a.createElement(Z,{marginLeftV:"-130px",i:a.findIndexByID(r),ATArray:a.props.originalGoalsAndRoutineArr,FBPath:_.firestore().collection("users").doc(a.props.theCurrentUserID),refresh:a.grabFireBaseRoutinesGoalsData}))),o.a.createElement(D.a,null,o.a.createElement("div",{style:{fontSize:"12px"}},a.props.routines[t].datetime_started?o.a.createElement("div",{style:{marginTop:"3px"}},"Previous Start Time: "+a.formatDateTime(a.props.routines[t].datetime_started)," "):o.a.createElement("div",null," "),a.props.routines[t].datetime_completed?o.a.createElement("div",null,"Previous Completed Time: "+a.formatDateTime(a.props.routines[t].datetime_completed)," "):o.a.createElement("div",null," "))))))},n=0;n<a.props.routines.length;n++)t(n);return e},a.getGoals=function(){var e=[];if(null!=a.props.goals.length)for(var t=function(t){var n=a.props.goals[t].title,r=a.props.goals[t].id,i=a.props.goals[t].is_persistent;e.push(o.a.createElement("div",{key:"test1"+t},o.a.createElement(P.a.Item,{action:!0,onClick:function(){a.GRonClickEvent(n,r,i)},variant:"light",style:{marginBottom:"3px"}},o.a.createElement(D.a,{style:{margin:"0",marginBottom:"10px"},className:"d-flex flex-row-center"},o.a.createElement(S.a,null,o.a.createElement("div",{className:"fancytext"},n))),a.props.goals[t].photo?o.a.createElement(D.a,null,o.a.createElement(S.a,{xs:7,style:{paddingRight:"0px"}},o.a.createElement("img",{src:a.props.goals[t].photo,alt:"Instructions/Steps",className:"center",height:"80px",width:"auto"})),o.a.createElement(S.a,{style:{paddingLeft:"0px"}},o.a.createElement(D.a,{style:{marginTop:"10px"}},a.props.goals[t].is_available?o.a.createElement("div",{style:{marginLeft:"5px"}},o.a.createElement(V.a,{title:"Available to Cailin",style:{color:a.state.availabilityColorCode},onClick:function(e){e.stopPropagation(),alert("Item Is Availble to Caitlin")},icon:Y.j,size:"lg"})," "):o.a.createElement("div",null,o.a.createElement(V.a,{title:"Unavailable to Caitlin",style:{color:"#000000"},onClick:function(e){e.stopPropagation(),alert("Item Is NOT Availble to Caitlin")},icon:Y.k,size:"lg"})),o.a.createElement($,{Index:a.findIndexByID(r),Array:a.props.originalGoalsAndRoutineArr,Path:_.firestore().collection("users").doc(a.props.theCurrentUserID)})),o.a.createElement(D.a,{style:{marginTop:"15px",marginBottom:"10px"}},o.a.createElement(q,{deleteIndex:a.findIndexByID(r),Array:a.props.originalGoalsAndRoutineArr,Path:_.firestore().collection("users").doc(a.props.theCurrentUserID),refresh:a.grabFireBaseRoutinesGoalsData}),o.a.createElement(Z,{marginLeftV:"-170px",i:a.findIndexByID(r),ATArray:a.props.originalGoalsAndRoutineArr,FBPath:_.firestore().collection("users").doc(a.props.theCurrentUserID),refresh:a.grabFireBaseRoutinesGoalsData})))):o.a.createElement("div",null,o.a.createElement(D.a,{style:{marginLeft:"100px"},className:"d-flex "},a.props.goals[t].is_available?o.a.createElement("div",{style:{marginLeft:"5px"}},o.a.createElement(V.a,{title:"Available to Cailin",style:{color:a.state.availabilityColorCode},onClick:function(e){e.stopPropagation(),alert("Item Is Availble to Caitlin")},icon:Y.j,size:"lg"})," "):o.a.createElement("div",null,o.a.createElement(V.a,{title:"Unavailable to Caitlin",style:{color:"#000000"},onClick:function(e){e.stopPropagation(),alert("Item Is NOT Availble to Caitlin")},icon:Y.k,size:"lg"})),o.a.createElement($,{Index:a.findIndexByID(r),Array:a.props.originalGoalsAndRoutineArr,Path:_.firestore().collection("users").doc(a.props.theCurrentUserID)})),o.a.createElement(D.a,{style:{marginTop:"15px",marginLeft:"100px"},className:"d-flex "},o.a.createElement(q,{deleteIndex:a.findIndexByID(r),Array:a.props.originalGoalsAndRoutineArr,Path:_.firestore().collection("users").doc(a.props.theCurrentUserID),refresh:a.grabFireBaseRoutinesGoalsData}),o.a.createElement(Z,{marginLeftV:"-130px",i:a.findIndexByID(r),ATArray:a.props.originalGoalsAndRoutineArr,FBPath:_.firestore().collection("users").doc(a.props.theCurrentUserID),refresh:a.grabFireBaseRoutinesGoalsData}))),o.a.createElement("div",{style:{fontSize:"12px"}},a.props.goals[t].datetime_started?o.a.createElement("div",{style:{marginTop:"3px"}},"Previous Start Time: "+a.formatDateTime(a.props.goals[t].datetime_started)," "):o.a.createElement("div",null," "),a.props.goals[t].datetime_completed?o.a.createElement("div",null,"Previous Completed Time: "+a.formatDateTime(a.props.goals[t].datetime_completed)," "):o.a.createElement("div",null," ")))))},n=0;n<a.props.goals.length;n++)t(n);return e},a.getGoalsStatus=function(){var e=[];if(null!=a.props.goals.length)for(var t=0;t<a.props.goals.length;t++){var n=a.props.goals[t].title,r=a.props.goals[t].is_complete;a.props.goals[t].is_available&&e.push(o.a.createElement("div",{key:"goalStatus"+t},o.a.createElement(P.a.Item,{action:!0,variant:"light",style:{width:"100%",marginBottom:"3px"}},o.a.createElement(D.a,{style:{margin:"0"},className:"d-flex flex-row-center"},o.a.createElement(S.a,{style:{textAlign:"center",width:"100%"}},o.a.createElement("div",{className:"fancytext"}," ",n))),o.a.createElement(D.a,{style:{margin:"0",display:"flex",justifyContent:"center",alignItems:"center"}},r?o.a.createElement("div",null,o.a.createElement(V.a,{title:"Completed Item",style:{color:a.state.availabilityColorCode},onClick:function(e){e.stopPropagation(),alert("Item Is Completed")},icon:Y.i,size:"lg"})," "):o.a.createElement("div",null,o.a.createElement(V.a,{title:"Not Completed Item",style:{color:"black"},onClick:function(e){e.stopPropagation(),alert("Item Is Not Completed")},icon:Y.f,size:"lg"}))))))}return e},a.getRoutinesStatus=function(){var e=[];if(null!=a.props.routines.length)for(var t=0;t<a.props.routines.length;t++){var n=a.props.routines[t].title,r=a.props.routines[t].is_complete;a.props.routines[t].is_available&&e.push(o.a.createElement("div",{key:"goalStatus"+t},o.a.createElement(P.a.Item,{action:!0,variant:"light",style:{marginBottom:"3px"}},o.a.createElement(D.a,{style:{margin:"0"},className:"d-flex flex-row-center"},o.a.createElement(S.a,{style:{textAlign:"center",width:"100%"}},o.a.createElement("div",{className:"fancytext"}," ",n))),o.a.createElement(D.a,{style:{margin:"0",display:"flex",justifyContent:"center",alignItems:"center"}},r?o.a.createElement("div",null,o.a.createElement(V.a,{title:"Completed Item",style:{color:a.state.availabilityColorCode},onClick:function(e){e.stopPropagation(),alert("Item Is Completed")},icon:Y.i,size:"lg"})," "):o.a.createElement("div",null,o.a.createElement(V.a,{title:"Not Completed Item",style:{color:"black"},onClick:function(e){e.stopPropagation(),alert("Item Is Not Completed")},icon:Y.f,size:"lg"}))))))}return e},a.abstractedGoalsList=function(e){return o.a.createElement(I.a.Dialog,{style:{borderRadius:"15px",marginTop:"0",width:a.state.modalWidth,marginLeft:"0",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)"}},o.a.createElement(I.a.Header,{onHide:a.props.closeGoal,closeButton:!0},o.a.createElement(I.a.Title,null,o.a.createElement("h5",{className:"normalfancytext"},"Goals")," ")),o.a.createElement(I.a.Body,null,o.a.createElement("div",{style:{borderRadius:"15px",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)"}},a.state.addNewGRModalShow?a.AddNewGRModalAbstracted():""),o.a.createElement("div",{style:{borderRadius:"15px",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)"}},a.state.singleGR.show?a.abstractedActionsAndTaskList():o.a.createElement("div",null)),o.a.createElement(P.a,null,o.a.createElement("div",{style:{height:"650px",overflow:"scroll"}},e))),o.a.createElement(I.a.Footer,null,o.a.createElement("button",{type:"button",className:"btn btn-info btn-md",onClick:function(){a.setState({addNewGRModalShow:!0,isRoutine:!1})}},"Add Goal")))},a.abstractedRoutineList=function(e){return o.a.createElement(I.a.Dialog,{style:{borderRadius:"15px",marginTop:"0",width:a.state.modalWidth,marginLeft:"0px",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)"}},o.a.createElement(I.a.Header,{onHide:a.props.closeRoutine,closeButton:!0},o.a.createElement(I.a.Title,null," ",o.a.createElement("h5",{className:"normalfancytext"},"Routines")," ")),o.a.createElement(I.a.Body,null,o.a.createElement("div",{style:{borderRadius:"15px",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)"}},a.state.addNewGRModalShow?a.AddNewGRModalAbstracted():""),o.a.createElement("div",{style:{borderRadius:"15px",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)"}},a.state.singleGR.show?a.abstractedActionsAndTaskList():o.a.createElement("div",null)),o.a.createElement(P.a,null,o.a.createElement("div",{style:{height:"650px",overflow:"scroll"}},e))),o.a.createElement(I.a.Footer,null,o.a.createElement("button",{type:"button",className:"btn btn-info btn-md",onClick:function(){a.addRoutineOnClick()}},"Add Routine")))},a.addRoutineOnClick=function(){var e,t;"Month"===a.props.calendarView?((e=new Date).setHours(0,0,0,0),(t=new Date).setHours(23,59,59,59)):"Day"===a.props.calendarView&&((e=new Date(a.props.dateContext.toDate())).setHours(0,0,0,0),(t=new Date(a.props.dateContext.toDate())).setHours(23,59,59,59)),console.log(e,t,"newstart"),a.setState({singleGR:{id:"",available_start_time:e,available_end_time:t,type:"None",title:"GR Name",photo:"",arr:[],fbPath:null},addNewGRModalShow:!0,isRoutine:!0})},a.AddNewGRModalAbstracted=function(){return o.a.createElement(H,{closeModal:function(){a.setState({addNewGRModalShow:!1})},ATArray:a.props.originalGoalsAndRoutineArr,refresh:a.grabFireBaseRoutinesGoalsData,isRoutine:a.state.isRoutine,width:a.state.modalWidth,todayDateObject:a.props.todayDateObject,theCurrentUserId:a.props.theCurrentUserID,singleGR:a.state.singleGR})},a.abstractedInstructionsAndStepsList=function(){return o.a.createElement(I.a.Dialog,{style:{marginTop:"0",marginLeft:"0",width:a.state.modalWidth}},o.a.createElement(I.a.Header,{closeButton:!0,onHide:function(){a.setState({singleAT:{show:!1}})}},o.a.createElement(I.a.Title,null,o.a.createElement("h5",{className:"normalfancytext"},a.state.singleAT.title)," ")),o.a.createElement(I.a.Body,null,o.a.createElement("div",{style:{borderRadius:"15px",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)"}},a.state.addNewISModalShow?o.a.createElement(B,{ISArray:a.state.singleISitemArr,ISItem:a.state.singleAT,refresh:a.refreshISItem,hideNewISModal:function(){a.setState({addNewISModalShow:!1})},width:a.state.modalWidth}):o.a.createElement("div",null)),o.a.createElement(P.a,null,o.a.createElement("div",{style:{height:"500px",overflow:"scroll"}},a.state.singleAT.arr))),o.a.createElement(I.a.Footer,null,o.a.createElement("button",{type:"button",className:"btn btn-info btn-md",onClick:function(){a.setState({addNewISModalShow:!0})}},"Add Step")))},a.abstractedActionsAndTaskList=function(){return o.a.createElement(I.a.Dialog,{style:{marginTop:"0",marginLeft:"0",width:a.state.modalWidth}},o.a.createElement(I.a.Header,{closeButton:!0,onHide:function(){a.setState({singleGR:{show:!1}})}},o.a.createElement(I.a.Title,null,o.a.createElement("h5",{className:"normalfancytext"},a.state.singleGR.title)," ")),o.a.createElement(I.a.Body,null,o.a.createElement("div",{style:{borderRadius:"15px",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)"}},a.state.addNewATModalShow?o.a.createElement(U,{refresh:a.refreshATItem,ATArray:a.state.singleATitemArr,ATItem:a.state.singleGR,hideNewATModal:function(){a.setState({addNewATModalShow:!1})},width:a.state.modalWidth}):o.a.createElement("div",null)),o.a.createElement("div",{style:{borderRadius:"15px",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)"}},a.state.singleAT.show?a.abstractedInstructionsAndStepsList():o.a.createElement("div",null)),o.a.createElement(P.a,null,o.a.createElement("div",{style:{height:"500px",overflow:"scroll"}},a.state.singleGR.arr))),o.a.createElement(I.a.Footer,null,o.a.createElement("button",{type:"button",className:"btn btn-info btn-md",onClick:function(){a.setState({addNewATModalShow:!0})}},"Add Action/Task")))},a.addNewTaskInputBox=function(){return o.a.createElement(A.a,{size:"lg",style:{marginTop:"20px"},className:"mb-3"},o.a.createElement(M.a,{onChange:function(){console.log("addNewGoalInputBox")},placeholder:""}),o.a.createElement(A.a.Append,null,o.a.createElement(k.a,{variant:"outline-secondary"},"Add")))},a.abstractedRoutineGoalStatusList=function(e,t){return o.a.createElement(I.a.Dialog,{style:{borderRadius:"15px",marginTop:"0",width:a.state.modalWidth,marginLeft:"0",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)"}},o.a.createElement(I.a.Header,{onHide:a.props.closeRoutineGoalModal,closeButton:!0},o.a.createElement(I.a.Title,null," ",o.a.createElement("h5",{className:"normalfancytext"},"Current Status")," ")),o.a.createElement(I.a.Body,null,o.a.createElement("h2",{className:"normalfancytext"},"Routines:"),o.a.createElement(P.a,{style:{height:"350px",overflow:"scroll"}},e),o.a.createElement("h2",{className:"normalfancytext",style:{marginTop:"50px"}},"Goals:"),o.a.createElement(P.a,{style:{height:"250px",overflow:"scroll"}},t)),o.a.createElement(I.a.Footer,null))},a.addNewGoalInputBox=function(){return o.a.createElement(A.a,{size:"lg",style:{marginTop:"20px",width:a.state.modalWidth},className:"mb-3"},o.a.createElement(M.a,{onChange:function(){console.log("addNewGoalInputBox")},placeholder:"place holder!!"}),o.a.createElement(A.a.Append,null,o.a.createElement(k.a,{variant:"outline-secondary"},"Add")))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.grabFireBaseRoutinesGoalsData()}},{key:"componentWillUnmount",value:function(){console.log(" FirebaseV2 will unmount web")}},{key:"formatDateTime",value:function(e){var t=e.replace(/\//g,"-");return G()(t).format("YYYY MMM DD HH:mm")}},{key:"render",value:function(){var e=this.getRoutines(),t=this.getGoals(),a=this.getGoalsStatus(),n=this.getRoutinesStatus();return o.a.createElement("div",{style:{marginTop:"0"}},this.props.showRoutineGoalModal?o.a.createElement(S.a,{style:{width:this.state.modalWidth,marginTop:"0",marginRight:"15px"},sm:"auto",md:"auto",lg:"auto"},o.a.createElement("div",{style:{borderRadius:"15px",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)"}},this.abstractedRoutineGoalStatusList(n,a))):o.a.createElement("div",null," "),this.props.showRoutine?o.a.createElement(S.a,{style:{width:this.state.modalWidth,marginTop:"0",marginRight:"15px"},sm:"auto",md:"auto",lg:"auto"},o.a.createElement("div",{style:{borderRadius:"15px"}},this.abstractedRoutineList(e))):o.a.createElement("div",null," "),this.props.showGoal?o.a.createElement(S.a,{style:{width:this.state.modalWidth,marginTop:"0",marginRight:"15px"},sm:"auto",md:"auto",lg:"auto"},o.a.createElement("div",{style:{borderRadius:"15px"}},this.abstractedGoalsList(t))):o.a.createElement("div",null," "))}}]),t}(o.a.Component),te=(a(114),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).weekdays=G.a.weekdays(),a.weekdaysShort=G.a.weekdaysShort(),a.year=function(){return a.props.dateContext.format("Y")},a.currentDay=function(){return a.props.dateObject.format("D")},a.month=function(){return a.props.dateContext.format("MMMM")},a.daysInMonth=function(){return a.props.dateContext.daysInMonth()},a.firstDayOfMonth=function(){var e=a.props.dateContext;return G()(e).startOf("month").format("d")},a.getEventsforDay=function(e){var t=[],n=null,r=null;if(null==a.props.originalEvents)return[];for(var i=0;i<a.props.originalEvents.length;++i)if(a.props.originalEvents[i].start.dateTime){n=a.props.originalEvents[i].start.dateTime,r=a.props.originalEvents[i].end.dateTime;var l=new Date(n).getDate(),s=new Date(r).getDate();e>=l&&e<=s&&t.push(o.a.createElement("div",{key:"event"+i},o.a.createElement("button",{value:i,onClick:a.onEventClick,className:"btn btn-sm",style:{padding:"3px",paddingLeft:"4px",paddingRight:"4px",fontSize:"9px",color:"white",borderRadius:"4px",background:"#42B8DD",textShadow:"0 1px 1px rgba(0, 0, 0, 0.2)",marginBottom:"3px"}},a.props.originalEvents[i].summary),o.a.createElement("br",null)))}else{n=a.props.originalEvents[i].start.date,r=a.props.originalEvents[i].end.date;var c=new Date(n).getDate(),p=new Date(r).getDate();e>c&&e<=p&&t.push(o.a.createElement("div",{key:"event"+i},o.a.createElement("button",{value:i,onClick:a.onEventClick,className:"btn btn-sm",style:{padding:"3px",paddingLeft:"4px",paddingRight:"4px",fontSize:"9px",color:"white",borderRadius:"3px",background:"CornflowerBlue",textShadow:"0 1px 1px rgba(0, 0, 0, 0.2), ",marginBottom:"3px"}},a.props.originalEvents[i].summary),o.a.createElement("br",null)))}return t},a.onEventClick=function(e){e.stopPropagation(),a.props.eventClick(e.target.value)},a.onDayClick=function(e){a.props.handleDateClick(a.props.dateContext.format("M")+"/"+e+"/"+a.props.dateContext.format("Y"))},a.onExpandClick=function(e){a.props.handleExpandClick(a.props.dateContext.format("M")+"/"+e+"/"+a.props.dateContext.format("Y"))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){for(var e=[],t=this.weekdays.map((function(e){return o.a.createElement("td",{className:"fancytext",key:e},e)})),a=[],n=0;n<this.firstDayOfMonth();n++)a.push(o.a.createElement("td",{key:"empty"+n,className:"calendar-day empty"},""));for(var r=this.props.dateObject.format("MM/YYYY")===this.props.dateContext.format("MM/YYYY"),i=1;i<=this.daysInMonth();i++)e.push(o.a.createElement("td",{key:i,onClick:this.onDayClick.bind(this,i)},o.a.createElement("div",{style:{padding:"0",margin:"0",height:"110px",width:"100px",overflow:"auto"}},o.a.createElement("div",{className:r&&i===parseInt(this.currentDay(),10)?"numberCircleCurrent":"numberCircle",onClick:this.onExpandClick.bind(this,i)},o.a.createElement("a",{className:"fancytext"}," ",i," ")),this.getEventsforDay(i))));var l=[].concat(a,e),s=[],c=[];l.forEach((function(e,t){t%7!==0?c.push(e):(s.push(c),(c=[]).push(e)),t===l.length-1&&s.push(c)}));var p=s.map((function(e,t){return o.a.createElement("tr",{style:{padding:"0px"},key:11*t},e)}));return o.a.createElement("div",null,o.a.createElement("table",{className:"table",style:{height:"450px",tableLayout:"fixed",width:"910px"}},o.a.createElement("thead",null,o.a.createElement("tr",null,t)),o.a.createElement("tbody",{style:{height:"450px",width:"600px"}},p)))}}]),t}(o.a.Component)),ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).dayView=function(){for(var e=[],t=0;t<24;++t)e.push(o.a.createElement(D.a,{key:"dayDayViewRoutines"+t},o.a.createElement(S.a,{style:{borderTop:"1px solid  mistyrose",textAlign:"right",height:a.state.pxPerHour}},t,":00")));return e},a.RoutineClicked=function(){a.props.dayRoutineClick()},a.getEventItem=function(e){for(var t=[],n=a.props.routines,r=0,i=a.state.eventBoxSize,l=0,s=10,c=0;c<n.length;c++){var p=(new Date).toISOString().split("T").shift(),m=n[c].available_start_time,d=G()(p+" "+m).toDate(),u=(new Date).toISOString().split("T").shift(),g=n[c].available_end_time,h=G()(u+" "+g).toDate(),E=d,f=h;E.getHours()===e&&function(){var p=E.getMinutes()/60*a.state.pxPerHourForConversion,m=(f.getHours()-E.getHours()+f.getMinutes()/60)*a.state.pxPerHourForConversion,d="PaleTurquoise";r++;for(var u=0;u<n.length;u++){var g=(new Date).toISOString().split("T").shift(),h=n[u].available_start_time,v=G()(g+" "+h).toDate(),y=(new Date).toISOString().split("T").shift(),b=n[u].available_end_time,x=G()(y+" "+b).toDate();v.getHours()<e&&x.getHours()>e&&(l+=20,i-=20)}r>1&&(l+=20,i-=20),f.getHours()-E.getHours()<2&&(s=8),d=r<=1?e%2===0?"PaleTurquoise":"skyblue":2===r?"skyblue":"blue";var w=o.a.createElement("div",{key:"dayRoutineItem"+c,"data-toggle":"tooltip","data-placement":"right",title:n[c].title+"\nStart: "+E+"\nEnd: "+f,onMouseOver:function(e){e.target.style.color="#FFFFFF",e.target.style.background="RebeccaPurple",e.target.style.zIndex="2"},onMouseOut:function(e){e.target.style.zIndex="1",e.target.style.color="#000000",e.target.style.border="1px lightgray solid",e.target.style.background=d},onClick:a.RoutineClicked,style:{zIndex:a.state.zIndex,marginTop:p+"px",padding:"5px",border:"1px lightgray solid ",borderRadius:"5px",position:"absolute",height:m+"px",fontSize:s+"px",background:d,width:i+"px",marginLeft:l+"px"}},n[c].title);t.push(w)}()}return t},a.dayViewItems=function(){for(var e=[],t=0;t<24;++t)e.push(o.a.createElement(D.a,{key:"dayRoutine"+t,style:{position:"relative"}},o.a.createElement(S.a,{style:{position:"relative",borderTop:"1px solid mistyrose",width:"180px",background:"aliceblue",height:a.state.pxPerHour}},a.getEventItem(t))));return e},a.state={routines:[],pxPerHour:"30px",pxPerHourForConversion:30,zIndex:1,eventBoxSize:"200"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{padding:"20px",width:"300px",borderRadius:"20px"}},"Today's Routines:",o.a.createElement(w.a,{style:{}},o.a.createElement(D.a,null,o.a.createElement(S.a,null,o.a.createElement(w.a,{style:{margin:"0",padding:"0"}},this.dayViewItems())))))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).dayView=function(){for(var e=[],t=0;t<24;++t)e.push(o.a.createElement(D.a,{key:"dayDayViewGoals"+t},o.a.createElement(S.a,{style:{borderTop:"1px solid mistyrose",textAlign:"right",height:a.state.pxPerHour}},t,":00")));return e},a.GoalClicked=function(){a.props.dayGoalClick()},a.getEventItem=function(e){for(var t=[],n=a.props.goals,r=0,i=a.state.eventBoxSize,l=0,s=10,c=0;c<n.length;c++){var p=(new Date).toISOString().split("T").shift(),m=n[c].available_start_time,d=G()(p+" "+m).toDate(),u=(new Date).toISOString().split("T").shift(),g=n[c].available_end_time,h=G()(u+" "+g).toDate(),E=d,f=h;E.getHours()===e&&function(){var p=E.getMinutes()/60*a.state.pxPerHourForConversion,m=(f.getHours()-E.getHours()+f.getMinutes()/60)*a.state.pxPerHourForConversion,d="PaleTurquoise";r++;for(var u=0;u<n.length;u++){var g=(new Date).toISOString().split("T").shift(),h=n[u].available_start_time,v=G()(g+" "+h).toDate(),y=(new Date).toISOString().split("T").shift(),b=n[u].available_end_time,x=G()(y+" "+b).toDate();v.getHours()<e&&x.getHours()>e&&(l+=20,i-=20)}r>1&&(l+=20,i-=20),f.getHours()-E.getHours()<2&&(s=8),d=r<=1?e%2===0?"PaleTurquoise":"skyblue":2===r?"skyblue":"blue";var w=o.a.createElement("div",{key:"dayGoalItem"+c,"data-toggle":"tooltip","data-placement":"right",title:n[c].title+"\nStart: "+E+"\nEnd: "+f,onMouseOver:function(e){e.target.style.color="#FFFFFF",e.target.style.background="RebeccaPurple",e.target.style.zIndex="2"},onMouseOut:function(e){e.target.style.zIndex="1",e.target.style.color="#000000",e.target.style.background=d,e.target.style.border="1px lightgray solid"},onClick:a.GoalClicked,style:{zIndex:a.state.zIndex,marginTop:p+"px",padding:"5px",border:"1px lightgray solid ",borderRadius:"5px",position:"absolute",height:m+"px",fontSize:s+"px",background:d,width:i+"px",marginLeft:l+"px"}},n[c].title);t.push(w)}()}return t},a.dayViewItems=function(){for(var e=[],t=0;t<24;++t)e.push(o.a.createElement(D.a,{key:"dayGoal"+t,style:{position:"relative"}},o.a.createElement(S.a,{style:{position:"relative",borderTop:"1px solid mistyrose",width:"180px",background:"aliceblue",height:a.state.pxPerHour}},a.getEventItem(t))));return e},a.state={pxPerHour:"30px",pxPerHourForConversion:30,zIndex:1,eventBoxSize:"200"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{margin:"20px",padding:"20px",marginTop:"0px",width:"300px",borderRadius:"20px"}},"Today's Goals:",o.a.createElement(w.a,{style:{}},o.a.createElement(D.a,null,o.a.createElement(S.a,null,o.a.createElement(w.a,{style:{margin:"0",padding:"0"}},this.dayViewItems())))))}}]),t}(n.Component),oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).timeDisplay=function(){for(var e=[],t=0;t<24;++t)e.push(o.a.createElement(D.a,{key:"dayEvent"+t},o.a.createElement(S.a,{style:{borderTop:"1px solid lavender",textAlign:"right",height:a.state.pxPerHour}},t,":00")));return e},a.onEventClick=function(e,t){var n=a.props.dayEvents;e.stopPropagation(),a.props.eventClickDayView(n[t])},a.getEventItem=function(e){for(var t=[],n=null,r=null,i=a.props.dayEvents,l=0,s=0,c=a.state.eventBoxSize,p=10,m=function(m){if(!i[m].start)return"break";n=i[m].start.dateTime,r=i[m].end.dateTime;var d=new Date(n),u=new Date(r),g=a.props.dateContext.get("date");if(d.getDate()===g){if(d.getHours()===e)if(d.getDate()!==u.getDate()){var h=d.getMinutes()/60*a.state.pxPerHourForConversion,E=24-d.getHours(),f=(E+0)*a.state.pxPerHourForConversion;l++;var v=o.a.createElement("div",{key:"event"+m},o.a.createElement("div",{"data-toggle":"tooltip","data-placement":"right",title:i[m].summary+"\nStart: "+d+"\nEnd: "+u,onMouseOver:function(e){e.target.style.color="#FFFFFF",e.target.style.background="RebeccaPurple",e.target.style.zIndex="2"},onMouseOut:function(e){e.target.style.zIndex="1",e.target.style.color="#000000",e.target.style.background="lavender"},key:m,onClick:function(e){return a.onEventClick(e,m)},style:{zIndex:a.state.zIndex,marginTop:h+"px",padding:"5px",fontSize:p+"px",border:"1px lightgray solid ",float:"left",borderRadius:"5px",background:"lavender",width:c+"px",position:"absolute",height:f+"px",marginLeft:s+"px"}},i[m].summary));t.push(v)}else{var y=d.getMinutes()/60*a.state.pxPerHourForConversion,b=u.getHours()-d.getHours(),x=u.getMinutes()/60,w="PaleTurquoise",D=(b+x)*a.state.pxPerHourForConversion;l++;for(var S=0;S<i.length;S++){n=i[S].start.dateTime,r=i[S].end.dateTime;var T=new Date(n),C=new Date(r);T.getHours()<e&&C.getHours()>e&&(s+=20,c-=20)}l>1&&(s+=20,c-=20),u.getHours()-d.getHours()<2&&(p=8),w=l<=1?e%2==0?"PaleTurquoise":"skyblue":2==l?"skyblue":"blue";var k=o.a.createElement("div",{key:"event"+m},o.a.createElement("div",{"data-toggle":"tooltip","data-placement":"right",title:i[m].summary+"\nStart: "+d+"\nEnd: "+u,onMouseOver:function(e){e.target.style.color="#FFFFFF",e.target.style.background="RebeccaPurple",e.target.style.zIndex="2"},onMouseOut:function(e){e.target.style.zIndex="1",e.target.style.color="#000000",e.target.style.background=w},key:m,onClick:function(e){return a.onEventClick(e,m)},style:{zIndex:a.state.zIndex,marginTop:y+"px",padding:"5px",fontSize:p+"px",border:"1px lightgray solid ",float:"left",borderRadius:"5px",background:w,width:c+"px",position:"absolute",height:D+"px",marginLeft:s+"px"}},i[m].summary));t.push(k)}}else if(0===e&&u.getDate()===g){var I=(u.getHours()+u.getMinutes()/60)*a.state.pxPerHourForConversion;l++;var O=o.a.createElement("div",{key:"event"+m},o.a.createElement("div",{"data-toggle":"tooltip","data-placement":"right",title:i[m].summary+"\nStart: "+d+"\nEnd: "+u,onMouseOver:function(e){e.target.style.color="#FFFFFF",e.target.style.background="RebeccaPurple",e.target.style.zIndex="2"},onMouseOut:function(e){e.target.style.zIndex="1",e.target.style.color="#000000",e.target.style.background="lavender"},key:m,onClick:function(e){return a.onEventClick(e,m)},style:{zIndex:a.state.zIndex,marginTop:"0px",padding:"5px",fontSize:p+"px",border:"1px lightgray solid ",float:"left",borderRadius:"5px",background:"lavender",width:c+"px",position:"absolute",height:I+"px",marginLeft:s+"px"}},i[m].summary));t.push(O)}else if(0===e&&d.getDate()<g&&u.getDate()>g){var _=24*a.state.pxPerHourForConversion;l++;var R=o.a.createElement("div",{key:"event"+m},o.a.createElement("div",{"data-toggle":"tooltip","data-placement":"right",title:i[m].summary+"\nStart: "+d+"\nEnd: "+u,onMouseOver:function(e){e.target.style.color="#FFFFFF",e.target.style.background="RebeccaPurple",e.target.style.zIndex="2"},onMouseOut:function(e){e.target.style.zIndex="1",e.target.style.color="#000000",e.target.style.background="lavender"},key:m,onClick:function(e){return a.onEventClick(e,m)},style:{zIndex:a.state.zIndex,marginTop:"0px",padding:"5px",fontSize:p+"px",border:"1px lightgray solid ",float:"left",borderRadius:"5px",background:"lavender",width:c+"px",position:"absolute",height:_+"px",marginLeft:s+"px"}},i[m].summary));t.push(R)}},d=0;d<i.length;d++){if("break"===m(d))break}return t},a.onDayClick=function(e,t){console.log("this is the hour:"+t),a.props.handleDateClick(a.props.dateContext.format("M")+"/"+a.props.dateContext.format("D")+"/"+a.props.dateContext.format("Y"),t)},a.dayViewItems=function(){for(var e=[],t=function(t){e.push(o.a.createElement(D.a,{key:"dayEvent"+t,style:{position:"relative"}},o.a.createElement(S.a,{style:{position:"relative",borderTop:"1px solid lavender",width:"180px",background:"aliceblue",height:a.state.pxPerHour},onClick:function(e){return a.onDayClick(e,t)}},a.getEventItem(t))))},n=0;n<24;++n)t(n);return e},a.state={pxPerHour:"30px",pxPerHourForConversion:30,zIndex:1,eventBoxSize:150,marginFromLeft:0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{padding:"20px",width:"300px",borderRadius:"20px"}},"Today's Events:",o.a.createElement(w.a,{style:{}},o.a.createElement(D.a,null,o.a.createElement(S.a,null,o.a.createElement(w.a,{style:{margin:"0",padding:"0"}},this.timeDisplay())),o.a.createElement(S.a,null,o.a.createElement(w.a,{style:{margin:"0",padding:"0"}},this.dayViewItems())))))}}]),t}(n.Component),re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).timeDisplay=function(){for(var e=[],t=0;t<24;++t)e.push(o.a.createElement(D.a,{key:"dayEvent"+t},o.a.createElement(S.a,{style:{borderTop:"1px solid lavender",textAlign:"right",height:a.state.pxPerHour}},t,":00")));return e},a.dateDisplay=function(){for(var e=[],t=a.props.dateContext.clone().startOf("week").clone(),n=0;n<7;n++)e.push(o.a.createElement(S.a,{key:"day"+n},o.a.createElement(S.a,{style:{textAlign:"center",height:a.state.pxPerHour}},t.format("M/D")))),t.add(1,"day");return e},a.onEventClick=function(e,t){var n=a.props.weekEvents;e.stopPropagation(),a.props.eventClick(n[t])},a.onWeekClick=function(e,t,n){var o=a.props.dateContext.clone().startOf("week").clone();o.add(24*t+n,"hour"),a.props.onDayClick(o)},a.weekViewItems=function(){for(var e=[],t=function(t){r=[];for(var n=function(e){r.push(o.a.createElement(w.a,{key:"weekEvent"+t+e},o.a.createElement(D.a,{style:{position:"relative"}},o.a.createElement(S.a,{style:{position:"relative",borderTop:"1px solid lavender",background:"aliceblue",height:a.state.pxPerHour,width:"80px"},onClick:function(n){return a.onWeekClick(n,t,e)}},a.getEventItem(t,e)))))},i=0;i<24;++i)n(i);e.push(o.a.createElement(S.a,{key:"dayEvent"+t},r))},n=0;n<7;++n){var r;t(n)}return e},a.getEventItem=function(e,t){var n=a.props.dateContext.clone().startOf("week").clone();n.add(e,"days");for(var r=[],i=null,l=null,s=a.props.weekEvents,c=0,p=0,m=a.state.eventBoxSize,d=10,u=function(e){i=s[e].start.dateTime,l=s[e].end.dateTime;var u=new Date(i),g=new Date(l),h=G()(u),E=G()(g);if(n.isSameOrAfter(h,"day")&&n.isSameOrBefore(E,"day"))if(h.date()===n.date()){if(h.hour()===t)if(h.date()===E.date()){var f=u.getMinutes()/60*a.state.pxPerHourForConversion,v=g.getHours()-u.getHours(),y=g.getMinutes()/60,b="PaleTurquoise",x=(v+y)*a.state.pxPerHourForConversion;c++;for(var w=0;w<s.length;w++){i=s[w].start.dateTime,l=s[w].end.dateTime;var D=new Date(i),S=new Date(l);D.getHours()<t&&S.getHours()>t&&(p+=20,m-=20)}c>1&&(p+=20,m-=20),g.getHours()-u.getHours()<2&&(d=8),b=c<=1?t%2===0?"PaleTurquoise":"skyblue":2===c?"skyblue":"blue";var T=o.a.createElement("div",{key:"event"+e},o.a.createElement("div",{"data-toggle":"tooltip","data-placement":"right",title:s[e].summary+"\nStart: "+u+"\nEnd: "+g,onMouseOver:function(e){e.target.style.color="#FFFFFF",e.target.style.background="RebeccaPurple",e.target.style.zIndex="2"},onMouseOut:function(e){e.target.style.zIndex="1",e.target.style.color="#000000",e.target.style.background=b},key:e,onClick:function(t){return a.onEventClick(t,e)},style:{zIndex:a.state.zIndex,marginTop:f+"px",padding:"5px",fontSize:d+"px",border:"1px lightgray solid ",float:"left",borderRadius:"5px",background:b,width:m+"px",position:"absolute",height:x+"px",marginLeft:p+"px"}},s[e].summary));r.push(T)}else if(h.date()!==E.date()){var C=u.getMinutes()/60*a.state.pxPerHourForConversion,k=24-u.getHours(),I=(k+0)*a.state.pxPerHourForConversion;c++;var O=o.a.createElement("div",{key:"event"+e},o.a.createElement("div",{"data-toggle":"tooltip","data-placement":"right",title:s[e].summary+"\nStart: "+u+"\nEnd: "+g,onMouseOver:function(e){e.target.style.color="#FFFFFF",e.target.style.background="RebeccaPurple",e.target.style.zIndex="2"},onMouseOut:function(e){e.target.style.zIndex="1",e.target.style.color="#000000",e.target.style.background="lavender"},key:e,onClick:function(t){return a.onEventClick(t,e)},style:{zIndex:a.state.zIndex,marginTop:C+"px",padding:"5px",fontSize:d+"px",border:"1px lightgray solid ",float:"left",borderRadius:"5px",background:"lavender",width:m+"px",position:"absolute",height:I+"px",marginLeft:p+"px"}},s[e].summary));r.push(O)}}else if(0===t)if(E.date()===n.date()){var _=(g.getHours()+g.getMinutes()/60)*a.state.pxPerHourForConversion;c++;var R=o.a.createElement("div",{key:"event"+e},o.a.createElement("div",{"data-toggle":"tooltip","data-placement":"right",title:s[e].summary+"\nStart: "+u+"\nEnd: "+g,onMouseOver:function(e){e.target.style.color="#FFFFFF",e.target.style.background="RebeccaPurple",e.target.style.zIndex="2"},onMouseOut:function(e){e.target.style.zIndex="1",e.target.style.color="#000000",e.target.style.background="lavender"},key:e,onClick:function(t){return a.onEventClick(t,e)},style:{zIndex:a.state.zIndex,marginTop:"0px",padding:"5px",fontSize:d+"px",border:"1px lightgray solid ",float:"left",borderRadius:"5px",background:"lavender",width:m+"px",position:"absolute",height:_+"px",marginLeft:p+"px"}},s[e].summary));r.push(R)}else{var P=24*a.state.pxPerHourForConversion;c++;var A=o.a.createElement("div",{key:"event"+e},o.a.createElement("div",{"data-toggle":"tooltip","data-placement":"right",title:s[e].summary+"\nStart: "+u+"\nEnd: "+g,onMouseOver:function(e){e.target.style.color="#FFFFFF",e.target.style.background="RebeccaPurple",e.target.style.zIndex="2"},onMouseOut:function(e){e.target.style.zIndex="1",e.target.style.color="#000000",e.target.style.background="lavender"},key:e,onClick:function(t){return a.onEventClick(t,e)},style:{zIndex:a.state.zIndex,marginTop:"0px",padding:"5px",fontSize:d+"px",border:"1px lightgray solid ",float:"left",borderRadius:"5px",background:"lavender",width:m+"px",position:"absolute",height:P+"px",marginLeft:p+"px"}},s[e].summary));r.push(A)}},g=0;g<s.length;g++)u(g);return r},a.state={pxPerHour:"30px",pxPerHourForConversion:30,zIndex:1,eventBoxSize:80,marginFromLeft:0},a.hourDisplay=o.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=(new Date).getHours();this.hourDisplay.current.scrollTop=this.state.pxPerHourForConversion*e}},{key:"render",value:function(){var e=G.a.weekdays().map((function(e){return o.a.createElement(S.a,{key:"event"+e,className:"fancytext"},e)}));return o.a.createElement(w.a,{style:{height:"auto",width:"1000px"}},o.a.createElement(D.a,null,o.a.createElement(S.a,null,"Events "),this.dateDisplay()),o.a.createElement(D.a,null,o.a.createElement(S.a,{className:"fancytext"},"Time"),e),o.a.createElement(D.a,{ref:this.hourDisplay,style:{width:"auto",height:"180px",overflowX:"visible",overflowY:"scroll"}},o.a.createElement(S.a,null,o.a.createElement(w.a,{style:{margin:"0",padding:"0"}},this.timeDisplay())),this.weekViewItems()))}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).getEventItem=function(e,t){for(var n=[],r=a.props.routines,i=0,l=a.state.eventBoxSize,s=0,c=10,p=0;p<r.length;p++){var m=(new Date).toISOString().split("T").shift(),d=r[p].available_start_time,u=G()(m+" "+d).toDate(),g=(new Date).toISOString().split("T").shift(),h=r[p].available_end_time,E=G()(g+" "+h).toDate(),f=u,v=E;f.getHours()===t&&function(){var e=f.getMinutes()/60*a.state.pxPerHourForConversion,m=(v.getHours()-f.getHours()+v.getMinutes()/60)*a.state.pxPerHourForConversion,d="PaleTurquoise";i++;for(var u=0;u<r.length;u++){var g=(new Date).toISOString().split("T").shift(),h=r[u].available_start_time,E=G()(g+" "+h).toDate(),y=(new Date).toISOString().split("T").shift(),b=r[u].available_end_time,x=G()(y+" "+b).toDate();E.getHours()<t&&x.getHours()>t&&(s+=20,l-=20)}i>1&&(s+=20,l-=20),v.getHours()-f.getHours()<2&&(c=8),d=i<=1?t%2===0?"PaleTurquoise":"skyblue":2===i?"skyblue":"blue";var w=o.a.createElement("div",{key:"dayRoutineItem"+p,"data-toggle":"tooltip","data-placement":"right",title:r[p].title+"\nStart: "+f+"\nEnd: "+v,onMouseOver:function(e){e.target.style.color="#FFFFFF",e.target.style.background="RebeccaPurple",e.target.style.zIndex="2"},onMouseOut:function(e){e.target.style.zIndex="1",e.target.style.color="#000000",e.target.style.border="1px lightgray solid",e.target.style.background=d},onClick:a.RoutineClicked,style:{zIndex:a.state.zIndex,marginTop:e+"px",padding:"5px",border:"1px lightgray solid ",borderRadius:"5px",position:"absolute",height:m+"px",fontSize:c+"px",background:d,width:l+"px",marginLeft:s+"px"}},r[p].title);n.push(w)}()}return n},a.timeDisplay=function(){for(var e=[],t=0;t<24;++t)e.push(o.a.createElement(D.a,{key:"dayEvent"+t},o.a.createElement(S.a,{style:{borderTop:"1px solid lavender",textAlign:"right",height:a.state.pxPerHour}},t,":00")));return e},a.weekViewItems=function(){for(var e=[],t=0;t<7;++t){for(var n=[],r=0;r<24;++r)n.push(o.a.createElement(w.a,{key:"weekRoutine"+t+r},o.a.createElement(D.a,{style:{position:"relative"}},o.a.createElement(S.a,{style:{position:"relative",borderTop:"1px solid lavender",background:"aliceblue",height:a.state.pxPerHour}},a.getEventItem(t,r)))));e.push(o.a.createElement(S.a,{key:"dayRoutine"+t},n))}return e},a.state={pxPerHour:"30px",pxPerHourForConversion:30,zIndex:1,eventBoxSize:80,marginFromLeft:0},a.hourDisplay=o.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=(new Date).getHours();this.hourDisplay.current.scrollTop=this.state.pxPerHourForConversion*e}},{key:"render",value:function(){var e=G.a.weekdays().map((function(e){return o.a.createElement(S.a,{key:"routine"+e,className:"fancytext"},e)}));return o.a.createElement(w.a,{style:{height:"auto",width:"1000px"}},o.a.createElement(D.a,null,o.a.createElement(S.a,null,"Routines")),o.a.createElement(D.a,null,o.a.createElement(S.a,{className:"fancytext"},"Time"),e),o.a.createElement(D.a,{ref:this.hourDisplay,style:{width:"auto",height:"180px",overflowX:"visible",overflowY:"scroll"}},o.a.createElement(S.a,null,o.a.createElement(w.a,{style:{margin:"0",padding:"0",width:"80px"}},this.timeDisplay())),this.weekViewItems()))}}]),t}(n.Component),le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).getEventItem=function(e,t){for(var n=[],r=a.props.goals,i=0,l=a.state.eventBoxSize,s=0,c=10,p=0;p<r.length;p++){var m=(new Date).toISOString().split("T").shift(),d=r[p].available_start_time,u=G()(m+" "+d).toDate(),g=(new Date).toISOString().split("T").shift(),h=r[p].available_end_time,E=G()(g+" "+h).toDate(),f=u,v=E;f.getHours()===t&&function(){var e=f.getMinutes()/60*a.state.pxPerHourForConversion,m=(v.getHours()-f.getHours()+v.getMinutes()/60)*a.state.pxPerHourForConversion,d="PaleTurquoise";i++;for(var u=0;u<r.length;u++){var g=(new Date).toISOString().split("T").shift(),h=r[u].available_start_time,E=G()(g+" "+h).toDate(),y=(new Date).toISOString().split("T").shift(),b=r[u].available_end_time,x=G()(y+" "+b).toDate();E.getHours()<t&&x.getHours()>t&&(s+=20,l-=20)}i>1&&(s+=20,l-=20),v.getHours()-f.getHours()<2&&(c=8),d=i<=1?t%2===0?"PaleTurquoise":"skyblue":2===i?"skyblue":"blue";var w=o.a.createElement("div",{key:"dayGoalItem"+p,"data-toggle":"tooltip","data-placement":"right",title:r[p].title+"\nStart: "+f+"\nEnd: "+v,onMouseOver:function(e){e.target.style.color="#FFFFFF",e.target.style.background="RebeccaPurple",e.target.style.zIndex="2"},onMouseOut:function(e){e.target.style.zIndex="1",e.target.style.color="#000000",e.target.style.background=d,e.target.style.border="1px lightgray solid"},onClick:a.GoalClicked,style:{zIndex:a.state.zIndex,marginTop:e+"px",padding:"5px",border:"1px lightgray solid ",borderRadius:"5px",position:"absolute",height:m+"px",fontSize:c+"px",background:d,width:l+"px",marginLeft:s+"px"}},r[p].title);n.push(w)}()}return n},a.timeDisplay=function(){for(var e=[],t=0;t<24;++t)e.push(o.a.createElement(D.a,{key:"dayEvent"+t},o.a.createElement(S.a,{style:{borderTop:"1px solid lavender",textAlign:"right",height:a.state.pxPerHour}},t,":00")));return e},a.weekViewItems=function(){for(var e=[],t=0;t<7;++t){for(var n=[],r=0;r<24;++r)n.push(o.a.createElement(w.a,{key:"weekGoal"+t+r},o.a.createElement(D.a,{style:{position:"relative"}},o.a.createElement(S.a,{style:{position:"relative",borderTop:"1px solid lavender",background:"aliceblue",height:a.state.pxPerHour}},a.getEventItem(t,r)))));e.push(o.a.createElement(S.a,{key:"dayGoal"+t},n))}return e},a.state={pxPerHour:"30px",pxPerHourForConversion:30,zIndex:1,eventBoxSize:80},a.hourDisplay=o.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=(new Date).getHours();this.hourDisplay.current.scrollTop=this.state.pxPerHourForConversion*e}},{key:"render",value:function(){var e=G.a.weekdays().map((function(e){return o.a.createElement(S.a,{key:"goal"+e,className:"fancytext"},e)}));return o.a.createElement(w.a,{style:{height:"auto",width:"1000px"}},o.a.createElement(D.a,null,o.a.createElement(S.a,null,"Goals")),o.a.createElement(D.a,null,o.a.createElement(S.a,{className:"fancytext"},"Time"),e),o.a.createElement(D.a,{ref:this.hourDisplay,style:{width:"auto",height:"180px",overflowX:"visible",overflowY:"scroll"}},o.a.createElement(S.a,null,o.a.createElement(w.a,{style:{margin:"0",padding:"0",width:"80px"}},this.timeDisplay())),this.weekViewItems()))}}]),t}(n.Component),se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={itemToEdit:{have_pic:!1,important:!1,name:"",phone_number:"",pic:"",relationship:"",speaker_id:"",unique_id:""},saveChangesButtonEnabled:!0,peopleDocsPath:_.firestore().collection("users").doc(a.props.currentUserId).collection("people")},a.handleFileSelected=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.files[0];a.setState({saveChangesButtonEnabled:!1},(function(){var e=t;if(null!=e){var n=a.state.itemToEdit;R.ref("People/"+e.name).put(e).on("state_changed",(function(e){var t=e.bytesTransfered/e.totalBytes*100;console.log(t)}),(function(e){console.log(e)}),(function(t){n.have_pic=!0,console.log("completed"),R.ref("People").child(e.name).getDownloadURL().then((function(e){n.pic=e,a.setState({itemToEdit:n,saveChangesButtonEnabled:!0})}))}))}}))},a.newPersonInputSubmit=function(){a.state.peopleDocsPath.add(a.state.itemToEdit).then((function(e){null!==e.id?(a.state.itemToEdit.unique_id=e.id,console.log("Added document with ID: ",e.id),a.updateWithId()):alert("Fail to add new routine / goal item")}))},a.updateWithId=function(){a.state.peopleDocsPath.doc(a.state.itemToEdit.unique_id).update(a.state.itemToEdit).then((function(e){a.props.closeModal(),a.props.newPersonAdded()}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(I.a.Dialog,{style:{marginLeft:"0",width:"350px"}},o.a.createElement(I.a.Header,{closeButton:!0,onHide:this.props.closeModal},o.a.createElement(I.a.Title,null,o.a.createElement("h5",{className:"normalfancytext"},"Add New People")," ")),o.a.createElement(I.a.Body,null,o.a.createElement("div",null,o.a.createElement("label",null,"Name"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"Enter Name",value:this.state.itemToEdit.name,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.name=t.target.value,e.setState({itemToEdit:a})}})),o.a.createElement("label",null,"Relationship"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"Enter Relationship ",value:this.state.itemToEdit.relationship,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.relationship=t.target.value,e.setState({itemToEdit:a})}})),o.a.createElement("label",null,"Phone Number"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"200px"},placeholder:"Enter Phone Number",value:this.state.itemToEdit.phone_number,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.phone_number=t.target.value,e.setState({itemToEdit:a})}})),o.a.createElement("label",null,"Upload Photo"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{color:"transparent",width:"200px"},accept:"image/*",type:"file",onChange:this.handleFileSelected})))),o.a.createElement(I.a.Footer,null,o.a.createElement(k.a,{style:{marginLeft:"10px"},variant:"secondary",onClick:this.props.closeModal},"Close"),!1===this.state.saveChangesButtonEnabled?o.a.createElement(k.a,{variant:"info",style:{marginLeft:"50px",marginRight:"30px"},type:"submit",disabled:!0},"Save changes"):o.a.createElement(k.a,{variant:"info",style:{marginLeft:"50px",marginRight:"30px"},type:"submit",onClick:function(t){t.stopPropagation(),e.newPersonInputSubmit()}},"Save changes")))}}]),t}(n.Component),ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).hideAboutForm=function(e){a.props.CameBackFalse()},a.handleFileSelected=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.files[0];a.setState({saveButtonEnabled:!1},(function(){var e=t;if(null!==e&&0!==Object.keys(a.state.aboutMeObject).length){var n=a.state.aboutMeObject;R.ref("Profile_Pics/"+e.name).put(e).on("state_changed",(function(e){var t=e.bytesTransfered/e.totalBytes*100;console.log(t)}),(function(e){console.log(e)}),(function(t){n.have_pic=!0,console.log("completed"),R.ref("Profile_Pics").child(e.name).getDownloadURL().then((function(e){n.pic=e,a.setState({aboutMeObject:n,saveButtonEnabled:!0})}))}))}}))},a.handleImpPeople1=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.files[0];a.setState({saveButtonEnabled:!1},(function(){var e=t;if(null!==e&&0!==Object.keys(a.state.importantPeople1).length){var n=a.state.importantPeople1;R.ref("Important_People/"+e.name).put(e).on("state_changed",(function(e){var t=e.bytesTransfered/e.totalBytes*100;console.log(t)}),(function(e){console.log(e)}),(function(t){n.have_pic=!0,console.log("completed"),R.ref("Important_People").child(e.name).getDownloadURL().then((function(e){n.pic=e,a.setState({importantPeople1:n,saveButtonEnabled:!0})}))}))}}))},a.handleImpPeople2=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.files[0];a.setState({saveButtonEnabled:!1},(function(){var e=t;if(null!==e&&0!==Object.keys(a.state.importantPeople2).length){var n=a.state.importantPeople2;R.ref("Important_People/"+e.name).put(e).on("state_changed",(function(e){var t=e.bytesTransfered/e.totalBytes*100;console.log(t)}),(function(e){console.log(e)}),(function(t){n.have_pic=!0,console.log("completed"),R.ref("Important_People").child(e.name).getDownloadURL().then((function(e){n.pic=e,a.setState({importantPeople2:n,saveButtonEnabled:!0})}))}))}}))},a.handleImpPeople3=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.files[0];a.setState({saveButtonEnabled:!1},(function(){var e=t;if(null!==e&&0!==Object.keys(a.state.importantPeople3).length){var n=a.state.importantPeople3;R.ref("Important_People/"+e.name).put(e).on("state_changed",(function(e){var t=e.bytesTransfered/e.totalBytes*100;console.log(t)}),(function(e){console.log(e)}),(function(t){n.have_pic=!0,console.log("completed"),R.ref("Important_People").child(e.name).getDownloadURL().then((function(e){n.pic=e,a.setState({importantPeople3:n,saveButtonEnabled:!0})}))}))}}))},a.grabFireBaseAllPeopleNames=function(){var e=_.firestore();e.collection("users").doc(a.props.theCurrentUserId).collection("people").get().then((function(t){for(var n=[],o=[],r={},i=0,l=function(l){e.collection("users").doc(a.props.theCurrentUserId).collection("people").doc(t.docs[l].id).get().then((function(e){i++,!0===e.data().important&&(o.push(t.docs[l].id),n.push(e.data())),r[e.data().unique_id]=e.data().name,i===t.docs.length&&(n.length>=3?a.setState({peopleNamesArray:r,enableDropDown:!0,importantPoeplArrayLength:n.length,importantPeople1:n[0],importantPeople2:n[1],importantPeople3:n[2],importantPeople1id:o[0],importantPeople2id:o[1],importantPeople3id:o[2]}):2===n.length?a.setState({peopleNamesArray:r,enableDropDown:!0,importantPoeplArrayLength:n.length,importantPeople1:n[0],importantPeople2:n[1],importantPeople1id:o[0],importantPeople2id:o[1]}):1===n.length?a.setState({peopleNamesArray:r,enableDropDown:!0,importantPoeplArrayLength:n.length,importantPeople1:n[0],importantPeople1id:o[0]}):0===n.length&&a.setState({peopleNamesArray:r,enableDropDown:!0,importantPoeplArrayLength:n.length}))})).catch((function(e){console.log("Error getting documents",e)}))},s=0;s<t.docs.length;s++)l(s)})).catch((function(e){console.log("Error getting documents",e)}))},a.grabFireBaseAboutMeData=function(){_.firestore().collection("users").doc(a.props.theCurrentUserId).get().then((function(e){if(console.log("this is the doc exists",e.exists),e.exists){var t=e.data();console.log("this is the doc data",t);var n=t.first_name,o=t.last_name;void 0!==t.about_me?(t=t.about_me,a.setState({aboutMeObject:t,firstName:n,lastName:o})):a.setState({firstName:n,lastName:o})}else console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))},a.hidePeopleModal=function(){a.setState({showAddNewPeopleModal:!1})},a.updatePeopleArray=function(){a.grabFireBaseAllPeopleNames()},a.changeImpPersonOne=function(e){a.state.firebaseRootPath.collection("people").doc(e).get().then((function(e){var t={},n={};(t=e.data()).important=!0,!1===a.state.ImporPersonOneChange?(n=a.state.importantPeople1).important=!1:n=a.state.importantPeople1Previous,a.setState({ImporPersonOneChange:!0,importantPeople1Previous:n,importantPeople1DocRefChanged:e.ref.id,importantPeople1:t})})).catch((function(e){console.log("Error getting documents",e)}))},a.changeImpPersonTwo=function(e){a.state.firebaseRootPath.collection("people").doc(e).get().then((function(e){var t={},n={};(t=e.data()).important=!0,!1===a.state.ImporPersonTwoChange?(n=a.state.importantPeople2).important=!1:n=a.state.importantPeople2Previous,a.setState({ImporPersonTwoChange:!0,importantPeople2Previous:n,importantPeople2DocRefChanged:e.ref.id,importantPeople2:t})})).catch((function(e){console.log("Error getting documents",e)}))},a.changeImpPersonThree=function(e){a.state.firebaseRootPath.collection("people").doc(e).get().then((function(e){var t={},n={};(t=e.data()).important=!0,!1===a.state.ImporPersonThreeChange?(n=a.state.importantPeople3).important=!1:n=a.state.importantPeople3Previous,a.setState({ImporPersonThreeChange:!0,importantPeople3Previous:n,importantPeople3DocRefChanged:e.ref.id,importantPeople3:t})})).catch((function(e){console.log("Error getting documents",e)}))},a.newInputSubmit=function(){!0===a.state.importantPeople1.important&&(!0===a.state.ImporPersonOneChange?(null!=a.state.importantPeople1id&&a.state.firebaseRootPath.collection("people").doc(a.state.importantPeople1id).update(a.state.importantPeople1Previous),null!=a.state.importantPeople1DocRefChanged&&a.state.firebaseRootPath.collection("people").doc(a.state.importantPeople1DocRefChanged).update(a.state.importantPeople1)):a.state.firebaseRootPath.collection("people").doc(a.state.importantPeople1id).update(a.state.importantPeople1)),!0===a.state.importantPeople2.important&&(!0===a.state.ImporPersonTwoChange?(null!=a.state.importantPeople2id&&a.state.firebaseRootPath.collection("people").doc(a.state.importantPeople2id).update(a.state.importantPeople2Previous),null!=a.state.importantPeople2DocRefChanged&&a.state.firebaseRootPath.collection("people").doc(a.state.importantPeople2DocRefChanged).update(a.state.importantPeople2)):a.state.firebaseRootPath.collection("people").doc(a.state.importantPeople2id).update(a.state.importantPeople2)),!0===a.state.importantPeople3.important&&(!0===a.state.ImporPersonThreeChange?(null!=a.state.importantPeople3id&&a.state.firebaseRootPath.collection("people").doc(a.state.importantPeople3id).update(a.state.importantPeople3Previous),null!=a.state.importantPeople3DocRefChanged&&a.state.firebaseRootPath.collection("people").doc(a.state.importantPeople3DocRefChanged).update(a.state.importantPeople3)):a.state.firebaseRootPath.collection("people").doc(a.state.importantPeople3id).update(a.state.importantPeople3)),a.state.firebaseRootPath.update({first_name:a.state.firstName}),a.state.firebaseRootPath.update({last_name:a.state.lastName});var e=a.state.aboutMeObject,t=a.state.firstName+" "+a.state.lastName;a.state.firebaseRootPath.update({about_me:e}).then((function(e){a.props.updateProfilePic(t,a.state.aboutMeObject.pic),a.hideAboutForm()}))},a.state={firebaseRootPath:_.firestore().collection("users").doc(a.props.theCurrentUserId),importantPeople1id:null,importantPeople2id:null,importantPeople3id:null,aboutMeObject:{have_pic:!1,message_card:"",message_day:"",pic:""},firstName:"",lastName:"",peopleNamesArray:{},importantPoeplArrayLength:"0",importantPeople1:{have_pic:!1,important:!1,name:"",phone_number:"",pic:"",relationship:"",unique_id:""},importantPeople2:{have_pic:!1,important:!1,name:"",phone_number:"",pic:"",relationship:"",unique_id:""},importantPeople3:{have_pic:!1,important:!1,name:"",phone_number:"",pic:"",relationship:"",unique_id:""},ImporPersonOneChange:!1,ImporPersonTwoChange:!1,ImporPersonThreeChange:!1,importantPeople1Previous:{},importantPeople2Previous:{},importantPeople3Previous:{},importantPeople1DocRefChanged:null,importantPeople2DocRefChanged:null,importantPeople3DocRefChanged:null,showAddNewPeopleModal:!1,saveButtonEnabled:!0,enableDropDown:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.grabFireBaseAboutMeData(),this.grabFireBaseAllPeopleNames()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(I.a.Dialog,{style:{borderRadius:"15px",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)",marginLeft:"35px",width:"350px",marginTop:"0"}},o.a.createElement(I.a.Header,{closeButton:!0,onHide:function(){e.hideAboutForm()}},o.a.createElement(I.a.Title,null,o.a.createElement("h5",{className:"normalfancytext"},"About Me")," ")),o.a.createElement(I.a.Body,null,o.a.createElement(O.a.Group,null,o.a.createElement(O.a.Label,null,"Name:"),o.a.createElement(D.a,null,o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement("label",{style:{marginTop:"10px",marginLeft:"10px"}},"First:")),o.a.createElement(S.a,{xs:9,style:{paddingLeft:"0px"}},o.a.createElement(O.a.Control,{type:"text",placeholder:"First Last",value:this.state.firstName||"",onChange:function(t){t.stopPropagation(),e.setState({firstName:t.target.value})}}))),o.a.createElement(D.a,null,o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement("label",{style:{marginTop:"10px",marginLeft:"10px"}},"Last:")),o.a.createElement(S.a,{xs:9,style:{paddingLeft:"0px"}},o.a.createElement(O.a.Control,{type:"text",placeholder:"First Last",value:this.state.lastName||"",onChange:function(t){t.stopPropagation(),e.setState({lastName:t.target.value})}})))),o.a.createElement(D.a,null,o.a.createElement(S.a,null,!1===this.state.aboutMeObject.have_pic?o.a.createElement(V.a,{icon:Y.d,size:"6x"}):o.a.createElement("img",{style:{display:"block",marginLeft:"auto",marginRight:"auto",width:"100%",height:"70px"},src:this.state.aboutMeObject.pic,alt:"Profile"})),o.a.createElement(S.a,{xs:8},o.a.createElement("label",null,"Upload A New Image"),o.a.createElement("input",{style:{color:"transparent"},accept:"image/*",type:"file",onChange:this.handleFileSelected,id:"ProfileImage"}))),o.a.createElement(O.a.Group,{controlId:"AboutMessage",style:{marginTop:"10px"}},o.a.createElement(O.a.Label,null,"Message (My Day):"),o.a.createElement(O.a.Control,{as:"textarea",rows:"4",type:"text",placeholder:"You are a strong ...",value:this.state.aboutMeObject.message_day||"",onChange:function(t){t.stopPropagation();var a=e.state.aboutMeObject;a.message_day=t.target.value,e.setState({aboutMeObject:a})}})),o.a.createElement(O.a.Group,{controlId:"AboutMessageCard"},o.a.createElement(O.a.Label,null,"Message (My Card):"),o.a.createElement(O.a.Control,{as:"textarea",rows:"4",type:"text",placeholder:"You are a safe ...",value:this.state.aboutMeObject.message_card||"",onChange:function(t){t.stopPropagation();var a=e.state.aboutMeObject;a.message_card=t.target.value,e.setState({aboutMeObject:a})}})),o.a.createElement(O.a.Group,null,o.a.createElement(O.a.Label,null,"Important People"),this.state.showAddNewPeopleModal&&o.a.createElement(se,{closeModal:this.hidePeopleModal,newPersonAdded:this.updatePeopleArray,currentUserId:this.props.theCurrentUserId}),o.a.createElement(D.a,null,o.a.createElement(S.a,null,!1===this.state.importantPeople1.have_pic?o.a.createElement("div",null,o.a.createElement(V.a,{icon:Y.d,size:"6x",style:{marginLeft:"5px"}}),!1===this.state.importantPeople1.important?o.a.createElement("input",{style:{color:"transparent",marginTop:"15px",width:"100px",overflow:"hidden"},type:"file",accept:"image/*",disabled:!0}):o.a.createElement("input",{style:{color:"transparent",marginTop:"15px",width:"100px",overflow:"hidden"},type:"file",accept:"image/*",onChange:this.handleImpPeople1})):o.a.createElement("div",null,o.a.createElement("img",{style:{display:"block",width:"80%",height:"70px",marginTop:"10px",marginLeft:"5px"},src:this.state.importantPeople1.pic,alt:"Important Person 1"}),o.a.createElement("input",{style:{color:"transparent",marginTop:"15px",width:"100px",overflow:"hidden"},type:"file",accept:"image/*",onChange:this.handleImpPeople1}))),o.a.createElement(S.a,{xs:7,style:{paddingLeft:"0px",marginTop:"10px"}},o.a.createElement("div",{className:"d-flex flex-row"},!1===this.state.importantPeople1.important?o.a.createElement(O.a.Control,{style:{width:"150px",display:"inline-block"},type:"text",placeholder:"Name ...",value:"",disabled:!0}):o.a.createElement(O.a.Control,{style:{width:"150px",display:"inline-block"},type:"text",placeholder:"Name ...",value:this.state.importantPeople1.name||"",onChange:function(t){t.stopPropagation();var a=e.state.importantPeople1;a.name=t.target.value,e.setState({importantPeople1:a})}}),!1===this.state.enableDropDown?o.a.createElement(T.a,{style:{display:"inline-block"},title:"",disabled:!0}):o.a.createElement(T.a,{title:""},Object.keys(this.state.peopleNamesArray).map((function(t,a){return o.a.createElement(C.a.Item,{key:t,onClick:function(a){e.changeImpPersonOne(t)}},e.state.peopleNamesArray[t])})))),!1===this.state.importantPeople1.important?o.a.createElement("div",null,o.a.createElement(O.a.Control,{type:"text",placeholder:"Relationship",value:"",disabled:!0}),o.a.createElement(O.a.Control,{type:"text",placeholder:"Phone Number",value:"",disabled:!0})):o.a.createElement("div",null,o.a.createElement(O.a.Control,{type:"text",placeholder:"Relationship",value:this.state.importantPeople1.relationship||"",onChange:function(t){t.stopPropagation();var a=e.state.importantPeople1;a.relationship=t.target.value,e.setState({importantPeople1:a})}}),o.a.createElement(O.a.Control,{type:"text",placeholder:"Phone Number",value:this.state.importantPeople1.phone_number||"",onChange:function(t){t.stopPropagation();var a=e.state.importantPeople1;a.phone_number=t.target.value,e.setState({importantPeople1:a})}}))),!1===this.state.importantPeople1.important&&o.a.createElement("p",{style:{fontSize:"0.9em",marginLeft:"20px"}}," Choose a person or add a new one")),o.a.createElement(D.a,{style:{marginTop:"20px"}},o.a.createElement(S.a,null,!1===this.state.importantPeople2.have_pic?o.a.createElement("div",null,o.a.createElement(V.a,{icon:Y.d,size:"6x",style:{marginLeft:"5px"}}),!1===this.state.importantPeople2.important?o.a.createElement("input",{style:{color:"transparent",marginTop:"15px",width:"100px",overflow:"hidden"},type:"file",accept:"image/*",disabled:!0}):o.a.createElement("input",{style:{color:"transparent",marginTop:"15px",width:"100px",overflow:"hidden"},type:"file",accept:"image/*",onChange:this.handleImpPeople2})):o.a.createElement("div",null,o.a.createElement("img",{style:{display:"block",width:"80%",height:"70px",marginTop:"10px",marginLeft:"5px"},src:this.state.importantPeople2.pic,alt:"Important People 2"}),o.a.createElement("input",{style:{color:"transparent",marginTop:"15px",width:"100px",overflow:"hidden"},type:"file",accept:"image/*",onChange:this.handleImpPeople2}))),o.a.createElement(S.a,{xs:7,style:{paddingLeft:"0px",marginTop:"10px"}},o.a.createElement("div",{className:"d-flex flex-row"},!1===this.state.importantPeople2.important?o.a.createElement(O.a.Control,{style:{width:"150px",display:"inline-block"},type:"text",placeholder:"Name ...",value:"",disabled:!0}):o.a.createElement(O.a.Control,{style:{width:"150px",display:"inline-block"},type:"text",placeholder:"Name ...",value:this.state.importantPeople2.name||"",onChange:function(t){t.stopPropagation();var a=e.state.importantPeople2;a.name=t.target.value,e.setState({importantPeople2:a})}}),!1===this.state.enableDropDown?o.a.createElement(T.a,{style:{display:"inline-block"},title:"",disabled:!0}):o.a.createElement(T.a,{title:""},Object.keys(this.state.peopleNamesArray).map((function(t,a){return o.a.createElement(C.a.Item,{key:t,onClick:function(a){e.changeImpPersonTwo(t)}},e.state.peopleNamesArray[t])})))),!1===this.state.importantPeople2.important?o.a.createElement("div",null,o.a.createElement(O.a.Control,{type:"text",placeholder:"Relationship",value:"",disabled:!0}),o.a.createElement(O.a.Control,{type:"text",placeholder:"Phone Number",value:"",disabled:!0})):o.a.createElement("div",null,o.a.createElement(O.a.Control,{type:"text",placeholder:"Relationship",value:this.state.importantPeople2.relationship||"",onChange:function(t){t.stopPropagation();var a=e.state.importantPeople2;a.relationship=t.target.value,e.setState({importantPeople2:a})}}),o.a.createElement(O.a.Control,{type:"text",placeholder:"Phone Number",value:this.state.importantPeople2.phone_number||"",onChange:function(t){t.stopPropagation();var a=e.state.importantPeople2;a.phone_number=t.target.value,e.setState({importantPeople2:a})}}))),!1===this.state.importantPeople2.important&&o.a.createElement("p",{style:{fontSize:"0.9em",marginLeft:"20px"}}," Choose a person or add a new one")),o.a.createElement(D.a,{style:{marginTop:"20px"}},o.a.createElement(S.a,null,!1===this.state.importantPeople3.have_pic?o.a.createElement("div",null,o.a.createElement(V.a,{icon:Y.d,size:"6x",style:{marginLeft:"5px"}}),!1===this.state.importantPeople3.important?o.a.createElement("input",{style:{color:"transparent",marginTop:"15px",width:"100px",overflow:"hidden"},type:"file",accept:"image/*",disabled:!0}):o.a.createElement("input",{style:{color:"transparent",marginTop:"15px",width:"100px",overflow:"hidden"},type:"file",accept:"image/*",onChange:this.handleImpPeople3})):o.a.createElement("div",null,o.a.createElement("img",{style:{display:"block",width:"80%",height:"70px",marginTop:"10px",marginLeft:"5px"},src:this.state.importantPeople3.pic,alt:"Important People 3"}),o.a.createElement("input",{style:{color:"transparent",marginTop:"15px",width:"100px",overflow:"hidden"},type:"file",accept:"image/*",onChange:this.handleImpPeople3}))),o.a.createElement(S.a,{xs:7,style:{paddingLeft:"0px",marginTop:"10px"}},o.a.createElement("div",{className:"d-flex flex-row"},!1===this.state.importantPeople3.important?o.a.createElement(O.a.Control,{style:{width:"150px",display:"inline-block"},type:"text",placeholder:"Name ...",value:"",disabled:!0}):o.a.createElement(O.a.Control,{style:{width:"150px",display:"inline-block"},type:"text",placeholder:"Name ...",value:this.state.importantPeople3.name||"",onChange:function(t){t.stopPropagation();var a=e.state.importantPeople3;a.name=t.target.value,e.setState({importantPeople3:a})}}),!1===this.state.enableDropDown?o.a.createElement(T.a,{style:{display:"inline-block"},title:"",disabled:!0}):o.a.createElement(T.a,{title:""},Object.keys(this.state.peopleNamesArray).map((function(t,a){return o.a.createElement(C.a.Item,{key:t,onClick:function(a){e.changeImpPersonThree(t)}},e.state.peopleNamesArray[t])})))),!1===this.state.importantPeople3.important?o.a.createElement("div",null,o.a.createElement(O.a.Control,{type:"text",placeholder:"Relationship",value:"",disabled:!0}),o.a.createElement(O.a.Control,{type:"text",placeholder:"Phone Number",value:"",disabled:!0})):o.a.createElement("div",null,o.a.createElement(O.a.Control,{type:"text",placeholder:"Relationship",value:this.state.importantPeople3.relationship||"",onChange:function(t){t.stopPropagation();var a=e.state.importantPeople3;a.relationship=t.target.value,e.setState({importantPeople3:a})}}),o.a.createElement(O.a.Control,{type:"text",placeholder:"Phone Number",value:this.state.importantPeople3.phone_number||"",onChange:function(t){t.stopPropagation();var a=e.state.importantPeople3;a.phone_number=t.target.value,e.setState({importantPeople3:a})}}))),!1===this.state.importantPeople3.important&&o.a.createElement("p",{style:{fontSize:"0.9em",marginLeft:"20px"}}," Choose a person or add a new one")))),o.a.createElement(I.a.Footer,null,o.a.createElement(w.a,{fluid:!0},o.a.createElement(D.a,null,o.a.createElement(S.a,{xs:3},!1===this.state.saveButtonEnabled||!0===this.state.showAddNewPeopleModal?o.a.createElement(k.a,{variant:"info",type:"submit",disabled:!0},"Save"):o.a.createElement(k.a,{variant:"info",type:"submit",onClick:function(t){t.stopPropagation(),e.newInputSubmit()}},"Save")),o.a.createElement(S.a,{xs:4},o.a.createElement(k.a,{variant:"secondary",onClick:this.hideAboutForm},"Cancel")),o.a.createElement(S.a,{xs:4},o.a.createElement(k.a,{variant:"primary",onClick:function(t){t.stopPropagation(),e.setState({showAddNewPeopleModal:!0})}},"Add People")))))))}}]),t}(o.a.Component),pe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={itemToEdit:{email_id:"",first_name:"",last_name:"",google_auth_token:"",google_refresh_token:""},copy_from_user:"",copy_from_user_name:"Copy Exisiting Client",unique_id:"",UserDocsPath:_.firestore().collection("users")},a.newUserInputSubmit=function(){console.log("this is the copy fron user",a.state.copy_from_user),a.state.UserDocsPath.add(a.state.itemToEdit).then((function(e){null!==e.id?(a.state.itemToEdit.unique_id=e.id,console.log("Added document with ID: ",e.id),a.updateWithId(e.id)):alert("Fail to add new routine / goal item")}))},a.updateWithId=function(e){console.log("this is the id",e),console.log("this is the itemtoedit ",a.state.itemToEdit),a.state.UserDocsPath.doc(e).update(a.state.itemToEdit).then((function(t){if(console.log("it should be going in here"),""!=a.state.copy_from_user){var n={data:{copy_from_user:a.state.copy_from_user,copy_to_user:e}},o={headers:{"content-type":"application/json"},body:JSON.stringify(n),method:"POST"};fetch("https://us-central1-project-caitlin-c71a9.cloudfunctions.net/CopyUserData",o).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))}a.props.newUserAdded()}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(I.a.Dialog,{style:{marginLeft:"10px",width:"600px",paddingLeft:"0px",marginTop:"10px"}},o.a.createElement(I.a.Body,null,o.a.createElement(D.a,null,o.a.createElement(S.a,{xs:4},o.a.createElement("label",null," Email"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"150px"},placeholder:"Enter Email",value:this.state.itemToEdit.email_id,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.email_id=t.target.value,e.setState({itemToEdit:a})}}))),o.a.createElement(S.a,{xs:4,style:{paddingLeft:"5px"}},o.a.createElement("label",null," FIrst Name"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"150px"},placeholder:"Enter Name",value:this.state.itemToEdit.first_name,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.first_name=t.target.value,e.setState({itemToEdit:a})}}))),o.a.createElement(S.a,{xs:4,style:{paddingLeft:"0px"}},o.a.createElement("label",null,"Last Name"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{style:{width:"150px"},placeholder:"Enter Name ",value:this.state.itemToEdit.last_name,onChange:function(t){t.stopPropagation();var a=e.state.itemToEdit;a.last_name=t.target.value,e.setState({itemToEdit:a})}})))),o.a.createElement(D.a,null,o.a.createElement(S.a,{xs:5},o.a.createElement(T.a,{title:this.state.copy_from_user_name,style:{}},Object.keys(this.props.userNamesAndId).map((function(t,a){return o.a.createElement(C.a.Item,{key:t,onClick:function(a){e.setState({copy_from_user:t,copy_from_user_name:e.props.userNamesAndId[t]})}},e.props.userNamesAndId[t]||"")})))),o.a.createElement(S.a,{xs:3},o.a.createElement(k.a,{style:{marginLeft:"30px"},variant:"secondary",onClick:this.props.closeModal},"Close")),o.a.createElement(S.a,{xs:4},o.a.createElement(k.a,{variant:"info",style:{marginRight:"30px"},type:"submit",onClick:function(t){t.stopPropagation(),e.newUserInputSubmit()}},"Save changes")))))}}]),t}(n.Component),me=(a(227),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).grabFireBaseRoutinesGoalsData=function(){var e=_.firestore();""!==a.state.currentUserId&&e.collection("users").doc(a.state.currentUserId).get().then((function(e){if(e.exists){var t=e.data(),n=[],o=[];if(void 0!==t["goals&routines"]){t=t["goals&routines"];for(var r=0;r<t.length;++r)t[r].is_persistent?n.push(t[r]):t[r].is_persistent||o.push(t[r]);a.setState({originalGoalsAndRoutineArr:t,goals:o,addNewGRModalShow:!1,routines:n})}else a.setState({originalGoalsAndRoutineArr:[],goals:o,addNewGRModalShow:!1,routines:n})}else console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))},a.handleRepeatDropDown=function(e,t){if("WEEK"===e){var n=Object(y.a)({},a.state.byDay_temp,Object(v.a)({},a.state.newEventStart0.getDay(),t[a.state.newEventStart0.getDay()]));a.setState({repeatDropDown_temp:e,byDay_temp:n})}a.setState({repeatDropDown_temp:e})},a.handleRepeatMonthlyDropDown=function(e){a.setState({repeatMonthlyDropDown:e})},a.handleRepeatEndDate=function(e){a.setState({repeatEndDate_temp:e})},a.handleRepeatInputValue=function(e){a.setState({repeatInputValue_temp:e})},a.handleRepeatOccurrence=function(e){a.setState({repeatOccurrence_temp:e})},a.getUrlParam=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},a.updateStatesByQuery=function(){var e=window.location.href,t="true"==a.getUrlParam("createUser",e);t&&a.setState({showNewAccountmodal:t})},a.updateProfileFromFirebase=function(){_.firestore().collection("users").get().then((function(e){var t={},n=[],o="",r="",i="",l=!0,s=!1,c=void 0;try{for(var p,m=e.docs[Symbol.iterator]();!(l=(p=m.next()).done);l=!0){var d=p.value,u=d.id,g=d.data(),h=(g.first_name||"")+" "+(g.last_name||""),E="";void 0!==g.about_me&&(E=g.about_me.pic),n.push(E),t[u]=h,o=t[Object.keys(t)[0]],r=n[0],i=Object.keys(t)[0]}}catch(f){s=!0,c=f}finally{try{l||null==m.return||m.return()}finally{if(s)throw c}}a.setState({userIdAndNames:t,enableNameDropDown:!0,userPicsArray:n,currentUserPicUrl:r,currentUserId:i,currentUserName:o},(function(){a.grabFireBaseRoutinesGoalsData(),a.updateEventsArray()}))})).catch((function(e){console.log("Error getting document:",e)}))},a.getThisMonthEvents=function(){x.a.get("/getEventsByInterval",{params:{}}).then((function(e){var t=e.data;a.setState({originalEvents:t},(function(){console.log("New Events Arrived cdm",t)}))})).catch((function(e){}))},a.handleDayEventClick=function(e){var t="";console.log(e,"handleDayEventClick"),e.recurringEventId&&x.a.get("/getRecurringRules",{params:{recurringEventId:e.recurringEventId}}).then((function(e){console.log(e.data,"getRecurringRules"),a.setState({recurrenceRule:e.data[0]},(function(){a.repeatSummaryCompute()}))})),e.attendees&&(t=e.attendees.reduce((function(e,t){return e+" "+t.email}),""),console.log("Guest List:",e.attendees,t)),a.setState({newEvent:e,newEventID:e.id,newEventRecurringID:e.recurringEventId,newEventStart0:e.start.dateTime?new Date(e.start.dateTime):new Date(e.start.date),newEventEnd0:e.end.dateTime?new Date(e.end.dateTime):new Date(e.end.date),newEventName:e.summary,newEventGuests:t,newEventLocation:e.location?e.location:"",newEventNotification:e.reminders.overrides?e.reminders.overrides[0].minutes:"",newEventDescription:e.description?e.description:"",dayEventSelected:!0,isEvent:!0,showNoTitleError:"",showDateError:"",showRepeatModal:!1,showAboutModal:!1,repeatOption:!1,repeatOptionDropDown:"Does not repeat",repeatDropDown:"DAY",repeatDropDown_temp:"DAY",repeatMonthlyDropDown:"Monthly on day 13",repeatInputValue:"1",repeatInputValue_temp:"1",repeatOccurrence:"1",repeatOccurrence_temp:"1",repeatRadio:"Never",repeatRadio_temp:"Never",repeatEndDate:"",repeatEndDate_temp:"",byDay:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},byDay_temp:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},repeatSummary:"",recurrenceRule:"",showDeleteRecurringModal:!1,deleteRecurringOption:"This event",showEditRecurringModal:!1,editRecurringOption:""})},a.handleWeekEventClick=function(e){var t="";e.attendees&&(t=e.attendees.reduce((function(e,t){return e+" "+t.email}),""),console.log("Guest List:",e.attendees,t)),a.setState({newEventID:e.id,newEventStart0:e.start.dateTime?new Date(e.start.dateTime):new Date(e.start.date),newEventEnd0:e.end.dateTime?new Date(e.end.dateTime):new Date(e.end.date),newEventName:e.summary,newEventGuests:t,newEventLocation:e.location?e.location:"",newEventNotification:e.reminders.overrides?e.reminders.overrides[0].minutes:"",newEventDescription:e.description?e.description:"",dayEventSelected:!0,isEvent:!0,showNoTitleError:"",showDateError:"",showRepeatModal:!1,showAboutModal:!1,repeatOption:!1,repeatOptionDropDown:"Does not repeat",repeatDropDown:"DAY",repeatDropDown_temp:"DAY",repeatMonthlyDropDown:"Monthly on day 13",repeatInputValue:"1",repeatInputValue_temp:"1",repeatOccurrence:"1",repeatOccurrence_temp:"1",repeatRadio:"Never",repeatRadio_temp:"Never",repeatEndDate:"",repeatEndDate_temp:"",byDay:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},byDay_temp:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},repeatSummary:"",recurrenceRule:"",showDeleteRecurringModal:!1,deleteRecurringOption:"This event",showEditRecurringModal:!1,editRecurringOption:""})},a.repeatSummaryCompute=function(){var e=a.state.recurrenceRule,t="",n=e.indexOf("UNTIL");if(-1!==n&&(t=e.substring(n)),console.log(t),t.includes(";")){var o=t.indexOf(";");t=G()(t.substring(6,o)).format("LL")}else t&&(console.log(G()("20200406T065959Z").format("LL")),t=G()(t.substring(6,14)).format("LL"));console.log(t);var r="",i=e.indexOf("COUNT");if(-1!==i&&(r=e.substring(i)),r.includes(";")){var l=r.indexOf(";");r=r.substring(6,l)}else r&&(r=r.substring(6));console.log(r,"countSubString");var s="",c=e.indexOf("INTERVAL");if(-1!==c&&(s=e.substring(c)),s.includes(";")){var p=s.indexOf(";");s=s.substring(9,p)}else s&&(s=s.substring(9));var m="",d=[],u=e.indexOf("BYDAY");if(-1!==u&&(m=e.substring(u)),console.log(m),m.includes(";")){var g=m.indexOf(";");m=m.substring(6,g)}else m&&(m=m.substring(6));d=m.split(","),console.log(d),e.includes("FREQ=DAILY")?"1"!==s&&s?e.includes("COUNT")||e.includes("UNTIL")?e.includes("UNTIL")?a.setState({repeatOptionDropDown:"Every ".concat(s," days, until ").concat(t)}):e.includes("COUNT")&&("1"===r?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Every ".concat(s," days, ").concat(r," times")})):a.setState({repeatOptionDropDown:"Every ".concat(s," days")}):e.includes("COUNT")||e.includes("UNTIL")?e.includes("UNTIL")?a.setState({repeatOptionDropDown:"Daily, until ".concat(t)}):e.includes("COUNT")&&("1"===r?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Daily, ".concat(r," times")})):a.setState({repeatOptionDropDown:"Daily"}):e.includes("FREQ=WEEKLY")?"1"!==s&&s?e.includes("COUNT")||e.includes("UNTIL")?e.includes("UNTIL")?7===d.length?a.setState({repeatOptionDropDown:"Every ".concat(s," weeks on all days, until ").concat(t)}):a.setState({repeatOptionDropDown:"Every ".concat(s," weeks on ").concat(d.join(", "),", until ").concat(t)}):e.includes("COUNT")&&("1"===r?a.setState({repeatOptionDropDown:"Once"}):7===d.length?a.setState({repeatOptionDropDown:"Every ".concat(s," weeks on all days, ").concat(r," times")}):a.setState({repeatOptionDropDown:"Every ".concat(s," weeks on ").concat(d.join(", "),", ").concat(r," times")})):7===d.length?a.setState({repeatOptionDropDown:"Every ".concat(s," weeks on all days")}):a.setState({repeatOptionDropDown:"Every ".concat(s," weeks on ").concat(d.join(", "))}):e.includes("COUNT")||e.includes("UNTIL")?e.includes("UNTIL")?7===d.length?a.setState({repeatOptionDropDown:"Weekly on all days, until ".concat(t)}):a.setState({repeatOptionDropDown:"Weekly on ".concat(d.join(", "),", until ").concat(t)}):e.includes("COUNT")&&("1"===r?a.setState({repeatOptionDropDown:"Once"}):7===d.length?a.setState({repeatOptionDropDown:"Weekly on all days, ".concat(r," times")}):a.setState({repeatOptionDropDown:"Weekly on ".concat(d.join(", "),", ").concat(r," times")})):7===d.length?a.setState({repeatOptionDropDown:"Weekly on all days"}):a.setState({repeatOptionDropDown:"Weekly on ".concat(d.join(", "))}):e.includes("FREQ=MONTHLY")?"1"!==s&&s?e.includes("COUNT")||e.includes("UNTIL")?e.includes("UNTIL")?a.setState({repeatOptionDropDown:"Every ".concat(s," months, until ").concat(t)}):e.includes("COUNT")&&("1"===r?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Every ".concat(s," months, ").concat(r," times")})):a.setState({repeatOptionDropDown:"Every ".concat(s," months")}):e.includes("COUNT")||e.includes("UNTIL")?e.includes("UNTIL")?a.setState({repeatOptionDropDown:"Monthly, until ".concat(t)}):e.includes("COUNT")&&("1"===r?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Monthly, ".concat(r," times")})):a.setState({repeatOptionDropDown:"Monthly"}):e.includes("FREQ=YEARLY")&&("1"!==s&&s?e.includes("COUNT")||e.includes("UNTIL")?e.includes("UNTIL")?a.setState({repeatOptionDropDown:"Every ".concat(s," years, until ").concat(t)}):e.includes("COUNT")&&("1"===r?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Every ".concat(s," years, ").concat(r," times")})):a.setState({repeatOptionDropDown:"Every ".concat(s," years")}):e.includes("COUNT")||e.includes("UNTIL")?e.includes("UNTIL")?a.setState({repeatOptionDropDown:"Annually, until ".concat(t)}):e.includes("COUNT")&&("1"===r?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Annually, ".concat(r," times")})):a.setState({repeatOptionDropDown:"Annually"}))},a.handleEventClick=function(e){var t=a.state.originalEvents[e];console.log("A",t),t.recurringEventId&&x.a.get("/getRecurringRules",{params:{recurringEventId:t.recurringEventId}}).then((function(e){console.log(e.data,"getRecurringRules"),a.setState({recurrenceRule:e.data[0]},(function(){a.repeatSummaryCompute()}))}));var n="";t.attendees&&(n=t.attendees.reduce((function(e,t){return e+" "+t.email}),""),console.log("Guest List:",t.attendees,n)),a.setState({newEvent:t,newEventID:t.id,newEventRecurringID:t.recurringEventId,newEventStart0:t.start.dateTime?new Date(t.start.dateTime):new Date(t.start.date),newEventEnd0:t.end.dateTime?new Date(t.end.dateTime):new Date(t.end.date),newEventName:t.summary,newEventGuests:n,newEventLocation:t.location?t.location:"",newEventNotification:t.reminders.overrides?t.reminders.overrides[0].minutes:"",newEventDescription:t.description?t.description:"",dayEventSelected:!0,isEvent:!0,showRepeatModal:!1,repeatOption:!1,repeatOptionDropDown:"Does not repeat",repeatDropDown:"DAY",repeatDropDown_temp:"DAY",repeatMonthlyDropDown:"Monthly on day 13",repeatInputValue:"1",repeatInputValue_temp:"1",repeatOccurrence:"1",repeatOccurrence_temp:"1",repeatRadio:"Never",repeatRadio_temp:"Never",repeatEndDate:"",repeatEndDate_temp:"",showNoTitleError:"",showDateError:"",showAboutModal:!1,byDay:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},byDay_temp:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},repeatSummary:"",recurrenceRule:"",showDeleteRecurringModal:!1,deleteRecurringOption:"This event",showEditRecurringModal:!1,editRecurringOption:""},(function(){console.log("callback from handEventClick")}))},a.handleDateClickOnWeekView=function(e){var t=e.toDate();e.add(1,"hour");var n=e.toDate();a.setState({newEventID:"",newEventStart0:t,newEventEnd0:n,newEventName:"",newEventGuests:"",newEventLocation:"",newEventNotification:30,newEventDescription:"",dayEventSelected:!0,isEvent:!1,showNoTitleError:"",showDateError:"",showRepeatModal:!1,showAboutModal:!1,repeatOption:!1,repeatOptionDropDown:"Does not repeat",repeatDropDown:"DAY",repeatDropDown_temp:"DAY",repeatMonthlyDropDown:"Monthly on day 13",repeatInputValue:"1",repeatInputValue_temp:"1",repeatOccurrence:"1",repeatOccurrence_temp:"1",repeatRadio:"Never",repeatRadio_temp:"Never",repeatEndDate:"",repeatEndDate_temp:"",byDay:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},byDay_temp:{0:"",1:"",2:"",3:"",4:"",5:"",6:""}})},a.handleDateClickOnDayView=function(e,t){var n=new Date(e);n.setHours(t,0,0);var o=new Date(e);o.setHours(t+1,0,0),a.setState({newEventID:"",newEventStart0:n,newEventEnd0:o,newEventName:"",newEventGuests:"",newEventLocation:"",newEventNotification:30,newEventDescription:"",dayEventSelected:!0,isEvent:!1,showNoTitleError:"",showDateError:"",showRepeatModal:!1,showAboutModal:!1,repeatOption:!1,repeatOptionDropDown:"Does not repeat",repeatDropDown:"DAY",repeatDropDown_temp:"DAY",repeatMonthlyDropDown:"Monthly on day 13",repeatInputValue:"1",repeatInputValue_temp:"1",repeatOccurrence:"1",repeatOccurrence_temp:"1",repeatRadio:"Never",repeatRadio_temp:"Never",repeatEndDate:"",repeatEndDate_temp:"",byDay:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},byDay_temp:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},repeatSummary:"",recurrenceRule:"",showDeleteRecurringModal:!1,deleteRecurringOption:"This event",showEditRecurringModal:!1,editRecurringOption:""})},a.handleDateClick=function(e){var t=new Date(e);t.setHours(0,0,0,0);var n=new Date(e);n.setHours(23,59,59,59),a.setState({newEventID:"",newEventStart0:t,newEventEnd0:n,newEventName:"",newEventGuests:"",newEventLocation:"",newEventNotification:30,newEventDescription:"",dayEventSelected:!0,isEvent:!1,repeatOption:!1,repeatOptionDropDown:"Does not repeat",repeatDropDown:"DAY",repeatDropDown_temp:"DAY",repeatMonthlyDropDown:"Monthly on day 13",repeatInputValue:"1",repeatInputValue_temp:"1",repeatOccurrence:"1",repeatOccurrence_temp:"1",repeatRadio:"Never",repeatRadio_temp:"Never",repeatEndDate:"",repeatEndDate_temp:"",showNoTitleError:"",showDateError:"",showAboutModal:!1,byDay:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},byDay_temp:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},repeatSummary:"",recurrenceRule:"",showDeleteRecurringModal:!1,deleteRecurringOption:"This event",showEditRecurringModal:!1,editRecurringOption:""},console.log("handledateclick"))},a.validate=function(){var e="",t="",n=new Date(a.state.newEventStart0).getDate(),o=new Date(a.state.newEventEnd0).getDate(),r=new Date(a.state.newEventStart0).getUTCMonth(),i=new Date(a.state.newEventEnd0).getUTCMonth(),l=new Date(a.state.newEventStart0).getFullYear(),s=new Date(a.state.newEventEnd0).getFullYear(),c=new Date(a.state.newEventStart0).getHours(),p=new Date(a.state.newEventEnd0).getHours();return(n>o&&r===i||r>i&&l===s||l>s||c>p&&n===o)&&(t="Invalid: start date is before end date"),""===a.state.newEventName&&(e="Invalid: No Title"),!e&&!t||(a.setState({showNoTitleError:e,showDateError:t}),!1)},a.handleExpandClick=function(e){var t=new Date(e);console.log(t),a.setState({dateContext:G()(t),calendarView:"Day"},a.updateEventsArray)},a.handleSubmit=function(e){""!==a.state.start&&""!==a.state.end?a.validate()&&(e.preventDefault(),a.createEvent(a.state.newEventName),a.setState({showNoTitleError:"",showDateError:""})):console.log("invalid params")},a.updateEventClick=function(e){e.preventDefault();var t=a.state.originalEvents;if("Day"===a.state.calendarView?t=a.state.dayEvents:"Week"===a.state.calendarView&&(t=a.state.weekEvents),a.validate()){if(""===a.state.newEventID)return;for(var n=0;n<t.length;n++)t[n].id===a.state.newEventID&&a.updateRequest(t,n)}},a.updateRequest=function(){var e=Object(f.a)(E.a.mark((function e(t,n){var o,r,i,l,s,c,p,m,d,u,g,h,f,v,y,b;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.state.newEventGuests,r=null,(i=o.match(/[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)*(\.)?/g))&&(r=i.map((function(e){return{email:e,responseStatus:"needsAction"}}))),l=30,a.state.newEventNotification&&(l=a.state.newEventNotification),(s=t[n]).summary=a.state.newEventName,s.attendees=r,s.location=a.state.newEventLocation,s.description=a.state.newEventDescription,s.start={dateTime:a.state.newEventStart0.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},s.end={dateTime:a.state.newEventEnd0.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},s.recurrence=a.state.repeatOption?a.defineRecurrence():[a.state.recurrenceRule],s.reminders={overrides:[{method:"popup",minutes:l}],useDefault:!1,sequence:0},c={summary:s.summary,attendees:s.attendees,location:s.location,description:s.description,start:s.start,end:s.end,recurrence:!!s.recurringEventId&&s.recurrence,reminders:s.reminders},s.recurringEventId?console.log("true"):console.log("false"),p="","All events"!==a.state.editRecurringOption){e.next=25;break}return p=s.recurringEventId,console.log("All events"),e.next=23,x.a.get("/getRecurringEventInstances",{params:{recurringEventId:s.recurringEventId}}).then((function(e){c.start=e.data[0].start,c.end=e.data[0].end}));case 23:e.next=44;break;case 25:if("This event"!==a.state.editRecurringOption){e.next=30;break}p=a.state.newEventID,c.recurrence=null,e.next=44;break;case 30:if("This and following events"!==a.state.editRecurringOption){e.next=44;break}return console.log("updatethisandfollowing"),p=s.recurringEventId,m={reminders:a.state.newEvent.reminders,creator:a.state.newEvent.creator,created:a.state.newEvent.created,organizer:a.state.newEvent.organizer,sequence:a.state.newEvent.sequence,status:a.state.newEvent.status},d=a.state.recurrenceRule,u="".concat(G()(a.state.newEventStart0).format("YYYYMMDD")),g="",-1!==(h=a.state.recurrenceRule.indexOf("COUNT"))&&(g=a.state.recurrenceRule.substring(h)),g.includes(";")?(f=g.indexOf(";"),g=g.substring(6,f)):g&&(g=g.substring(6)),d.includes("UNTIL")?(v="",-1!==(y=a.state.recurrenceRule.indexOf("UNTIL"))&&(v=a.state.recurrenceRule.substring(y)),v.includes(";")?(b=v.indexOf(";"),v=v.substring(6,b)):v&&(v=v=v.substring(6)),console.log(v,u,"untilSubString"),d=d.replace(v,u)):d=d.includes("COUNT")?d.replace("COUNT=".concat(g),"UNTIL=".concat(u)):d.concat(";UNTIL=".concat(u)),console.log(d,"newRecurrenceRule"),e.next=44,x.a.get("/getRecurringEventInstances",{params:{recurringEventId:s.recurringEventId}}).then((function(e){m.start=e.data[0].start,m.end=e.data[0].end,m.recurrence=[d],m.summary=e.data[0].summary;var t=G()(m.start.dateTime),n=G()(a.state.newEventStart0),o=g-G.a.duration(n.diff(t)).asDays();if(console.log(t.format("YYMMDD"),"diff"),t.format("YYYYMMDD")===u)throw new Error("first recurring event");c.recurrence[0].includes("COUNT")&&!a.state.repeatOption&&(c.recurrence[0]=c.recurrence[0].replace(g,o)),x.a.post("/createNewEvent",{newEvent:m}).then((function(e){console.log("createnewevent",e),a.setState({dayEventSelected:!1}),a.updateEventsArray()})).catch((function(e){}))})).catch((function(e){console.log(e)}));case 44:x.a.put("/updateEvent",{extra:c,ID:s.recurringEventId?p:a.state.newEventID}).then((function(e){a.setState({dayEventSelected:!1,newEventName:"",newEventStart0:new Date,newEventEnd0:new Date}),a.updateEventsArray()})).catch((function(e){console.log(e)}));case 45:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.defineRecurrence=function(){var e="DAY"===a.state.repeatDropDown?"DAILY":a.state.repeatDropDown.concat("LY"),t="RRULE:FREQ=".concat(e,";INTERVAL=").concat(a.state.repeatInputValue),n=[],o="";if("WEEK"===a.state.repeatDropDown){for(var r=[],i=0,l=Object.entries(a.state.byDay);i<l.length;i++){var s=Object(g.a)(l[i],2),c=s[0],p=s[1];c===a.state.newEventStart0.getDay().toString()&&""===p&&(o="EXDATE;TZID=America/Los_Angeles:".concat(G()(a.state.newEventStart0).format("YYYYMMDD"),"T070000Z"),n.unshift(o)),""!==p&&r.push(p.substring(0,2).toUpperCase())}t=t.concat(";BYDAY=".concat(r.toString()))}if("After"===a.state.repeatRadio&&(t=t.concat(";COUNT=".concat(a.state.repeatOccurrence))),"On"===a.state.repeatRadio){var m=G()(a.state.repeatEndDate).add(1,"days");t=t.concat(";UNTIL=".concat(m.format("YYYYMMDD")))}return n.push(t),console.log("recurrence",n),n},a.deleteSubmit=function(){""!==a.state.newEventID&&x.a.post("/deleteEvent",{ID:a.state.newEventID}).then((function(e){a.setState({dayEventSelected:!1,showDeleteRecurringModal:!1}),a.updateEventsArray()})).catch((function(e){console.log(e)}))},a.createEvent=function(e){var t=null,n=a.state.newEventGuests.match(/[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)*(\.)?/g);n&&(t=n.map((function(e){return{email:e,responseStatus:"needsAction"}})));var o=30;a.state.newEventNotification&&(o=a.state.newEventNotification);var r={summary:a.state.newEventName,location:a.state.newEventLocation,description:a.state.newEventDescription,reminders:{useDefault:!1,sequence:0,overrides:[{method:"popup",minutes:o}]},start:{dateTime:a.state.newEventStart0.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},end:{dateTime:a.state.newEventEnd0.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},recurrence:a.state.repeatOption&&a.defineRecurrence(),attendees:t};x.a.post("/createNewEvent",{newEvent:r,reminderTime:o,title:e,start:a.state.newEventStart0.toISOString(),end:a.state.newEventEnd0.toISOString()}).then((function(e){console.log("createnewevent",e),a.setState({dayEventSelected:!1}),a.updateEventsArray()})).catch((function(e){}))},a.TALogOut=function(){x.a.get("./TALogOut").then((function(e){a.setState({loggedIn:!1},console.log(e))})).catch((function(e){console.log(e)}))},a.nextMonth=function(){var e=Object.assign({},a.state.dateContext);e=G()(e).add(1,"month"),a.setState({dateContext:e,originalEvents:[]},a.updateEventsArray)},a.prevMonth=function(){var e=Object.assign({},a.state.dateContext);e=G()(e).subtract(1,"month"),a.setState({dateContext:e,originalEvents:[]},a.updateEventsArray)},a.nextDay=function(){var e=Object.assign({},a.state.dateContext);e=G()(e).add(1,"day"),a.setState({dateContext:e,dayEvents:[]},a.updateEventsArray)},a.prevDay=function(){var e=Object.assign({},a.state.dateContext);e=G()(e).subtract(1,"day"),a.setState({dateContext:e,dayEvents:[]},a.updateEventsArray)},a.nextWeek=function(){var e=Object.assign({},a.state.dateContext);e=G()(e).add(1,"week"),a.setState({dateContext:e,dayEvents:[]},a.updateEventsArray)},a.prevWeek=function(){var e=Object.assign({},a.state.dateContext);e=G()(e).subtract(1,"week"),a.setState({dateContext:e,dayEvents:[]},a.updateEventsArray)},a.updateEventsArray=function(){if("Month"===a.state.calendarView){var e=a.state.dateContext.clone(),t=a.state.dateContext.clone(),n=e.startOf("month"),o=t.endOf("month"),r=new Date(n.format("MM/DD/YYYY")),i=new Date(o.format("MM/DD/YYYY"));r.setHours(0,0,0),i.setHours(23,59,59),a.getEventsByInterval(r.toString(),i.toString())}else if("Day"===a.state.calendarView){var l=a.state.dateContext.clone(),s=a.state.dateContext.clone(),c=l.startOf("day"),p=s.endOf("day"),m=new Date(c.format("MM/DD/YYYY")),d=new Date(p.format("MM/DD/YYYY"));m.setHours(0,0,0),d.setHours(23,59,59),a.getEventsByIntervalDayVersion(m.toString(),d.toString())}else if("Week"===a.state.calendarView){var u=a.state.dateContext.clone(),g=a.state.dateContext.clone(),h=u.startOf("week"),E=g.endOf("week");new Date(h.format("MM/DD/YYYY")),new Date(E.format("MM/DD/YYYY"));a.getEventsByIntervalWeekVersion(u.toDate(),g.toDate())}},a.openRepeatModal=function(){a.setState((function(e){return{showRepeatModal:!e.showRepeatModal}}))},a.closeRepeatModal=function(){a.setState((function(e){return{showRepeatModal:!1,repeatInputValue_temp:e.repeatInputValue,repeatOccurrence_temp:e.repeatOccurrence,repeatDropDown_temp:e.repeatDropDown,repeatRadio_temp:e.repeatRadio,repeatEndDate_temp:e.repeatEndDate,byDay_temp:e.byDay}})),a.state.repeatOption||"Custom..."!==a.state.repeatOptionDropDown||a.setState({repeatOptionDropDown:"Does not repeat"})},a.saveRepeatChanges=function(){var e=a.state,t=e.repeatDropDown_temp,n=e.repeatInputValue_temp,o=e.repeatOccurrence_temp,r=e.repeatRadio_temp,i=e.repeatEndDate_temp,l=e.byDay_temp;if(a.setState((function(e){return{showRepeatModal:!1,repeatOption:!0,repeatInputValue:e.repeatInputValue_temp,repeatOccurrence:e.repeatOccurrence_temp,repeatDropDown:e.repeatDropDown_temp,repeatRadio:e.repeatRadio_temp,repeatEndDate:e.repeatEndDate_temp,byDay:e.byDay_temp}})),"DAY"===t)"1"===n?"Never"===r?a.setState({repeatOptionDropDown:"Daily"}):"On"===r?a.setState({repeatOptionDropDown:"Daily, until ".concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Daily, ".concat(o," times")}):"Never"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," days")}):"On"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," days, until ").concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Every ".concat(n," days, ").concat(o," times")});else if("WEEK"===t){for(var s=[],c=0,p=Object.entries(l);c<p.length;c++){var m=Object(g.a)(p[c],2),d=(m[0],m[1]);""!==d&&s.push(d)}console.log(s,"selectedDays week"),"1"===n?"Never"===r?7===s.length?a.setState({repeatOptionDropDown:"Weekly on all days"}):a.setState({repeatOptionDropDown:"Weekly on ".concat(s.join(", "))}):"On"===r?7===s.length?a.setState({repeatOptionDropDown:"Weekly on all days, until ".concat(G()(i).format("LL"))}):a.setState({repeatOptionDropDown:"Weekly on ".concat(s.join(", "),", until ").concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):7===s.length?a.setState({repeatOptionDropDown:"Weekly on all days, , ".concat(o," times")}):a.setState({repeatOptionDropDown:"Weekly on ".concat(s.join(", "),", ").concat(o," times")}):"Never"===r?7===s.length?a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on all days")}):a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on ").concat(s.join(", "))}):"On"===r?7===s.length?a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on all days, until ").concat(G()(i).format("LL"))}):a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on ").concat(s.join(", "),", until ").concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):7===s.length?a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on all days, ").concat(o," times")}):a.setState({repeatOptionDropDown:"Every ".concat(n," weeks on ").concat(s.join(", "),", ").concat(o," times")})}else"MONTH"===t?"1"===n?"Never"===r?a.setState({repeatOptionDropDown:"Monthly"}):"On"===r?a.setState({repeatOptionDropDown:"Monthly, until ".concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Monthly, ".concat(o," times")}):"Never"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," months")}):"On"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," months, until ").concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Every ".concat(n," months, ").concat(o," times")}):"YEAR"===t&&("1"===n?"Never"===r?a.setState({repeatOptionDropDown:"Annually"}):"On"===r?a.setState({repeatOptionDropDown:"Annually, until ".concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Annually, ".concat(o," times")}):"Never"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," years")}):"On"===r?a.setState({repeatOptionDropDown:"Every ".concat(n," years, until ").concat(G()(i).format("LL"))}):"1"===o?a.setState({repeatOptionDropDown:"Once"}):a.setState({repeatOptionDropDown:"Every ".concat(n," years, ").concat(o," times")}))},a.hideNewAccountForm=function(){a.setState({showNewAccountmodal:!1})},a.theNewUserAdded=function(){a.setState({showNewAccountmodal:!1},(function(){a.updateProfileFromFirebase()}))},a.hideAboutForm=function(e){a.setState({showAboutModal:!1})},a.updatePic=function(e,t){var n=null;Object.keys(a.state.userIdAndNames).map((function(e,t){e===a.state.currentUserId&&(n=t)})),null!==n&&(a.state.userPicsArray[n]=t),a.state.userIdAndNames[a.state.currentUserId]=e,a.setState({currentUserPicUrl:t,currentUserName:e})},a.changeUser=function(e,t,n){a.setState({currentUserPicUrl:a.state.userPicsArray[t],currentUserName:n,currentUserId:e,showAboutModal:!1},(function(){a.grabFireBaseRoutinesGoalsData(),a.updateEventsArray()}))},a.showDayViewOrAboutView=function(){return a.state.dayEventSelected?a.eventFormAbstracted():a.state.showAboutModal?o.a.createElement(ce,{CameBackFalse:a.hideAboutForm,updateProfilePic:a.updatePic,theCurrentUserId:a.state.currentUserId}):void 0},a.showCalendarView=function(){return"Month"===a.state.calendarView?a.calendarAbstracted():"Day"===a.state.calendarView?a.dayViewAbstracted():"Week"===a.state.calendarView?a.weekViewAbstracted():void 0},a.googleLogIn=function(){x.a.get("/auth-url").then((function(e){console.log(e),window.location.href="https://memoryni.herokuapp.com/main"})).catch((function(e){console.log("Error Occurred "+e)}))},a.dayViewAbstracted=function(){return o.a.createElement("div",{style:{borderRadius:"20px",backgroundColor:"white",width:"100%",marginLeft:"10px",padding:"20px",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)"}},o.a.createElement(w.a,null,o.a.createElement(D.a,{style:{marginTop:"0px"}},o.a.createElement(S.a,null,o.a.createElement("div",null,o.a.createElement(V.a,{style:{marginLeft:"50%"},icon:Y.a,size:"2x",className:"X",onClick:function(e){a.prevDay()}}))),o.a.createElement(S.a,{md:"auto",style:{textAlign:"center"},className:"bigfancytext"},o.a.createElement("p",null," ",a.state.dateContext.format("dddd")," ",a.getDay()," ",a.getMonth()," ",a.getYear()," ")),o.a.createElement(S.a,null,o.a.createElement(V.a,{style:{marginLeft:"50%"},icon:Y.b,size:"2x",className:"X",onClick:function(e){a.nextDay()}})))),o.a.createElement(D.a,null,o.a.createElement(oe,{dateContext:a.state.dateContext,eventClickDayView:a.handleDayEventClick,handleDateClick:a.handleDateClickOnDayView,dayEvents:a.state.dayEvents,getEventsByInterval:a.getEventsByIntervalDayVersion}),o.a.createElement(ae,{routines:a.state.routines,dayRoutineClick:a.toggleShowRoutine}),o.a.createElement(ne,{goals:a.state.goals,dayGoalClick:a.toggleShowGoal})))},a.weekViewAbstracted=function(){var e=a.state.dateContext.clone().startOf("week");return o.a.createElement("div",{style:{borderRadius:"20px",backgroundColor:"white",width:"100%",marginLeft:"10px",padding:"20px",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)"}},o.a.createElement(w.a,null,o.a.createElement(w.a,null,o.a.createElement(D.a,{style:{marginTop:"0px"}},o.a.createElement(S.a,null,o.a.createElement("div",null,o.a.createElement(V.a,{style:{marginLeft:"50%"},icon:Y.a,size:"2x",className:"X",onClick:function(e){a.prevWeek()}}))),o.a.createElement(S.a,{md:"auto",style:{textAlign:"center"},className:"bigfancytext"},o.a.createElement("p",null," Week of ",e.format("D MMMM YYYY")," ")),o.a.createElement(S.a,null,o.a.createElement(V.a,{style:{marginLeft:"50%"},icon:Y.b,size:"2x",className:"X",onClick:function(e){a.nextWeek()}})))),o.a.createElement(D.a,null,o.a.createElement(re,{weekEvents:a.state.weekEvents,dateContext:a.state.dateContext,eventClick:a.handleWeekEventClick,onDayClick:a.handleDateClickOnWeekView})),o.a.createElement(D.a,null,o.a.createElement(le,{goals:a.state.goals})),o.a.createElement(D.a,null,o.a.createElement(ie,{routines:a.state.routines}))))},a.toggleShowRoutine=function(){a.setState({showRoutineModal:!a.state.showRoutineModal,showGoalModal:!1,showRoutineGoalModal:!1})},a.toggleShowGoal=function(){a.setState({showGoalModal:!a.state.showGoalModal,showRoutineModal:!1,showRoutineGoalModal:!1})},a.showEventsFormbyCreateNewEventButton=function(){var e,t;"Month"===a.state.calendarView?((e=new Date).setHours(0,0,0,0),(t=new Date).setHours(23,59,59,59)):"Day"===a.state.calendarView&&((e=new Date(a.state.dateContext.toDate())).setHours(0,0,0,0),(t=new Date(a.state.dateContext.toDate())).setHours(23,59,59,59)),a.setState({newEventID:"",newEventStart0:e,newEventEnd0:t,newEventName:"",newEventGuests:"",newEventLocation:"",newEventDescription:"",dayEventSelected:!0,isEvent:!1})},a.changeCalendarView=function(e){a.setState({calendarView:e},a.updateEventsArray)},a.abstractedMainEventGRShowButtons=function(){return o.a.createElement(D.a,{style:{display:"block",textAlign:"center",fontSize:"20px",paddingRight:"170px"}},o.a.createElement("div",{style:{display:"inline-block",margin:"10px",marginBottom:"0",marginTop:"10px"}},o.a.createElement(T.a,{style:{top:"5px"},title:a.state.calendarView},o.a.createElement(C.a.Item,{onClick:function(e){a.changeCalendarView("Day")}}," ","Day"," "),o.a.createElement(C.a.Item,{onClick:function(e){a.changeCalendarView("Week")}}," ","Week"," "),o.a.createElement(C.a.Item,{onClick:function(e){a.changeCalendarView("Month")}}," ","Month"," "))),o.a.createElement(k.a,{style:{display:"inline-block",margin:"10px",marginBottom:"0"},variant:"outline-primary",onClick:function(){a.setState({dateContext:G()()},a.updateEventsArray)}},"Today"),o.a.createElement(k.a,{style:{display:"inline-block",margin:"10px",marginBottom:"0"},variant:"outline-primary",onClick:function(){a.setState({showAboutModal:!1},(function(){a.showEventsFormbyCreateNewEventButton()}))}},"New Event"),o.a.createElement(k.a,{style:{display:"inline-block",margin:"10px",marginBottom:"0"},variant:"outline-primary",onClick:a.toggleShowRoutine},"Routines"),o.a.createElement(k.a,{style:{display:"inline-block",margin:"10px",marginBottom:"0"},variant:"outline-primary",onClick:a.toggleShowGoal}," ","Goals"," "),o.a.createElement(k.a,{style:{display:"inline-block",margin:"10px",marginBottom:"0"},variant:"outline-primary",onClick:function(){a.setState({showRoutineGoalModal:!a.state.showRoutineGoalModal,showGoalModal:!1,showRoutineModal:!1})}},"Current Status"),o.a.createElement(k.a,{style:{display:"inline-block",margin:"10px",marginBottom:"0"},variant:"outline-primary",onClick:function(){a.setState({showAboutModal:!a.state.showAboutModal,dayEventSelected:!1})}},"About"))},a.calendarAbstracted=function(){return o.a.createElement("div",{style:{borderRadius:"2%",backgroundColor:"white",width:"1000px",padding:"45px",paddingBottom:"10px",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)"}},o.a.createElement("div",null,o.a.createElement(D.a,{style:{marginTop:"0px"}},o.a.createElement(S.a,null,o.a.createElement("div",null,o.a.createElement(V.a,{style:{marginLeft:"50%"},icon:Y.a,size:"2x",className:"X",onClick:function(e){a.prevMonth()}}))),o.a.createElement(S.a,{style:{textAlign:"center"},className:"bigfancytext"},o.a.createElement("p",null,a.getMonth()," ",a.getYear())),o.a.createElement(S.a,null,o.a.createElement(V.a,{style:{marginLeft:"50%"},icon:Y.b,size:"2x",className:"X",onClick:function(e){a.nextMonth()}})))),o.a.createElement(te,{eventClick:a.handleEventClick,handleDateClick:a.handleDateClick,handleExpandClick:a.handleExpandClick,originalEvents:a.state.originalEvents,dateObject:a.state.todayDateObject,today:a.state.today,dateContext:a.state.dateContext}))},a.eventFormAbstracted=function(){return o.a.createElement(I.a.Dialog,{style:{borderRadius:"15px",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)",marginLeft:"35px",width:"350px",marginTop:"0"}},o.a.createElement(I.a.Header,{closeButton:!0,onHide:function(){a.setState({dayEventSelected:!1,repeatOptionDropDown:"Does not repeat"})}},o.a.createElement(I.a.Title,null,o.a.createElement("h5",{className:"normalfancytext"},"Event Form")," ")),o.a.createElement(I.a.Body,null,a.state.showRepeatModal&&a.repeatModal(),a.state.showDeleteRecurringModal&&a.deleteRecurringModal(),a.state.showEditRecurringModal&&a.editRecurringModal(),a.eventFormInputArea()),o.a.createElement(I.a.Footer,null,o.a.createElement(w.a,{fluid:!0},o.a.createElement(D.a,null,o.a.createElement(S.a,{style:{float:"right",marginBottom:"10px"}},o.a.createElement(k.a,{variant:"outline-primary",onClick:function(){a.openRepeatModal(),console.log("repeating",a.state.newEventStart0)}},"Repeating Options"))),o.a.createElement(D.a,null,o.a.createElement(S.a,{style:a.state.isEvent?{display:"none"}:{},xs:4},o.a.createElement(k.a,{onClick:a.handleSubmit,variant:"info",type:"submit"},"Submit")),o.a.createElement(S.a,{style:a.state.isEvent?{marginTop:"0px"}:{display:"none"},xs:4},o.a.createElement(k.a,{onClick:function(e){return a.state.newEventRecurringID?a.openEditRecurringModal():a.updateEventClick(e)},className:"btn btn-info"},"Update")),o.a.createElement(S.a,{xs:4},o.a.createElement(k.a,{variant:"secondary",onClick:a.hideEventForm},"Cancel")),o.a.createElement(S.a,{xs:4},o.a.createElement(k.a,{style:a.state.isEvent?{}:{display:"none"},variant:"danger",onClick:function(){return a.state.newEventRecurringID?a.openDeleteRecurringModal():a.deleteSubmit()}}," ","Delete"))))))},a.repeatModal=function(){for(var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t=(new Date,{padding:"8px 5px 8px 15px",marginLeft:"8px",background:"#F8F9FA",border:"none",width:"70px",borderRadius:"4px",marginRight:"8px"}),n=function(t,n){var o=t.target.classList;if(o.contains("selected")){o.remove("selected");var r=Object(y.a)({},a.state.byDay_temp,Object(v.a)({},n,""));a.setState({byDay_temp:r})}else{o.add("selected");var i=Object(y.a)({},a.state.byDay_temp,Object(v.a)({},n,e[n]));a.setState({byDay_temp:i})}},r=[],i=0,l=Object.entries(a.state.byDay_temp);i<l.length;i++){var s=Object(g.a)(l[i],2),c=s[0];""!==s[1]&&r.push(c)}var p=o.a.createElement(o.a.Fragment,null,"Repeat On",o.a.createElement("div",{style:{display:"flex",alignItems:"center",textAlign:"center",marginTop:"10px"}},e.map((function(e,t){return r.includes(t.toString())?o.a.createElement("span",{key:t,className:"dot selected",onClick:function(e){return n(e,t)}},e.charAt(0)):o.a.createElement("span",{key:t,className:"dot",onClick:function(e){return n(e,t)}},e.charAt(0))}))));return o.a.createElement(I.a.Dialog,{style:{position:"absolute",zIndex:"5",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"400px"}},o.a.createElement(I.a.Header,{closeButton:!0,onHide:a.closeRepeatModal},o.a.createElement(I.a.Title,null,o.a.createElement("h5",{className:"normalfancytext"},"Repeating Options test"))),o.a.createElement(I.a.Body,null,o.a.createElement(O.a,null,o.a.createElement(O.a.Group,{style:{display:"flex",alignItems:"center",marginLeft:"5px"}},"Repeat every",o.a.createElement("input",{type:"number",min:"1",max:"10000",value:a.state.repeatInputValue_temp,style:t,onChange:function(e){return a.handleRepeatInputValue(e.target.value)}}),o.a.createElement(T.a,{title:a.state.repeatDropDown_temp,style:{display:"inline-block"},variant:"light"},o.a.createElement(C.a.Item,{eventKey:"DAY",onSelect:function(e){return a.handleRepeatDropDown(e)}},"day"),o.a.createElement(C.a.Item,{eventKey:"WEEK",onSelect:function(t){return a.handleRepeatDropDown(t,e)}},"week"),o.a.createElement(C.a.Item,{eventKey:"MONTH",onSelect:function(e){return a.handleRepeatDropDown(e)}},"month"),o.a.createElement(C.a.Item,{eventKey:"YEAR",onSelect:function(e){return a.handleRepeatDropDown(e)}},"year"))),o.a.createElement(O.a.Group,{style:{marginLeft:"5px"}},"WEEK"===a.state.repeatDropDown_temp&&p),o.a.createElement(O.a.Group,{style:{height:"140px",display:"flex",flexDirection:"column",justifyContent:"space-between",marginTop:"20px",marginLeft:"5px"},className:"repeat-form",onChange:function(e){"radio"===e.target.type&&a.setState({repeatRadio_temp:e.target.value})}},"Ends",o.a.createElement(O.a.Check,{type:"radio"},o.a.createElement(O.a.Check.Label,{style:{marginLeft:"5px"}},o.a.createElement(O.a.Check.Input,{type:"radio",value:"Never",name:"radios",defaultChecked:"Never"===a.state.repeatRadio_temp&&!0}),"Never")),o.a.createElement(O.a.Check,{type:"radio"},o.a.createElement(O.a.Check.Label,{style:{marginLeft:"5px"}},o.a.createElement(O.a.Check.Input,{type:"radio",name:"radios",value:"On",style:{marginTop:"10px"},defaultChecked:"On"===a.state.repeatRadio_temp&&!0}),"Until",o.a.createElement(j.a,{className:"date-picker-btn btn btn-light",selected:a.state.repeatEndDate_temp,onChange:function(e){return a.handleRepeatEndDate(e)}}))),o.a.createElement(O.a.Check,{type:"radio"},o.a.createElement(O.a.Check.Label,{style:{marginLeft:"5px"}},o.a.createElement(O.a.Check.Input,{type:"radio",name:"radios",value:"After",style:{marginTop:"12px"},defaultChecked:"After"===a.state.repeatRadio_temp&&!0}),"After",o.a.createElement("span",{style:{marginLeft:"60px"}},o.a.createElement("input",{type:"number",min:"1",max:"10000",value:a.state.repeatOccurrence_temp,onChange:function(e){return a.handleRepeatOccurrence(e.target.value)},style:t,className:"input-exception"}),"occurrence")))))),o.a.createElement(I.a.Footer,null,o.a.createElement(k.a,{variant:"secondary",onClick:a.closeRepeatModal},"Cancel"),o.a.createElement(k.a,{variant:"primary",onClick:a.saveRepeatChanges},"Save changes")))},a.openEditRecurringModal=function(){console.log("openeditrecurringmodal called"),a.setState((function(e){return{showEditRecurringModal:!e.showEditRecurringModal}}))},a.closeEditRecurringModal=function(){a.setState({showEditRecurringModal:!1})},a.openDeleteRecurringModal=function(){console.log("opendeleterecurringmodal called"),a.setState((function(e){return{showDeleteRecurringModal:!e.showDeleteRecurringModal}}))},a.closeDeleteRecurringModal=function(){a.setState({showDeleteRecurringModal:!1})},a.deleteRecurring=Object(f.a)(E.a.mark((function e(){var t,n,o,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.deleteRecurringOption,o=t.newEventRecurringID,t.newEventStart0,r=t.recurrenceRule,"This event"!==n){e.next=5;break}a.deleteSubmit(),e.next=11;break;case 5:if("This and following events"!==n){e.next=10;break}return e.next=8,x.a.get("/getRecurringEventInstances",{params:{recurringEventId:o}}).then((function(e){if(e.data[0].id===a.state.newEvent.id)x.a.post("/deleteEvent",{ID:o}).then((function(e){a.setState({dayEventSelected:!1,showDeleteRecurringModal:!1}),a.updateEventsArray()})).catch((function(e){console.log(e)}));else{var t={reminders:a.state.newEvent.reminders,creator:a.state.newEvent.creator,created:a.state.newEvent.created,organizer:a.state.newEvent.organizer,sequence:a.state.newEvent.sequence,status:a.state.newEvent.status},n=a.state.recurrenceRule,i="".concat(G()(a.state.newEventStart0).format("YYYYMMDD")),l="",s=a.state.recurrenceRule.indexOf("COUNT");if(-1!==s&&(l=a.state.recurrenceRule.substring(s)),l.includes(";")){var c=l.indexOf(";");l=l.substring(6,c)}else l&&(l=l.substring(6));var p="",m=r.indexOf("INTERVAL");if(-1!==m&&(p=r.substring(m)),p.includes(";")){var d=p.indexOf(";");p=p.substring(9,d)}else p&&(p=p.substring(9));if(n.includes("UNTIL")){var u="",g=a.state.recurrenceRule.indexOf("UNTIL");if(-1!==g&&(u=a.state.recurrenceRule.substring(g)),u.includes(";")){var h=u.indexOf(";");u=u.substring(6,h)}else u&&(u=u=u.substring(6));console.log(u,i,"untilSubString"),n=n.replace(u,i)}else if(n.includes("COUNT")){G()(e.data[0].start.dateTime);var E=G()(a.state.newEventStart0),f=e.data.filter((function(e,t){return G()(e.start.dateTime).isBefore(E)}));n=n.replace(l,f.length)}else n=n.concat(";UNTIL=".concat(i));t.start=e.data[0].start,t.end=e.data[0].end,t.recurrence=[n],t.summary=e.data[0].summary,x.a.put("/updateEvent",{extra:t,ID:o}).then((function(e){a.setState({dayEventSelected:!1,newEventName:"",newEventStart0:new Date,newEventEnd0:new Date}),a.updateEventsArray()})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)}));case 8:e.next=11;break;case 10:"All events"===n&&x.a.post("/deleteEvent",{ID:o}).then((function(e){a.setState({dayEventSelected:!1,showDeleteRecurringModal:!1}),a.updateEventsArray()})).catch((function(e){console.log(e)}));case 11:case"end":return e.stop()}}),e)}))),a.editRecurringModal=function(){return o.a.createElement(I.a.Dialog,{style:{position:"absolute",left:"50%",zIndex:"5",top:"50%",transform:"translate(-50%, -50%)",width:"400px"}},o.a.createElement(I.a.Header,{closeButton:!0,onHide:a.closeEditRecurringModal},o.a.createElement(I.a.Title,null,o.a.createElement("h5",{className:"normalfancytext"},"Edit Recurring Event"))),o.a.createElement(I.a.Body,{style:{height:"250px",margin:"auto"}},o.a.createElement(O.a,{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"}},o.a.createElement(O.a.Group,{style:{height:"60%",display:"flex",flexDirection:"column",justifyContent:"space-around"},className:"delete-repeat-form",onChange:function(e){"radio"===e.target.type&&a.setState({editRecurringOption:e.target.value})}},a.state.newEvent.summary!==a.state.newEventName&&!a.state.repeatOption&&o.a.createElement(O.a.Check,{type:"radio"},o.a.createElement(O.a.Check.Label,{style:{marginLeft:"5px"}},o.a.createElement(O.a.Check.Input,{type:"radio",value:"This event",name:"radios",defaultChecked:"This event"===a.state.editRecurringOption&&!0}),"This event")),o.a.createElement(O.a.Check,{type:"radio"},o.a.createElement(O.a.Check.Label,{style:{marginLeft:"5px"}},o.a.createElement(O.a.Check.Input,{type:"radio",value:"This and following events",name:"radios",defaultChecked:"This and following events"===a.state.editRecurringOption&&!0}),"This and following events")),o.a.createElement(O.a.Check,{type:"radio"},o.a.createElement(O.a.Check.Label,{style:{marginLeft:"5px"}},o.a.createElement(O.a.Check.Input,{type:"radio",value:"All events",name:"radios",defaultChecked:"All events"===a.state.editRecurringOption&&!0}),"All events"))))),o.a.createElement(I.a.Footer,null,o.a.createElement(k.a,{variant:"secondary",onClick:a.closeEditRecurringModal},"Cancel"),o.a.createElement(k.a,{variant:"primary",onClick:a.updateEventClick},"OK")))},a.deleteRecurringModal=function(){return o.a.createElement(I.a.Dialog,{style:{position:"absolute",left:"50%",zIndex:"5",top:"50%",transform:"translate(-50%, -50%)",width:"400px"}},o.a.createElement(I.a.Header,{closeButton:!0,onHide:a.closeDeleteRecurringModal},o.a.createElement(I.a.Title,null,o.a.createElement("h5",{className:"normalfancytext"},"Delete Recurring Event"))),o.a.createElement(I.a.Body,{style:{height:"250px",margin:"auto"}},o.a.createElement(O.a,{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"}},o.a.createElement(O.a.Group,{style:{height:"60%",display:"flex",flexDirection:"column",justifyContent:"space-around"},className:"delete-repeat-form",onChange:function(e){"radio"===e.target.type&&a.setState({deleteRecurringOption:e.target.value})}},o.a.createElement(O.a.Check,{type:"radio"},o.a.createElement(O.a.Check.Label,{style:{marginLeft:"5px"}},o.a.createElement(O.a.Check.Input,{type:"radio",value:"This event",name:"radios",defaultChecked:"This event"===a.state.deleteRecurringOption&&!0}),"This event")),o.a.createElement(O.a.Check,{type:"radio"},o.a.createElement(O.a.Check.Label,{style:{marginLeft:"5px"}},o.a.createElement(O.a.Check.Input,{type:"radio",value:"This and following events",name:"radios",defaultChecked:"This and following events"===a.state.deleteRecurringOption&&!0}),"This and following events")),o.a.createElement(O.a.Check,{type:"radio"},o.a.createElement(O.a.Check.Label,{style:{marginLeft:"5px"}},o.a.createElement(O.a.Check.Input,{type:"radio",value:"All events",name:"radios",defaultChecked:"All events"===a.state.deleteRecurringOption&&!0}),"All events"))))),o.a.createElement(I.a.Footer,null,o.a.createElement(k.a,{variant:"secondary",onClick:a.closeDeleteRecurringModal},"Cancel"),o.a.createElement(k.a,{variant:"primary",onClick:a.deleteRecurring},"OK")))},a.eventFormInputArea=function(){return o.a.createElement(O.a,null,o.a.createElement(D.a,null,o.a.createElement(S.a,null,o.a.createElement("div",{style:{width:"300px"}},o.a.createElement(O.a.Group,null,o.a.createElement(O.a.Label,null,"Event Name"),o.a.createElement(O.a.Control,{value:a.state.newEventName,onChange:a.handleNameChange,type:"text",placeholder:"Title"}),o.a.createElement("div",{style:{color:"red"}}," ",a.state.showNoTitleError)),o.a.createElement(O.a.Group,{value:a.state.newEventStart0,controlId:"Y"},o.a.createElement(O.a.Label,null,"Start Time")," ",o.a.createElement("br",null),a.startTimePicker()),o.a.createElement(O.a.Group,{value:a.state.newEventEnd0,controlId:"X"},o.a.createElement(O.a.Label,null,"End Time"),o.a.createElement("br",null),a.endTimePicker(),o.a.createElement("div",{style:{color:"red"}}," ",a.state.showDateError)),o.a.createElement(O.a.Group,{style:{display:"flex",flexDirection:"column"}},o.a.createElement(O.a.Label,null,"Repeating Options"),o.a.createElement(T.a,{className:"repeatOptionDropDown",title:a.state.repeatOptionDropDown,variant:"light"},o.a.createElement(C.a.Item,{eventKey:"Does not repeat",onSelect:function(e){return a.setState({repeatOptionDropDown:e,repeatOption:!1})}},"Does not repeat"),o.a.createElement(C.a.Item,{eventKey:"Custom...",onSelect:function(e){a.openRepeatModal()}},"Custom..."))),o.a.createElement(O.a.Group,{value:"Extra Slot"},o.a.createElement(O.a.Label,null,"Guests"),o.a.createElement(O.a.Control,{value:a.state.newEventGuests,onChange:a.handleGuestChange,type:"email",placeholder:"example@gmail.com"})),o.a.createElement(O.a.Group,{controlId:"Location"},o.a.createElement(O.a.Label,null,"Location:"),o.a.createElement(O.a.Control,{value:a.state.newEventLocation,onChange:a.handleLocationChange,type:"text",placeholder:"Location"})),o.a.createElement(O.a.Group,null,o.a.createElement(O.a.Label,null,"Notifications:"),o.a.createElement(D.a,null,o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Control,{type:"number",placeholder:"5",style:{width:"70px",marginTop:".25rem"}})),o.a.createElement(S.a,{xs:8,style:{paddingLeft:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," ","Min Before Start Time"))),o.a.createElement(D.a,{style:{marginTop:"15px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," Caitlin")),o.a.createElement(S.a,{xs:8},o.a.createElement(O.a.Check,{type:"checkbox",style:{paddingLeft:"0px"}},o.a.createElement(O.a.Check.Input,{type:"checkbox",style:{width:"20px",height:"20px"}}),o.a.createElement(O.a.Control,{as:"textarea",rows:"1",type:"text",placeholder:"Enter Message Here",style:{marginLeft:"10px"}})))),o.a.createElement(D.a,{style:{marginTop:"10px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," TA")),o.a.createElement(S.a,{xs:8},o.a.createElement(O.a.Check,{type:"checkbox",style:{paddingLeft:"0px"}},o.a.createElement(O.a.Check.Input,{type:"checkbox",style:{width:"20px",height:"20px"}}),o.a.createElement(O.a.Control,{as:"textarea",rows:"1",type:"text",placeholder:"Enter Message Here",style:{marginLeft:"10px"}})))),o.a.createElement(D.a,{style:{marginTop:"10px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Control,{type:"number",placeholder:"30",style:{width:"70px",marginTop:".25rem"}})),o.a.createElement(S.a,{xs:8,style:{paddingLeft:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," ","Min After Start Time"))),o.a.createElement(D.a,{style:{marginTop:"15px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," Caitlin")),o.a.createElement(S.a,{xs:8},o.a.createElement(O.a.Check,{type:"checkbox",style:{paddingLeft:"0px"}},o.a.createElement(O.a.Check.Input,{type:"checkbox",style:{width:"20px",height:"20px"}}),o.a.createElement(O.a.Control,{as:"textarea",rows:"1",type:"text",placeholder:"Enter Message Here",style:{marginLeft:"10px"}})))),o.a.createElement(D.a,{style:{marginTop:"10px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," TA")),o.a.createElement(S.a,{xs:8},o.a.createElement(O.a.Check,{type:"checkbox",style:{paddingLeft:"0px"}},o.a.createElement(O.a.Check.Input,{type:"checkbox",style:{width:"20px",height:"20px"}}),o.a.createElement(O.a.Control,{as:"textarea",rows:"1",type:"text",placeholder:"Enter Message Here",style:{marginLeft:"10px"}})))),o.a.createElement(D.a,{style:{marginTop:"10px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Control,{type:"number",placeholder:"5",style:{width:"70px",marginTop:".25rem"}})),o.a.createElement(S.a,{xs:8,style:{paddingLeft:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," ","Min After End Time"))),o.a.createElement(D.a,{style:{marginTop:"15px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," Caitlin")),o.a.createElement(S.a,{xs:8},o.a.createElement(O.a.Check,{type:"checkbox",style:{paddingLeft:"0px"}},o.a.createElement(O.a.Check.Input,{type:"checkbox",style:{width:"20px",height:"20px"}}),o.a.createElement(O.a.Control,{as:"textarea",rows:"1",type:"text",placeholder:"Enter Message Here",style:{marginLeft:"10px"}})))),o.a.createElement(D.a,{style:{marginTop:"10px"}},o.a.createElement(S.a,{style:{paddingRight:"0px"}},o.a.createElement(O.a.Text,{style:{fontSize:"65%"}}," TA")),o.a.createElement(S.a,{xs:8},o.a.createElement(O.a.Check,{type:"checkbox",style:{paddingLeft:"0px"}},o.a.createElement(O.a.Check.Input,{type:"checkbox",style:{width:"20px",height:"20px"}}),o.a.createElement(O.a.Control,{as:"textarea",rows:"1",type:"text",placeholder:"Enter Message Here",style:{marginLeft:"10px"}}))))),o.a.createElement(O.a.Group,{controlId:"Description"},o.a.createElement(O.a.Label,null,"Description:"),o.a.createElement(O.a.Control,{as:"textarea",rows:"3",value:a.state.newEventDescription,onChange:a.handleDescriptionChange,type:"text",placeholder:"Description"}))))))},a.startTimePicker=function(){return o.a.createElement(j.a,{className:"form-control",type:"text",selected:a.state.newEventStart0,onChange:function(e){a.setState({newEventStart0:e},(function(){console.log("starttimepicker",a.state.newEventStart0)}))},showTimeSelect:!0,timeIntervals:15,timeCaption:"time",dateFormat:"MMMM d, yyyy h:mm aa"})},a.endTimePicker=function(){return o.a.createElement(j.a,{className:"form-control",type:"text",style:{width:"100%"},selected:a.state.newEventEnd0,onChange:function(e){a.setState({newEventEnd0:e},(function(){console.log(a.state.newEventEnd0)}))},showTimeSelect:!0,timeIntervals:15,timeCaption:"time",dateFormat:"MMMM d, yyyy h:mm aa"})},a.getYear=function(){return a.state.dateContext.format("Y")},a.getMonth=function(){return a.state.dateContext.format("MMMM")},a.getDay=function(){return a.state.dateContext.format("D")},a.hideEventForm=function(e){a.setState({dayEventSelected:!1,repeatOptionDropDown:"Does not repeat"})},a.handleNameChange=function(e){a.setState({newEventName:e.target.value})},a.handleGuestChange=function(e){a.setState({newEventGuests:e.target.value})},a.handleLocationChange=function(e){a.setState({newEventLocation:e.target.value})},a.handleNotificationChange=function(e){a.setState({newEventNotification:e.target.value})},a.handleDescriptionChange=function(e){a.setState({newEventDescription:e.target.value})},a.getEventsByInterval=function(e,t){x.a.get("/getEventsByInterval",{params:{start:e,end:t}}).then((function(e){var t=e.data;a.setState({newEventID:"",newEventName:"",originalEvents:t},(function(){console.log("New Events Arrived",t)}))})).catch((function(e){console.log("Error Occurred "+e)}))},a.getEventsByIntervalDayVersion=function(e,t){x.a.get("/getEventsByInterval",{params:{start:e.toString(),end:t.toString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,name:a.state.currentUserName,id:a.state.currentUserId}}).then((function(e){console.log("what are the events",e.data);var t=e.data;a.setState({dayEvents:t},(function(){console.log("New Events Arrived",t)}))})).catch((function(e){console.log("Error Occurred "+e)}))},a.getEventsByIntervalWeekVersion=function(e,t){x.a.get("/getEventsByInterval",{params:{start:e,end:t,name:a.state.currentUserName,id:a.state.currentUserId}}).then((function(e){var t=e.data;a.setState({weekEvents:t})})).catch((function(e){console.log("Error Occurred "+e)}))},a.state={loaded:!1,loggedIn:!1,originalEvents:[],dayEvents:[],weekEvents:[],originalGoalsAndRoutineArr:[],goals:[],routines:[],showRoutineGoalModal:!1,showGoalModal:!1,showRoutineModal:!1,showAboutModal:!1,dayEventSelected:!1,newEventID:"",newEventRecurringID:"",newEventName:"",newEventGuests:"",newEventLocation:"",newEventNotification:30,newEventDescription:"",newEventStart0:new Date,newEventEnd0:new Date,isEvent:!1,dateContext:G()(),todayDateObject:G()(),calendarView:"Day",showRepeatModal:!1,repeatOption:!1,repeatOptionDropDown:"Does not repeat",repeatDropDown:"DAY",repeatDropDown_temp:"DAY",repeatMonthlyDropDown:"Monthly on day 13",repeatInputValue:"1",repeatInputValue_temp:"1",repeatOccurrence:"1",repeatOccurrence_temp:"1",repeatRadio:"Never",repeatRadio_temp:"Never",repeatEndDate:"",repeatEndDate_temp:"",showNoTitleError:"",showDateError:"",byDay:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},byDay_temp:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},repeatSummary:"",recurrenceRule:"",eventNotifications:{},showDeleteRecurringModal:!1,deleteRecurringOption:"This event",showEditRecurringModal:!1,editRecurringOption:"",currentUserPicUrl:"",currentUserName:"",currentUserId:"",userIdAndNames:{},userPicsArray:[],enableNameDropDown:!1,showNewAccountmodal:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){var e=this;x.a.get("/TALogInStatus").then((function(t){console.log(t.data),e.setState({loaded:!0,loggedIn:t.data}),t.data&&(e.updateStatesByQuery(),e.updateProfileFromFirebase(),e.updateEventsArray())})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;if(this.state.loaded&&!this.state.loggedIn)return o.a.createElement(d.a,{to:"/"});var t=!this.state.showRoutineGoalModal&&!this.state.showGoalModal&&!this.state.showRoutineModal;return(o.a.createElement("div",{className:"normalfancytext",style:{marginLeft:"0px",height:"100%",width:"2000px"}},o.a.createElement(k.a,{style:{float:"right",marginTop:"30px",marginRight:"12%"},onClick:this.TALogOut},"Log out"),o.a.createElement("div",{style:{margin:"0",padding:"0",width:"100%"}},o.a.createElement(D.a,null,o.a.createElement(S.a,{xs:3},o.a.createElement(D.a,{style:{margin:"0"},className:"d-flex flex-row"},o.a.createElement("div",{style:{float:"right",width:"80px",height:"70px",marginLeft:"50px",marginTop:"5px"}},""===this.state.currentUserPicUrl?o.a.createElement(V.a,{icon:Y.d,size:"5x",style:{marginLeft:"10px"}}):o.a.createElement("img",{style:{display:"block",width:"100%",height:"70px"},src:this.state.currentUserPicUrl,alt:"Profile"})),o.a.createElement(S.a,null,!1===this.state.enableNameDropDown?o.a.createElement(T.a,{style:{display:"inline-block"},title:"",disabled:!0}):o.a.createElement(T.a,{variant:"outline-primary",title:this.state.currentUserName||"",style:{marginTop:"20px",marginLeft:"10px"}},Object.keys(this.state.userIdAndNames).map((function(t,a){return o.a.createElement(C.a.Item,{key:t,onClick:function(n){e.changeUser(t,a,e.state.userIdAndNames[t])}},e.state.userIdAndNames[t]||"")}))))),o.a.createElement(D.a,{style:{marginLeft:"50px"},className:"d-flex flex-row"},o.a.createElement(k.a,{style:{marginTop:"10px"},onClick:function(t){e.googleLogIn()}},"Create New User"))),o.a.createElement(S.a,{xs:8,style:{paddingLeft:"0px"}},this.state.showNewAccountmodal&&o.a.createElement(pe,{closeModal:this.hideNewAccountForm,newUserAdded:this.theNewUserAdded,userNamesAndId:this.state.userIdAndNames})))),o.a.createElement("div",{style:{margin:"0",padding:"0",width:"100%"}},this.abstractedMainEventGRShowButtons()),o.a.createElement(w.a,{fluid:!0,style:{marginTop:"15px",marginLeft:"0"}},o.a.createElement(D.a,{style:{marginTop:"0"}},""!=this.state.currentUserId&&o.a.createElement(ee,{theCurrentUserID:this.state.currentUserId,grabFireBaseRoutinesGoalsData:this.grabFireBaseRoutinesGoalsData,originalGoalsAndRoutineArr:this.state.originalGoalsAndRoutineArr,goals:this.state.goals,routines:this.state.routines,closeRoutineGoalModal:function(){e.setState({showRoutineGoalModal:!1})},showRoutineGoalModal:this.state.showRoutineGoalModal,closeGoal:function(){e.setState({showGoalModal:!1})},closeRoutine:function(){e.setState({showRoutineModal:!1})},showRoutine:this.state.showRoutineModal,showGoal:this.state.showGoalModal,todayDateObject:this.state.todayDateObject,calendarView:this.state.calendarView,dateContext:this.state.dateContext}),o.a.createElement(S.a,{sm:"auto",md:"auto",lg:"auto",style:t?{marginLeft:"20%"}:{marginLeft:"35px"}},this.showCalendarView(),o.a.createElement("div",null,"V1.3"),o.a.createElement("div",{style:{marginTop:"50px",textAlign:"center"},className:"fancytext"},"Dedicated to Caitlin Little")),o.a.createElement(S.a,null,this.showDayViewOrAboutView())))))}}]),t}(o.a.Component)),de=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).LogInForm=function(){return o.a.createElement(O.a,{as:w.a,style:{width:"600px",margin:"auto",padding:"5px 5px",borderRadius:"15px",boxShadow:"0 16px 28px 0 rgba(0, 0, 0, 0.2), 0 16px 20px 0 rgba(0, 0, 0, 0.19)"}},o.a.createElement("h3",{className:"bigfancytext"},"Sign In"),o.a.createElement(O.a.Group,{as:D.a},o.a.createElement(O.a.Label,{column:!0,sm:"4"},"Email"),o.a.createElement(S.a,{sm:"8"},o.a.createElement(O.a.Control,{type:"text",value:a.state.email,onChange:a.handleEmailChange,placeholder:"example@gmail.com"}))),o.a.createElement(O.a.Group,{as:D.a},o.a.createElement(O.a.Label,{column:!0,sm:"4"},"Password"),o.a.createElement(S.a,{sm:"8"},o.a.createElement(O.a.Control,{type:"password",value:a.state.password,onChange:a.handlePasswordChange}))),o.a.createElement(O.a.Group,{as:D.a},o.a.createElement(S.a,null,o.a.createElement(k.a,{variant:"primary",type:"submit",onClick:a.handleSubmit},"Sign in")),o.a.createElement(S.a,null,o.a.createElement(k.a,{variant:"primary",type:"submit",onClick:a.handleSignUp},"Sign Up"))))},a.handleEmailChange=function(e){a.setState({email:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),console.log(e),x.a.post("/TALogIn",{username:a.state.email,password:a.state.password}).then((function(e){console.log(e.data),!1!==e.data&&a.setState({loggedIn:!0})})).catch((function(e){console.log(e)}))},a.handleSignUp=function(e){a.setState({signUpModal:!0})},a.signUpModal=function(){return o.a.createElement(I.a,{show:a.state.signUpModal,onHide:a.hideSignUp},o.a.createElement(O.a,{as:w.a},o.a.createElement("h3",{className:"bigfancytext formEltMargin"},"Sign Up"),o.a.createElement(O.a.Group,{as:D.a,className:"formEltMargin"},o.a.createElement(O.a.Label,{column:!0,sm:"4"},"Email"),o.a.createElement(S.a,{sm:"8"},o.a.createElement(O.a.Control,{type:"text",placeholder:"example@gmail.com",value:a.state.newEmail,onChange:a.handleNewEmailChange}))),o.a.createElement(O.a.Group,{as:D.a,className:"formEltMargin"},o.a.createElement(O.a.Label,{column:!0,sm:"4"},"Password"),o.a.createElement(S.a,{sm:"8"},o.a.createElement(O.a.Control,{type:"password",value:a.state.newPassword,onChange:a.handleNewPasswordChange}))),o.a.createElement(O.a.Group,{as:D.a,className:"formEltMargin"},o.a.createElement(O.a.Label,{column:!0,sm:"2"},"First Name"),o.a.createElement(S.a,{sm:"4"},o.a.createElement(O.a.Control,{type:"text",placeholder:"John",value:a.state.newFName,onChange:a.handleNewFNameChange})),o.a.createElement(O.a.Label,{column:!0,sm:"2"},"Last Name"),o.a.createElement(S.a,{sm:"4"},o.a.createElement(O.a.Control,{type:"text",placeholder:"Doe",value:a.state.newLName,onChange:a.handleNewLNameChange}))),o.a.createElement(O.a.Group,{as:D.a,className:"formEltMargin"},o.a.createElement(O.a.Label,{column:!0,sm:"4"},"Employer"),o.a.createElement(S.a,{sm:"8"},o.a.createElement(O.a.Control,{type:"text",value:a.state.newEmployer,onChange:a.handleNewEmployerChange}))),o.a.createElement(O.a.Group,{as:D.a,className:"formEltMargin"},o.a.createElement(S.a,null,o.a.createElement(k.a,{variant:"primary",type:"submit",onClick:a.handleSignUpDone},"Sign Up")),o.a.createElement(S.a,null,o.a.createElement(k.a,{variant:"primary",type:"submit",onClick:a.hideSignUp},"Cancel")))))},a.hideSignUp=function(){a.setState({signUpModal:!1,newEmail:"",newPassword:"",newFName:"",newLName:"",newEmployer:"",newClients:[]})},a.handleNewEmailChange=function(e){a.setState({newEmail:e.target.value})},a.handleNewPasswordChange=function(e){a.setState({newPassword:e.target.value})},a.handleNewFNameChange=function(e){a.setState({newFName:e.target.value})},a.handleNewLNameChange=function(e){a.setState({newLName:e.target.value})},a.handleNewEmployerChange=function(e){a.setState({newEmployer:e.target.value})},a.handleSignUpDone=function(){x.a.post("/TASignUp",{username:a.state.newEmail,password:a.state.newPassword,fName:a.state.newFName,lName:a.state.newLName,employer:a.state.newEmployer}).then((function(e){console.log(e.data),a.hideSignUp()})).catch((function(e){console.log(e)}))},a.state={email:"",password:"",loggedIn:!1,signUpModal:!1,newEmail:"",newPassword:"",newFName:"",newLName:"",newEmployer:"",newClients:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.loggedIn?o.a.createElement(d.a,{push:!0,to:"main"}):o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("h2",null,"Welcome to Memory Not Impossible"),o.a.createElement("br",null),this.LogInForm(),this.signUpModal(),o.a.createElement("div",null,"V1.3"))}}]),t}(o.a.Component),ue=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("header",{className:"App-header"},o.a.createElement(d.d,null,o.a.createElement(u.a,null,o.a.createElement(d.b,{exact:!0,path:"/"},o.a.createElement(de,null)),o.a.createElement(d.b,{path:"/main"},o.a.createElement(me,null))))))}}]),t}(n.Component),ge=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function he(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(u.a,null,o.a.createElement(ue,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");ge?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):he(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):he(e)}))}}()}},[[126,1,2]]]);
//# sourceMappingURL=main.4a981b75.chunk.js.map